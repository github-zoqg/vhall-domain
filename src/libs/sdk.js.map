{"version":3,"file":"sdk.js","sources":["../src/loader/loader.js","../src/utils/http.js","../src/store/index.js","../src/entity/roomInfo.js","../node_modules/merge/lib/src/index.js","../src/utils/index.js","../src/request/live.js","../src/request/index.js","../src/module/Base/index.js","../src/module/ChatModule/index.js","../src/module/DocModule/index.js","../src/module/InteractiveModule/index.js","../src/module/PlayerModule/index.js","../src/sdk.js","../src/main.js"],"sourcesContent":["const mountSDK = (src) => {\r\n    return new Promise((resolve) => {\r\n        const node = document.createElement('script')\r\n        document.head.appendChild(node)\r\n\r\n        node.src = src\r\n        node.onload = function () {\r\n            resolve()\r\n        }\r\n    })\r\n}\r\n\r\nexport { mountSDK }","\r\n/**\r\n * ajax请求 jsonp处理\r\n * 1.jsonp 请求格式\r\n *   $fetch({\r\n *      url:'',\r\n *      type: 'GET',\r\n *      jsonp: 'callback',\r\n *      data: {\r\n *        name: 123\r\n *      }\r\n *   })\r\n */\r\n\r\n\r\n\r\nlet BUSE_URL = ''\r\nlet TOKEN = ''\r\nlet LIVETOKEN = ''\r\nlet HEADERS = null\r\n\r\n\r\nfunction setBaseUrl(url) {\r\n    BUSE_URL = url\r\n}\r\nfunction setToken(token, livetoken) {\r\n    console.log(token, livetoken, 888)\r\n    TOKEN = token\r\n    LIVETOKEN = livetoken\r\n}\r\nfunction setRequestHeaders(options) {\r\n    HEADERS = {\r\n        ...options\r\n    }\r\n}\r\n\r\nfunction $fetch(options) {\r\n    // if (process.env.NODE_ENV != 'development') {\r\n    //\r\n    // }\r\n    options.url = BUSE_URL + options.url\r\n    console.log('接口环境', options.url)\r\n\r\n    return new Promise((resolve, reject) => {\r\n        options = options || {}\r\n        if (options.data) {\r\n            if (LIVETOKEN) {\r\n                options.data.live_token = LIVETOKEN\r\n            }\r\n            options.data = formatParams(options.data)\r\n        }\r\n        options.dataType ? jsonp(options, resolve, reject) : json(options, resolve, reject)\r\n    })\r\n}\r\n\r\n// JSON请求\r\nfunction json(params, success, fail) {\r\n    let xhr = null\r\n    // interactToken = sessionStorage.getItem('interact-token') || '',\r\n    // grayId = sessionStorage.getItem('grayId') || '',\r\n    // vhallJSSDKUserInfo = localStorage.getItem('vhallJSSDKUserInfo') ? JSON.parse(localStorage.getItem('vhallJSSDKUserInfo')) : {},\r\n    params.type = (params.type || 'GET').toUpperCase()\r\n\r\n    if (window.XMLHttpRequest) {\r\n        xhr = new XMLHttpRequest()\r\n    } else {\r\n        xhr = new ActiveXObject('Microsoft.XMLHTTP')\r\n    }\r\n\r\n    xhr.onreadystatechange = function () {\r\n        if (xhr.readyState == 4) {\r\n            let status = xhr.status\r\n            if (status >= 200 && status < 300) {\r\n                let response = ''\r\n                let type = xhr.getResponseHeader('Content-type')\r\n\r\n                if (type.indexOf('xml') !== -1 && xhr.responseXML) {\r\n                    response = xhr.responseXML\r\n                } else if (type === 'application/json' || type === 'application/json;charset=UTF-8') {\r\n                    response = JSON.parse(xhr.responseText)\r\n\r\n                } else {\r\n                    response = xhr.responseText\r\n                }\r\n                success && success(response)\r\n            } else {\r\n                fail && fail(status)\r\n            }\r\n        }\r\n    }\r\n\r\n    if (params.type == 'GET') {\r\n        if (params.data) {\r\n            xhr.open(params.type, params.url + '?' + params.data, true)\r\n        } else {\r\n            xhr.open(params.type, params.url, true)\r\n        }\r\n    } else if (params.type == 'POST') {\r\n        xhr.open(params.type, params.url, true)\r\n    }\r\n\r\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')\r\n    if (!LIVETOKEN) {\r\n        TOKEN && xhr.setRequestHeader('token', TOKEN)\r\n    }\r\n    if (HEADERS) {\r\n        Object.getOwnPropertyNames(HEADERS).forEach(item => {\r\n            xhr.setRequestHeader(item, HEADERS[item])\r\n        })\r\n    }\r\n    // if (params.headers && params.headers.activeType == 'new') {\r\n    //     xhr.setRequestHeader('platform', 18)\r\n    //     xhr.setRequestHeader('request-id', uuid())\r\n    //     grayId && xhr.setRequestHeader('gray-id', grayId)\r\n    //     interactToken && xhr.setRequestHeader('interact-token', interactToken)\r\n    //     token && xhr.setRequestHeader('token', token)\r\n    // }\r\n    if (params.type == 'GET') {\r\n        xhr.send(null)\r\n    } else {\r\n        xhr.send(params.data)\r\n    }\r\n}\r\n\r\n// JSONP请求\r\nfunction jsonp(params, success, fail) {\r\n    let callbackName = params.dataType\r\n    params['callback'] = callbackName\r\n\r\n    let script = document.createElement('script')\r\n    script.type = \"text/javascript\"\r\n    script.charset = \"utf-8\"\r\n    document.body.appendChild(script)\r\n\r\n    // 创建回调函数\r\n    window[callbackName] = function (val) {\r\n        document.body.removeChild(script)\r\n        clearTimeout(script.timer)\r\n        window[callbackName] = null\r\n        success && success(val)\r\n    }\r\n    let stemp = random()\r\n    script.src = `${params.url}?${params.data}&_=${1594014089800}`\r\n\r\n    // 超时处理\r\n    if (params.time) {\r\n        script.timer = setTimeout(function () {\r\n            window[callbackName] = null;\r\n            head.removeChild(script);\r\n            fail && fail('请求超时')\r\n        }, parmas.time * 1000);\r\n    }\r\n}\r\n\r\n// 格式化数据\r\nfunction formatParams(data) {\r\n    var arr = []\r\n    if (data) {\r\n        for (let item in data) {\r\n            arr.push(encodeURIComponent(item) + '=' + encodeURIComponent(data[item]))\r\n        }\r\n    }\r\n    return arr.join('&')\r\n}\r\n\r\n// 随机数\r\nfunction random() {\r\n    return Math.floor(Math.random() * 10000 + 500);\r\n}\r\n\r\n\r\nexport default $fetch\r\nexport { setBaseUrl, setToken, setRequestHeaders }","class Store {\r\n    constructor() {\r\n        this.state = {}\r\n    }\r\n\r\n    set(key, value) {\r\n        this.state[key] = value;\r\n    }\r\n\r\n    get(key) {\r\n        return this.state[key]\r\n    }\r\n\r\n}\r\n\r\nconst store = new Store()\r\nexport default store;","const getRoomInfo = (res) => {\r\n    let _data = res.data\r\n    return {\r\n        webinar: {\r\n            type: _data.webinar.type,\r\n            id: _data.webinar.id,\r\n        },\r\n        paasInfo: {\r\n            channel_id: _data.interact.channel_id,\r\n            inav_id: _data.interact.inav_id,\r\n            paas_access_token: _data.interact.paas_access_token,\r\n            paas_app_id: _data.interact.paas_app_id,\r\n            room_id: _data.interact.room_id,\r\n        },\r\n        userInfo: {\r\n            avatar: _data.join_info.avatar,\r\n            is_gag: _data.join_info.is_gag,\r\n            is_kick: _data.join_info.is_kick,\r\n            join_id: _data.join_info.join_id,\r\n            nickname: _data.join_info.nickname,\r\n            role_name: _data.join_info.role_name,\r\n            third_party_user_id: _data.join_info.third_party_user_id,\r\n        },\r\n        reportData: {\r\n            guid: _data.report_data.guid,\r\n            aid: _data.interact.room_id,\r\n            report_extra: _data.report_data.report_extra,\r\n        }\r\n    }\r\n}\r\n\r\nexport { getRoomInfo }","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isPlainObject = exports.clone = exports.recursive = exports.merge = exports.main = void 0;\r\nmodule.exports = exports = main;\r\nexports.default = main;\r\nfunction main() {\r\n    var items = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        items[_i] = arguments[_i];\r\n    }\r\n    return merge.apply(void 0, items);\r\n}\r\nexports.main = main;\r\nmain.clone = clone;\r\nmain.isPlainObject = isPlainObject;\r\nmain.recursive = recursive;\r\nfunction merge() {\r\n    var items = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        items[_i] = arguments[_i];\r\n    }\r\n    return _merge(items[0] === true, false, items);\r\n}\r\nexports.merge = merge;\r\nfunction recursive() {\r\n    var items = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        items[_i] = arguments[_i];\r\n    }\r\n    return _merge(items[0] === true, true, items);\r\n}\r\nexports.recursive = recursive;\r\nfunction clone(input) {\r\n    if (Array.isArray(input)) {\r\n        var output = [];\r\n        for (var index = 0; index < input.length; ++index)\r\n            output.push(clone(input[index]));\r\n        return output;\r\n    }\r\n    else if (isPlainObject(input)) {\r\n        var output = {};\r\n        for (var index in input)\r\n            output[index] = clone(input[index]);\r\n        return output;\r\n    }\r\n    else {\r\n        return input;\r\n    }\r\n}\r\nexports.clone = clone;\r\nfunction isPlainObject(input) {\r\n    return input && typeof input === 'object' && !Array.isArray(input);\r\n}\r\nexports.isPlainObject = isPlainObject;\r\nfunction _recursiveMerge(base, extend) {\r\n    if (!isPlainObject(base))\r\n        return extend;\r\n    for (var key in extend) {\r\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype')\r\n            continue;\r\n        base[key] = (isPlainObject(base[key]) && isPlainObject(extend[key])) ?\r\n            _recursiveMerge(base[key], extend[key]) :\r\n            extend[key];\r\n    }\r\n    return base;\r\n}\r\nfunction _merge(isClone, isRecursive, items) {\r\n    var result;\r\n    if (isClone || !isPlainObject(result = items.shift()))\r\n        result = {};\r\n    for (var index = 0; index < items.length; ++index) {\r\n        var item = items[index];\r\n        if (!isPlainObject(item))\r\n            continue;\r\n        for (var key in item) {\r\n            if (key === '__proto__' || key === 'constructor' || key === 'prototype')\r\n                continue;\r\n            var value = isClone ? clone(item[key]) : item[key];\r\n            result[key] = isRecursive ? _recursiveMerge(result[key], value) : value;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n","import merge from \"merge\";\r\n\r\n/**\r\n * 判断终端类型\r\n *\r\n * @export\r\n * @param {*} target\r\n * @returns\r\n */\r\nfunction isPc(target) {\r\n    let userAgentInfo = navigator.userAgent;\r\n    let Agents = [\r\n        \"Android\",\r\n        \"iPhone\",\r\n        \"SymbianOS\",\r\n        \"Windows Phone\",\r\n        \"iPad\",\r\n        \"iPod\",\r\n    ];\r\n    let flag = true;\r\n    for (let v = 0; v < Agents.length; v++) {\r\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\r\n        flag = false;\r\n        break;\r\n        }\r\n    }\r\n    return flag;\r\n}\r\n\r\nexport { merge, isPc };\r\n","import $http from '@/utils/http.js'\r\nimport store from '@/store/index.js'\r\nimport { merge } from '@/utils/index.js'\r\n\r\n// 发起端初始化\r\nconst initSendLive = params => {\r\n    const retParmams = {\r\n        webinar_id: params.webinarId,\r\n        live_token: params.live_token || '',\r\n        nickname: params.nickname || '',\r\n        email: params.email || '',\r\n        biz_id: params.biz_id || ''\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/live/init',\r\n            type: 'GET',\r\n            data: retParmams\r\n        }).then(res => {\r\n            resolve(res)\r\n        }).catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 观看端初始化（标品）\r\nconst initStandardReceiveLive = params => {\r\n    const retParmams = {\r\n        webinar_id: params.webinarId,\r\n        visitor_id: params.visitor_id || '',\r\n        record_id: params.record_id || '',\r\n        refer: params.refer || '',\r\n        biz_id: params.biz_id || ''\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/watch/init',\r\n            type: 'GET',\r\n            data: retParmams\r\n        }).then(res => {\r\n            resolve(res)\r\n        }).catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 观看端初始化（嵌入页）\r\nconst initEmbeddedReceiveLive = params => {\r\n    const retParmams = {\r\n        webinar_id: params.webinarId,\r\n        visitor_id: params.visitor_id || '',\r\n        record_id: params.record_id || '',\r\n        email: params.email || '',\r\n        nickname: params.nickname || '',\r\n        k: params.k || '',\r\n        state: params.state || '',\r\n        refer: params.refer || '',\r\n        sign: params.sign || '',\r\n        ts: params.ts || '',\r\n        biz_id: params.biz_id || ''\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/watch/inline-init',\r\n            type: 'GET',\r\n            data: retParmams\r\n        }).then(res => {\r\n            resolve(res)\r\n        }).catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 观看端初始化（SDK）\r\nconst initSdkReceiveLive = params => {\r\n    const retParmams = {\r\n        webinar_id: params.webinarId,\r\n        record_id: params.record_id || '',\r\n        email: params.email || '',\r\n        nickname: params.nickname || '',\r\n        pass: params.pass || '',\r\n        k: params.k || '',\r\n        refer: params.refer || '',\r\n        qrcode: params.qrcode || '',\r\n        share_id: params.share_id || '',\r\n        visitor_id\t: params.visitor_id || '',\r\n        biz_id: params.biz_id || ''\r\n    }\r\n    \r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/watch/sdk-init',\r\n            type: 'GET',\r\n            data: retParmams\r\n        }).then(res => {\r\n            resolve(res)\r\n        }).catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 开始直播\r\nconst startLive = params => {\r\n    const { webinar = {} } = store.get('roomInitData')\r\n\r\n    const defaultParams = {\r\n        webinar_id: webinar.id\r\n    }\r\n\r\n    const retParmams = merge.recursive({}, defaultParams, params)\r\n\r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/live/start',\r\n            type: 'POST',\r\n            data: retParmams\r\n        })\r\n        .then(res => resolve(res))\r\n        .catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 结束直播\r\nconst endLive = params => {\r\n    const { webinar = {} } = store.get('roomInitData')\r\n\r\n    const defaultParams = {\r\n        webinar_id: webinar.id\r\n    }\r\n\r\n    const retParmams = merge.recursive({}, defaultParams, params)\r\n\r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/live/end',\r\n            type: 'POST',\r\n            data: retParmams\r\n        })\r\n        .then(res => resolve(res))\r\n        .catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 进入直播前检测\r\nconst checkLive = params => {\r\n    const { webinar = {} } = store.get('roomInitData')\r\n\r\n    const defaultParams = {\r\n        webinar_id: webinar.id\r\n    }\r\n\r\n    const retParmams = merge.recursive({}, defaultParams, params)\r\n\r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/live/check',\r\n            type: 'GET',\r\n            data: retParmams\r\n        })\r\n        .then(res => resolve(res))\r\n        .catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 获取聊天服务链接参数\r\nconst getChatInitOptions = params => {\r\n    const { webinar = {} } = store.get('roomInitData')\r\n\r\n    const defaultParams = {\r\n        webinar_id: webinar.id\r\n    }\r\n\r\n    const retParmams = merge.recursive({}, defaultParams, params)\r\n    \r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/live/get-connect',\r\n            type: 'GET',\r\n            data: retParmams\r\n        })\r\n        .then(res => resolve(res))\r\n        .catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 心跳检测\r\nconst liveHeartBeat = params => {\r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/live/heartbeat',\r\n            type: 'GET',\r\n            data: params\r\n        })\r\n        .then(res => resolve(res))\r\n        .catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 获取live_token\r\nconst getLiveToken = params => {\r\n    const { webinar = {} } = store.get('roomInitData')\r\n\r\n    const defaultParams = {\r\n        webinar_id: webinar.id\r\n    }\r\n\r\n    const retParmams = merge.recursive({}, defaultParams, params)\r\n\r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/live/get-live-token',\r\n            type: 'GET',\r\n            data: retParmams\r\n        })\r\n        .then(res => resolve(res))\r\n        .catch(e => reject(e))\r\n    })\r\n}\r\n\r\n// 获取推流地址\r\nconst getStreamPushAddress = params => {\r\n    const { webinar = {} } = store.get('roomInitData')\r\n\r\n    const defaultParams = {\r\n        webinar_id: webinar.id\r\n    }\r\n\r\n    const retParmams = merge.recursive({}, defaultParams, params)\r\n\r\n    return new Promise((resolve, reject) => {\r\n        $http({\r\n            url: '/v3/webinars/live/get-stream-push-address',\r\n            type: 'GET',\r\n            data: retParmams\r\n        })\r\n        .then(res => resolve(res))\r\n        .catch(e => reject(e))\r\n    })\r\n}\r\n\r\nconst live = {\r\n    initSendLive,\r\n    initStandardReceiveLive,\r\n    initEmbeddedReceiveLive,\r\n    initSdkReceiveLive,\r\n    startLive,\r\n    endLive,\r\n    checkLive,\r\n    getChatInitOptions,\r\n    liveHeartBeat,\r\n    getLiveToken,\r\n    getStreamPushAddress\r\n}\r\n\r\nexport default live;","import live from './live.js'\r\nclass RequestApi {\r\n    constructor() {\r\n        this.live = live\r\n    }\r\n}\r\n\r\nconst requestApi = new RequestApi()\r\nexport default requestApi","class BaseModule {\r\n    constructor() { }\r\n\r\n    handlers = {};\r\n\r\n    // 事件添加方法，参数有事件名和事件方法\r\n    $on(type, handler) {\r\n        // 首先判断handlers内有没有type事件容器，没有则创建一个新数组容器\r\n        if (!(type in this.handlers)) {\r\n            this.handlers[type] = []\r\n        }\r\n        // 将事件存入\r\n        this.handlers[type].push(handler)\r\n    }\r\n\r\n    // 触发事件两个参数（事件名，参数）\r\n    $emit(type, ...params) {\r\n        // 若没有注册该事件则抛出错误\r\n        if (!(type in this.handlers)) {\r\n            return new Error('未注册该事件')\r\n        }\r\n        // 便利触发\r\n        this.handlers[type].forEach(handler => {\r\n            handler(...params)\r\n        })\r\n    }\r\n\r\n    // 事件移除参数（事件名，删除的事件，若无第二个参数则删除该事件的订阅和发布）\r\n    $off(type, handler) {\r\n        // 无效事件抛出\r\n        if (!(type in this.handlers)) {\r\n            return new Error('无效事件')\r\n        }\r\n        if (!handler) {\r\n            // 直接移除事件\r\n            delete this.handlers[type]\r\n        } else {\r\n            const idx = this.handlers[type].findIndex(ele => ele === handler)\r\n            // 抛出异常事件\r\n            if (idx === undefined) {\r\n                return new Error('无该绑定事件')\r\n            }\r\n            // 移除事件\r\n            this.handlers[type].splice(idx, 1)\r\n            if (this.handlers[type].length === 0) {\r\n                delete this.handlers[type]\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default BaseModule;","import BaseModule from '../Base'\r\nimport { merge, isPc } from '@/utils/index.js'\r\nimport store from '@/store/index.js'\r\n\r\nexport default class ChatModule extends BaseModule {\r\n    constructor() {\r\n        super()\r\n    }\r\n\r\n    /**\r\n     * 初始化聊天 SDK\r\n     * @param {Object} customOptions 用户自定义参数\r\n     */\r\n    init(customOptions = {}) {\r\n        const defaultOptions = this.initDefaultOptions()\r\n\r\n        const options = merge.recursive({}, defaultOptions, customOptions)\r\n\r\n        return new Promise((resolve, reject) => {\r\n            VhallChat.createInstance(options, (event) => {\r\n                this.instance = event.message\r\n                this.listenEvents();\r\n                resolve(event)\r\n            }, reject)\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 销毁聊天实例\r\n     */\r\n    destroy() {\r\n        this.instance.destroy()\r\n        this.instance = null\r\n    }\r\n\r\n    /**\r\n     * 获取实例化聊天的默认参数\r\n     * @returns {Object} defaultOptions 默认参数\r\n     */\r\n    initDefaultOptions() {\r\n        const isPcClient = isPc()\r\n\r\n        const { paasInfo, userInfo } = store.get('roomInitData')\r\n\r\n        const defaultContext = {\r\n            nick_name: userInfo.nickname,\r\n            avatar: userInfo.avatar,\r\n            role_name: userInfo.role_name,\r\n            device_type: isPcClient ? '2' : '1', // 设备类型 1手机端 2PC 0未检测\r\n            device_status: '0', // 设备状态  0未检测 1可以上麦 2不可以上麦\r\n            is_banned: userInfo.is_gag, // 是否禁言 1是 0否\r\n            watch_type: isPcClient ? '1' : '2', // 1 pc  2 h5  3 app  4 是客户端\r\n            is_kick: userInfo.is_kick\r\n        }\r\n\r\n        const defaultOptions = {\r\n            context: defaultContext,\r\n            appId: paasInfo.paas_app_id,\r\n            accountId: userInfo.third_party_user_id,\r\n            channelId: paasInfo.channel_id,\r\n            token: paasInfo.paas_access_token,\r\n            hide: false, // 是否隐身\r\n        }\r\n\r\n        return defaultOptions\r\n    }\r\n\r\n    /**\r\n     * 注册聊天事件\r\n     */\r\n    listenEvents() {\r\n        this.instance.onRoomMsg((msg) => { // 房间消息（不对外）\r\n            this.$emit('ROOM_MSG', msg)\r\n        })\r\n        this.instance.onChat((msg) => { // 聊天消息\r\n            this.$emit('CHAT', msg)\r\n        });\r\n        this.instance.onCustomMsg((msg) => { // 自定义消息\r\n            this.$emit('CUSTOM_MSG', msg)\r\n        });\r\n        this.instance.onOffLine(() => { // 连接断开\r\n            this.$emit('OFFLINE')\r\n        });\r\n        this.instance.onOnLine(() => { // 连接连接上了\r\n            this.$emit('ONLINE')\r\n        });\r\n        this.instance.onDocMsg((msg) => { // 文档消息（不对外）\r\n            this.$emit('DOC_MSG')\r\n        });\r\n        this.instance.join((msg) => { // 用户加入\r\n            this.$emit('JOIN', msg)\r\n        });\r\n        this.instance.leave((msg) => { // 用户离开\r\n            this.$emit('LEFT', msg)\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 发送聊天消息\r\n     * @param {String} data 消息体\r\n     * @returns {Promise}\r\n     */\r\n    emitTextChat(data) {\r\n        return new Promise((resolve, reject) => {\r\n            this.instance.emitChat(data, resolve, reject)\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 发送自定义消息\r\n     * @param {String} data 消息体\r\n     * @returns {Promise}\r\n     */\r\n    emitCustomChat(data) {\r\n        return this.instance.emitCustomMsg(data)\r\n    }\r\n\r\n    /**\r\n     * 发送文档消息（不对外）\r\n     * @param {Object} data 消息体\r\n     * @returns {Promise}\r\n     */\r\n     emitDocMsg(data) {\r\n        return this.instance.emitDocMsg(data)\r\n    }\r\n\r\n    /**\r\n     * 发送房间消息（不对外）\r\n     * @param {Object} data 消息体\r\n     * @returns {Promise}\r\n     */\r\n    emitRoomMsg(data) {\r\n        const retData = JSON.stringify(data)\r\n        return this.instance.emitRoomMsg(retData)\r\n    }\r\n\r\n    /**\r\n     * 获取用户列表信息\r\n     * @param {Object} params 分页参数\r\n     * @returns {Promise}\r\n     */\r\n     getUserListInfo(params) {\r\n\r\n        const defaultParams = {\r\n            currPage: 1,\r\n            pageSize: 10\r\n        }\r\n\r\n        const retParams = merge.recursive({}, defaultParams, params)\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this.instance.getUserListInfo(retParams, resolve, reject)\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 禁言某个用户\r\n     * @param {Object} accountId 用户 id \r\n     * @returns {Promise}\r\n     */\r\n    setUserDisable(accountId) {\r\n        return new Peomise((resolve, reject) => {\r\n            let param = {\r\n                type: VhallChat.TYPE_DISABLE,\r\n                targetId: accountId\r\n            }\r\n            chat.setDisable(param , resolve , reject);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 取消禁言某个用户\r\n     * @param {Object} accountId 用户 id \r\n     * @returns {Promise}\r\n     */\r\n     setUserPermit(accountId) {\r\n        return new Peomise((resolve, reject) => {\r\n            let param = {\r\n                type: VhallChat.TYPE_PERMIT,\r\n                targetId: accountId\r\n            }\r\n            chat.setDisable(param , resolve , reject);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 禁言频道\r\n     * @returns {Promise}\r\n     */\r\n    setChannelDisable() {\r\n        return new Peomise((resolve, reject) => {\r\n            let param = {\r\n                type: VhallChat.TYPE_DISABLE_ALL\r\n            }\r\n            chat.setDisable(param , resolve , reject);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 取消禁言频道\r\n     * @returns {Promise}\r\n     */\r\n     setChannelPermit() {\r\n        return new Peomise((resolve, reject) => {\r\n            let param = {\r\n                type: VhallChat.TYPE_PERMIT_ALL\r\n            }\r\n            chat.setDisable(param , resolve , reject);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 获取历史聊天消息\r\n     * @returns {Promise}\r\n     */\r\n    getHistoryList(params) {\r\n        const defaultParams = {\r\n            currPage: 1,\r\n            pageSize: 200\r\n        }\r\n\r\n        const retParams = merge.recursive({}, defaultParams, params)\r\n        return new Promise((resolve, reject) => {\r\n            this.instance.getHistoryList(retParams, resolve, reject)\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 获取房间在线信息\r\n     * @param {Object} params 分页参数\r\n     * @returns {Promise}\r\n     */\r\n     getOnlineInfo(params) {\r\n\r\n        const defaultParams = {\r\n            currPage: 1,\r\n            pageSize: 200\r\n        }\r\n\r\n        const retParams = merge.recursive({}, defaultParams, params)\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this.instance.getOnlineInfo(retParams, resolve, reject)\r\n        })\r\n    }\r\n}","import BaseModule from '../Base'\r\nimport { merge,isPc } from '@/utils/index.js'\r\nimport store from '@/store/index.js'\r\n\r\n\r\nexport default class DocModule extends BaseModule {\r\n    constructor() {\r\n        this.instance = null;\r\n        this.children = []\r\n    }\r\n\r\n    init(customOptions = {}, successCb = () => { }, failCb = () => { }) {\r\n        const defaultOptions = this.initDefaultOptions()\r\n\r\n        const options = merge.recursive({}, defaultOptions, customOptions)\r\n\r\n        const onSuccess = () => {\r\n            console.log('saasSDK文档初始化成功')\r\n            this.$emit(CONST_VAL.DOC_SDK_READ, this.instance)\r\n        }\r\n\r\n        const onFail = () => {\r\n            console.error('saasSDK文档初始化失败', failed.msg)\r\n            this.$emit(CONST_VAL.DOC_SDK_ERROR, failed.msg)\r\n        }\r\n\r\n        this.instance = VHDocSDK.createInstance(options, onSuccess, onFail)\r\n        this.listenEvents()\r\n    }\r\n\r\n    initDefaultOptions() {\r\n        const isPcClient = isPc()\r\n\r\n        const { paasInfo, userInfo } = store.get('roomInitData')\r\n\r\n\r\n        const defaultOptions = {\r\n            accountId: userInfo.third_party_user_id,\r\n            roomId: paasInfo.room_id,\r\n            channelId: paasInfo.channel_id, // 频道id 必须\r\n            appId: paasInfo.paas_app_id, // appId 必须\r\n            role: userInfo.role_name, // 角色 必须\r\n            isVod: false, // 是否是回放 必须\r\n            client: window.VHDocSDK.Client.PC_WEB, // 客户端类型\r\n            token: this.token,\r\n        }\r\n\r\n        return defaultOptions;\r\n    }\r\n\r\n    listenEvents() {\r\n        // 创建容器事件\r\n        this.instance.on(VHDocSDK.Event.CREATE_CONTAINER, (data) => {\r\n        })\r\n\r\n        // 选择容器\r\n        this.instance.on(VHDocSDK.Event.SELECT_CONTAINER, (data) => {\r\n        })\r\n\r\n        // 当前文档加载完成\r\n        this.instance.on(VHDocSDK.Event.DOCUMENT_LOAD_COMPLETE, (data) => {\r\n\r\n        })\r\n\r\n        // 开关变换\r\n        this.instance.on(VHDocSDK.Event.SWITCH_CHANGE, (status) => {\r\n            this.$emit('SWITCH_CHANGE', status)\r\n        })\r\n\r\n        // 删除容器时候触发的事件\r\n        this.instance.on(VHDocSDK.Event.DELETE_CONTAINER, (data) => {\r\n            this.$emit('DELETE_CONTAINER')\r\n        })\r\n\r\n        // 所有的文档准备完成\r\n        this.instance.on(VHDocSDK.Event.ALL_COMPLETE, () => {\r\n            this.$emit('ALL_COMPLETE')\r\n        })\r\n\r\n        // 正在演示的文档被删除(文档不存在)\r\n        this.instance.on(VHDocSDK.Event.DOCUMENT_NOT_EXIT, ({ cid, docId }) => {\r\n            this.$emit('DOCUMENT_NOT_EXIT', { cid, docId })\r\n        })\r\n\r\n        // 翻页事件\r\n        this.instance.on(VHDocSDK.Event.PAGE_CHANGE, event => {\r\n            this.$emit('PAGE_CHANGE\b', event)\r\n        })\r\n\r\n        // 回放文件加载完成\r\n        this.instance.on(VHDocSDK.Event.VOD_CUEPOINT_LOAD_COMPLETE, event => {\r\n            this.$emit('VOD_CUEPOINT_LOAD_COMPLETE', event)\r\n        })\r\n\r\n        // ppt文档加载完毕\r\n        this.instance.on(VHDocSDK.Event.PLAYBACKCOMPLETE, event => {\r\n            this.$emit('PLAYBACKCOMPLETE', event)\r\n        })\r\n    }\r\n\r\n    destroy() {\r\n        if (!this.instance) return;\r\n        this.instance.destroy()\r\n        this.instance = null\r\n    }\r\n\r\n    createBoard(customOptions) {\r\n        let elId = this.instance.createUUID('board')\r\n        const defaultOptions = {\r\n            elId, // div 容器 必须\r\n            width: 200, // div 宽度，像素单位，数值型不带px 必须\r\n            height: 200, // div 高度，像素单位，数值型不带px 必须\r\n            backgroundColor: 'RGBA', // 背景颜色， 支持RGB 与 RGBA， 如果全透明，舞台背景色与网页背景色相同，如 ‘#FF0000’或 ‘#FF000000’ 必须\r\n            noDispatch: false, // 非必填，默认false，是否推送消息到远端，false为推送，true为不推送，加载远程文档时该字段应为true\r\n            option: { // 非必填，画笔预设选项\r\n                graphicType: VHDocSDK.GRAPHIC.PEN, // 选项请参考画笔预设值,\r\n                stroke: '#000', // 颜色值\r\n                strokeWidth: 4, // 正数 Number\r\n            }\r\n        }\r\n\r\n        const options = merge.recursive({}, defaultOptions, customOptions)\r\n\r\n        let id = this.instance.createBoard(options)\r\n    }\r\n\r\n    creatDocument(customOptions) {\r\n        let elId = sdk.createUUID('document') // 容器id，必须用此方法创建，文档传入document，返回唯一id\r\n        let defaultOptions = {\r\n            id: customOptions.id,\r\n            docId: customOptions.docId,\r\n            elId, // div 容器 必须\r\n            width: 200, // div 宽度，像素单位，数值型不带px 必须\r\n            height: 200, // div 高度，像素单位，数值型不带px 必须，\r\n            docId: 'yyy', // 文档id\r\n            noDispatch: false, // 非必填，默认false，是否推送消息到远端，false为推送，true为不推送，加载远程文档时该字段应为true\r\n            option: { // 非必填，画笔预设选项\r\n                graphicType: VHDocSDK.GRAPHIC.PEN, // 选项请参考画笔预设值,\r\n                stroke: '#000', // 颜色值\r\n                strokeWidth: 4, // 正数 Number\r\n            }\r\n        }\r\n\r\n        const options = merge.recursive({}, defaultOptions, customOptions)\r\n        let id = sdk.createDocument(opts) // 返回promise\r\n    }\r\n\r\n    selectContainer(id) {\r\n        this.instance.selectContainer({ id })\r\n        this.currentCid = id;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {*} child is cid-ret\r\n     */\r\n    addChild(child) {\r\n        this.children.push(child)\r\n    }\r\n\r\n    zoomIn() {\r\n        this.instance.zoomIn()\r\n    }\r\n\r\n    zoomOut() {\r\n        this.instance.zoomOut()\r\n    }\r\n\r\n    zoomReset() {\r\n        this.instance.zoomReset()\r\n    }\r\n\r\n    move() {\r\n        this.instance.move()\r\n    }\r\n\r\n    prevStep() {\r\n        this.instance.prevStep()\r\n    }\r\n\r\n    nextStep() {\r\n        this.instance.nextStep()\r\n    }\r\n}","import BaseModule from '../Base'\r\nimport { merge } from '@/utils/index.js'\r\nimport store from '@/store/index.js';\r\nexport default class InteractiveModule extends BaseModule {\r\n    constructor(customOptions) {\r\n      super(customOptions)\r\n    }\r\n\r\n  /**\r\n   * 初始化互动sdk\r\n   * @param {Object} customOptions \r\n   * @param {*} successCb \r\n   * @param {*} failCb \r\n   * \r\n   */\r\n  init(customOptions = {}, successCb = () => { }, failCb = () => { }) {\r\n    console.log('customoptions', customOptions);\r\n    console.log('store', store);\r\n    const defaultOptions = {\r\n      appId: store.get('roomInitData').paasInfo.paas_app_id, // 互动应用ID，必填\r\n      inavId: store.get('roomInitData').paasInfo.inav_id, // 互动房间ID，必填\r\n      roomId: store.get('roomInitData').paasInfo.room_id, // 如需开启旁路，必填。\r\n      accountId: store.get('roomInitData').userInfo.third_party_user_id, // 第三方用户ID，必填\r\n      token: store.get('roomInitData').paasInfo.paas_access_token, // access_token，必填\r\n      mode: VhallRTC.MODE_RTC, //应用场景模式，选填，可选值参考下文【应用场景类型】。支持版本：2.3.1及以上。\r\n      role: VhallRTC.ROLE_HOST,//用户角色，选填，可选值参考下文【互动参会角色】。当mode为rtc模式时，不需要配置role。支持版本：2.3.1及以上。\r\n      attributes: '',// String 类型\r\n      autoStartBroadcast: store.get('roomInitData').userInfo.role_name == 1, // 是否开启自动旁路 Boolean 类型   主持人默认开启true v2.3.5版本以上可用\r\n      broadcastConfig: store.get('roomInitData').userInfo.role_name == 1 ? {\r\n        layout: customOptions.layout || VhallRTC.CANVAS_LAYOUT_PATTERN_FLOAT_6_5D, // 旁路布局，选填 默认大屏铺满，一行5个悬浮于下面\r\n        profile: customOptions.profile || VhallRTC.BROADCAST_VIDEO_PROFILE_1080P_1, // 旁路直播视频质量参数\r\n        paneAspectRatio: VhallRTC.BROADCAST_PANE_ASPACT_RATIO_16_9, //旁路混流窗格指定高宽比。  v2.3.2及以上\r\n        border: customOptions.border || {\r\n          // 旁路边框属性\r\n          width: 2,\r\n          color: '0x666666'\r\n        }\r\n      } : {},// 自动旁路   开启旁路直播方法所需参数\r\n    }\r\n    const options = merge.recursive({}, defaultOptions, customOptions)\r\n    console.log(\"optionssssssssssssssssssssssssssss\", options);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const onSuccess = (event) => {\r\n        this.instance = event.vhallrtc;\r\n        this.listenEvents();\r\n        console.log('init interactive sdk success:', event)\r\n        successCb(event)\r\n        resolve(event)\r\n      }\r\n\r\n      const onFail = (event) => {\r\n        console.log('fail:', event)\r\n        failCb(event)\r\n        reject(event)\r\n      }\r\n\r\n      VhallRTC.createInstance(options, onSuccess, onFail)\r\n\r\n    })\r\n\r\n  }\r\n\r\n  listenEvents() {\r\n    this.instance.on(VhallRTC.EVENT_REMOTESTREAM_ADD, (e) => {\r\n      // 远端流加入事件\r\n      this.$emit('interactive_REMOTESTREAM_ADD', e)\r\n    });\r\n    this.instance.on(VhallRTC.EVENT_REMOTESTREAM_REMOVED, (e) => {\r\n      // 远端流离开事件\r\n      this.$emit('interactive_REMOTESTREAM_REMOVED', e)\r\n    });\r\n    this.instance.on(VhallRTC.EVENT_ROOM_EXCDISCONNECTED, (e) => {\r\n      // 房间信令异常断开事件\r\n      this.$emit('interactive_ROOM_EXCDISCONNECTED', e)\r\n    });\r\n    this.instance.on(VhallRTC.EVENT_REMOTESTREAM_MUTE, (e) => {\r\n      // 远端流音视频状态改变事件\r\n      this.$emit('interactive_REMOTESTREAM_MUTE', e)\r\n    });\r\n    this.instance.on(VhallRTC.EVENT_REMOTESTREAM_FAILED, (e) => {\r\n      // 本地推流或订阅远端流异常断开事件\r\n      this.$emit('interactive_REMOTESTREAM_FAILED', e)\r\n    });\r\n    this.instance.on(VhallRTC.EVENT_STREAM_END, (e) => {\r\n      // 本地流采集停止事件(处理拔出设备和桌面共享停止时)\r\n      this.$emit('interactive_STREAM_END', e)\r\n    });\r\n    this.instance.on(VhallRTC.EVENT_STREAM_STUNK, (e) => {\r\n      // 本地流视频发送帧率异常事件\r\n      this.$emit('interactive_STREAM_STUNK', e)\r\n    });\r\n    this.instance.on(VhallRTC.EVENT_DEVICE_CHANGE, (e) => {\r\n      // 新增设备或移除设备时触发\r\n      this.$emit('interactive_DEVICE_CHANGE', e)\r\n    });\r\n  }\r\n  /**\r\n   * 销毁互动sdk\r\n   * @returns -- 销毁互动sdk\r\n   */\r\n  destroyInit() {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.destroyInstance(\r\n        {}).then(() => {\r\n          resolve()\r\n          this.instance = null\r\n        }).catch((error) => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 创建本地流\r\n   * @param obt {Object} - sdk init stream base info config\r\n   * @return {Promise} - 创建成功后的promise 回调\r\n   *\r\n   */\r\n  createLocalStream(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.createStream(options)\r\n        .then((data) => {\r\n          resolve(data.streamId)\r\n        }).catch((error) => {\r\n          if (store.get('roomInitData').userInfo.role_name != 1) {\r\n            //上麦人员无法创建本地流上麦，向外抛出信息\r\n            const toSpeakInfo = {\r\n              roleName: store.get('roomInitData').userInfo.role_name,\r\n              accountId: store.get('roomInitData').userInfo.third_party_user_id,\r\n              nickName: store.get('roomInitData').userInfo.nickname,\r\n              ...error\r\n            }\r\n            reject(toSpeakInfo)\r\n          } else {\r\n            reject(error)\r\n          }\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 创建摄像头视频流\r\n   * @param obt {Object} - sdk init stream base info config  videoNode: 容器 audioDevice: 音频的Id videoDevice:视频的设备Id profile:视频推流的质量\r\n   * @return {Promise} - 创建成功后的promise 回调\r\n   *\r\n   */\r\n  createLocalVideoStream(options = {}, addConfig = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let defaultOptions = {\r\n        videoNode: options.videoNode, // 必填，传入本地视频显示容器ID\r\n        audio: true, // 选填，是否采集音频设备，默认为true\r\n        video: true, // 选填，是否采集视频设备，默认为true\r\n        audioDevice: options.audioDevice, // 选填，指定的音频设备id，默认为系统缺省\r\n        videoDevice: options.videoDevice, // 选填，指定的视频设备id，默认为系统缺省\r\n        profile: VhallRTC[options.profile] || VhallRTC.RTC_VIDEO_PROFILE_1080P_16x9_H, // 选填，视频质量参数，可选值参考文档中的[互动流视频质量参数表]\r\n        streamType: 2, //选填，指定互动流类型，当需要自定义类型时可传值。如未传值，则底层自动判断： 0为纯音频，1为纯视频，2为音视频，3为屏幕共享。\r\n        attributes: JSON.stringify({\r\n          roleName: store.get('roomInitData').userInfo.role_name,\r\n          accountId: store.get('roomInitData').userInfo.third_party_user_id,\r\n          nickName: store.get('roomInitData').userInfo.nickname,\r\n        }), //选填，自定义信息，支持字符串类型\r\n      }\r\n      const params = merge.recursive({}, defaultOptions, addConfig)\r\n      console.log('pass params::', params);\r\n      this.instance.createStream(params)\r\n        .then((data) => {\r\n          resolve(data.streamId)\r\n        }).catch((error) => {\r\n          if (store.get('roomInitData').userInfo.role_name != 1) {\r\n            //上麦人员无法创建本地流上麦，向外抛出信息\r\n            const toSpeakInfo = {\r\n              roleName: store.get('roomInfo').roleName,\r\n              accountId: store.get('roomInfo').accountId,\r\n              nickName: store.get('roomInfo').nickName,\r\n              ...error\r\n            }\r\n            reject(toSpeakInfo)\r\n          } else {\r\n            reject(error)\r\n          }\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 创建桌面共享流\r\n   * @param obt {Object} - sdk init stream base info config  videoNode: 容器 speaker: 是否采集扬声器 profile: 视频的质量 addConfig: 扩展配置项\r\n   * @return {Promise} - 创建成功后的promise 回调\r\n   *\r\n   */\r\n  createLocaldesktopStream(options = {}, addConfig = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let defaultOptions = {\r\n        videoNode: options.videoNode, // 必填，传入本地视频显示容器ID\r\n        screen: true,\r\n        speaker: options.speaker || false, // 桌面共享时是否分享桌面音频(如为true，则chrome浏览器弹框左下角将显示“分享音频”选框)，默认为false\r\n        profile: options.profile || VhallRTC.RTC_VIDEO_PROFILE_1080P_16x9_H, // 选填，视频质量参数，可选值参考文档中的[互动流视频质量参数表]\r\n        streamType: 3, //选填，指定互动流类型，当需要自定义类型时可传值。如未传值，则底层自动判断： 0为纯音频，1为纯视频，2为音视频，3为屏幕共享。\r\n        attributes: JSON.stringify({\r\n          roleName: store.get('roomInitData').userInfo.role_name,\r\n          accountId: store.get('roomInitData').userInfo.third_party_user_id,\r\n          nickName: store.get('roomInitData').userInfo.nickname,\r\n        }), //选填，自定义信息，支持字符串类型\r\n      }\r\n      const params = merge.recursive({}, defaultOptions, addConfig)\r\n      this.instance.createStream(params)\r\n        .then((data) => {\r\n          resolve(data.streamId)\r\n        }).catch((error) => {\r\n          if (store.get('roomInitData').userInfo.role_name != 1) {\r\n            //上麦人员无法创建本地流上麦，向外抛出信息\r\n            const toSpeakInfo = {\r\n              roleName: store.get('roomInitData').userInfo.role_name,\r\n              accountId: store.get('roomInitData').userInfo.third_party_user_id,\r\n              nickName: store.get('roomInitData').userInfo.nickname,\r\n              ...error\r\n            }\r\n            reject(toSpeakInfo)\r\n          } else {\r\n            reject(error)\r\n          }\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 创建本地音频流\r\n   * @param obt {Object} - sdk init stream base info config  videoNode: 容器 audioDevice: 音频Id addConfig: 扩展配置项\r\n   * @return {Promise} - 创建成功后的promise 回调\r\n   *\r\n   */\r\n  createLocalAudioStream(options = {}, addConfig = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let defaultOptions = {\r\n        videoNode: options.videoNode, // 必填，传入本地视频显示容器ID\r\n        audio: true, // 选填，是否采集音频设备，默认为true\r\n        video: false, // 选填，是否采集视频设备，默认为true\r\n        audioDevice: options.audioDevice, // 选填，指定的音频设备id，默认为系统缺省\r\n        showControls: false, // 选填，是否开启视频原生控制条，默认为false\r\n        attributes: JSON.stringify({\r\n          account_id: store.get('roomInfo').accountId,\r\n          nick_name: store.get('roomInfo').nickName,\r\n          role_name: store.get('roomInfo').roleName\r\n        }), //选填，自定义信息，支持字符串类型\r\n        streamType: 0, //选填，指定互动流类型，当需要自定义类型时可传值。如未传值，则底层自动判断： 0为纯音频，1为纯视频，2为音视频，3为屏幕共享。\r\n      }\r\n      const params = merge.recursive({}, defaultOptions, addConfig)\r\n      this.instance.createStream(params)\r\n        .then((data) => {\r\n          resolve(data.streamId)\r\n        }).catch((error) => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 创建图片推流\r\n   * @param obt {Object} - sdk init stream base info config  videoNode: 容器 videoTrack: MediaStreamTrack对象,采集图像 addConfig: 扩展配置项\r\n   * @return {Promise} - 创建成功后的promise 回调\r\n   *\r\n   */\r\n  createLocalPhotoStream(options = {}, addConfig = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let defaultOptions = {\r\n        videoNode: options.videoNode, // 传入本地视频显示容器，必填\r\n        audio: true,\r\n        video: true,   //如参会者没有摄像头，则传入false\r\n        videoTrack: options.videoTrack    //MediaStreamTrack对象\r\n      }\r\n      const params = merge.recursive({}, defaultOptions, addConfig)\r\n      this.instance.createStream(params)\r\n        .then((data) => {\r\n          resolve(data.streamId)\r\n        }).catch((error) => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n  /**\r\n   * 销毁本地流\r\n   * @param {String} streamId -- 要销毁的流Id\r\n   * @returns \r\n   */\r\n  destroyStream(streamId = '') {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.destroyStream({ streamId })\r\n        .then(() => {\r\n          resolve()\r\n        }).catch((error) => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 推送本地流到远端\r\n   * @param {Object} options publish stream base info config  streamId：要推的流Id，accountId:用户Id\r\n   * @return {Promise} - 推流成功后的promise 回调\r\n   */\r\n  publishStream(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.publish(\r\n        {\r\n          streamId: options.streamId,\r\n          accountId: options.accountId\r\n        }).then((data) => {\r\n          resolve(data)\r\n        }).catch((errInfo) => {\r\n          reject(errInfo)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 取消推送到远端的流\r\n   * @param {String} streamId 要取消推的流Id\r\n   * @returns {Promise} - 取消推流成功后的promise 回调\r\n  */\r\n  unpublishStream(streamId = '') {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.unpublish({ streamId })\r\n        .then(() => {\r\n          resolve()\r\n        }).catch((error) => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 订阅远端流\r\n   * @param {Object} options -- streamId:订阅的流id videoNode: 页面显示的容器 mute: 远端流的音视频 dual: 大小流 0小流 1大流\r\n   * @returns {Promise} - 订阅成功后的promise 回调\r\n   */\r\n  subscribeStream(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      let defaultOptions = {\r\n        videoNode: options.videoNode, // 传入本地视频显示容器，必填\r\n        streamId: options.streamId,\r\n        mute: {              // 选填，订阅成功后立即mute远端流\r\n          audio: options.mute.audio || false,    // 是否关闭音频，默认false\r\n          video: options.mute.audio || false     // 是否关闭视频，默认false\r\n        },\r\n        dual: options.dual || 1 // 双流订阅选项， 0为小流， 1为大流(默认)\r\n      }\r\n      const params = merge.recursive({}, defaultOptions, addConfig)\r\n      this.instance.subscribe(params)\r\n        .then((data) => {\r\n          resolve(data)\r\n        }).catch((error) => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 取消订阅远端流\r\n   * @param {String} streamId -- 要取消订阅的流Id \r\n   * @returns {Promise} - 取消订阅成功后的promise 回调\r\n   */\r\n  unSubscribeStream(streamId = '') {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.unsubscribe({ streamId })\r\n        .then((data) => {\r\n          resolve(data)\r\n        }).catch((error) => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 设置大小流\r\n   * @param {Object} options streamId: 需要设置的流Id  dual: 0为小流 1为大流\r\n   * @returns {Promise} - 设置订阅大小流成功后的promise回调\r\n   */\r\n  setDual(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      const params = {\r\n        streamId: options.streamId,\r\n        dual: options.dual\r\n      }\r\n      this.instance.setDual(params)\r\n        .then(data => {\r\n          resolve(data)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n  /**\r\n   * 改变视频的禁用和启用\r\n   * @param {Object} options streamId: 对哪一路流进行操作的流Id  isMute: true为禁用，false为启用\r\n   * @returns {Promise} - 改变视频的禁用与开启后的promise 回调\r\n   */\r\n  muteVideo(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      const params = {\r\n        streamId: options.streamId,\r\n        isMute: options.isMute\r\n      }\r\n      this.instance.muteVideo(params)\r\n        .then(data => {\r\n          resolve(data)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n  /**\r\n   * 改变音频的禁用和启用\r\n   * @param {Object} options streamId: 对哪一路流进行操作的流Id isMute: true为禁用，false为启用\r\n   * @returns {Promise} - 改变音频的禁用与开启后的promise 回调\r\n   */\r\n  muteAudio(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      const params = {\r\n        streamId: options.streamId,\r\n        isMute: options.isMute\r\n      }\r\n      this.instance.muteAudio(params)\r\n        .then(data => {\r\n          resolve(data)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n  /**\r\n   * 开启旁路\r\n   * @param {Object} options --  layout: 旁路布局  profile: 旁路直播视频质量参数 paneAspectRatio:旁路混流窗格指定高宽比 border: 旁路边框属性\r\n   * @returns {Promise} - 开启旁路后的promise回调\r\n   */\r\n  startBroadCast(options = {}, addConfig = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      const defaultOptions = {\r\n        layout: options.layout || VhallRTC.CANVAS_LAYOUT_PATTERN_FLOAT_6_5D, // 旁路布局，选填 默认大屏铺满，一行5个悬浮于下面\r\n        profile: options.profile || VhallRTC.BROADCAST_VIDEO_PROFILE_1080P_1, // 旁路直播视频质量参数\r\n        paneAspectRatio: VhallRTC.BROADCAST_PANE_ASPACT_RATIO_16_9, //旁路混流窗格指定高宽比。  v2.3.2及以上\r\n        border: options.border || {\r\n          // 旁路边框属性\r\n          width: 2,\r\n          color: '0x666666'\r\n        }\r\n      }\r\n      const params = merge.recursive({}, defaultOptions, addConfig)\r\n      this.instance.startBroadCast(params)\r\n        .then(() => {\r\n          resolve()\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n  /**\r\n   * 停止旁路\r\n   * @returns {Promise} - 停止旁路后的promise回调\r\n   */\r\n  stopBroadCast() {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.stopBroadCast()\r\n        .then(() => {\r\n          resolve()\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 动态配置指定旁路布局模板\r\n   * @param {Object} options --  layout: 指定旁路布局模板\r\n   * @returns {Promise} - 动态配置指定旁路布局模板的promise回调\r\n   */\r\n  setBroadCastLayout(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.setBroadCastLayout({\r\n        layout: options.layout || VhallRTC.CANVAS_LAYOUT_PATTERN_FLOAT_6_5D\r\n      })\r\n        .then(() => {\r\n          resolve()\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n  \r\n  /**\r\n   * 配置旁路布局自适应模式\r\n   * @param {Object} options --  layout: 指定旁路布局模板\r\n   * @returns {Promise} - 配置旁路布局自适应模式的promise回调\r\n   */\r\n    setBroadCastAdaptiveLayoutMode(options = {}) {\r\n      return new Promise((resolve, reject) => {\r\n        this.instance.setBroadCastAdaptiveLayoutMode({\r\n          adaptiveLayoutMode: options.adaptiveLayoutMode || VhallRTC.CANVAS_ADAPTIVE_LAYOUT_GRID_MODE\r\n        })\r\n          .then(() => {\r\n            resolve()\r\n          }).catch(error => {\r\n            reject(error)\r\n          })\r\n      })\r\n    }\r\n  /**\r\n   * 动态配置旁路主屏\r\n   * @param {String} mainScreenStreamId -- 将哪路流设置成主屏的流Id\r\n   * @returns {Promise} - 动态配置旁路主屏的promise回调\r\n   */\r\n  setBroadCastScreen(mainScreenStreamId = '') {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.setBroadCastScreen({ mainScreenStreamId })\r\n        .then(() => {\r\n          resolve()\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n  /**\r\n   * 获取全部音视频列表\r\n   * @returns {Promise} - 获取全部音视频列表的promise回调\r\n   */\r\n  getDevices() {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.getDevices()\r\n        .then((devices) => {\r\n          resolve(devices)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取摄像头列表\r\n   * @returns {Promise} - 获取摄像头列表的promise回调\r\n   */\r\n  getCameras() {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.getCameras()\r\n        .then((devices) => {\r\n          resolve(devices)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取麦克风列表\r\n   * @returns {Promise} - 获取麦克风列表的promise回调\r\n   */\r\n  getMicrophones() {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.getMicrophones()\r\n        .then((devices) => {\r\n          resolve(devices)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取扬声器列表\r\n   * @returns {Promise} - 获取扬声器列表的promise回调\r\n   */\r\n  getSpeakers() {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.getSpeakers()\r\n        .then((devices) => {\r\n          resolve(devices)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取设备的分辨率\r\n   * @param {String} deviceId -- 摄像头设备的Id\r\n   * @returns {Promise} - 分辨率获取之后的promise回调\r\n   */\r\n  getVideoConstraints(deviceId) {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.getVideoConstraints({ deviceId },\r\n        (data) => {\r\n          resolve(data)\r\n        }, (error) => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n  /**\r\n   * 配置本地流视频质量参数\r\n   * @param {Object} options --  streamId: 切换本地流Id profile: 必填，互动视频质量参数\r\n   * @returns {Promise} - 配置本地流视频质量参数的promise回调\r\n   */\r\n   setVideoProfile(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.setVideoProfile({\r\n        streamId: options.streamId,\r\n        profile: options.profile\r\n      },\r\n        (data) => {\r\n          resolve(data)\r\n        }, (error) => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }  \r\n  /**\r\n   * 获取房间流信息\r\n   * @param {Object} options --  streamId: 切换本地流Id profile: 必填，互动视频质量参数\r\n   * @returns {Promise} - 配置本地流视频质量参数的promise回调\r\n   */\r\n   getRoomStreams(options = {}) {\r\n    return this.instance.getRoomStreams()  \r\n   }\r\n\r\n  /**\r\n   * 获取房间总的信息\r\n   * @param {Object} options --  streamId: 切换本地流Id profile: 必填，互动视频质量参数\r\n   * @returns {Promise} - 配置本地流视频质量参数的promise回调\r\n   */\r\n   getRoomInfo(options = {}) {\r\n    return this.instance.getRoomInfo()  \r\n   }\r\n  /**\r\n   * 是否支持桌面共享\r\n   * @returns Boolean\r\n   */\r\n  isScreenShareSupported() {\r\n    return this.instance.isScreenShareSupported()\r\n  }\r\n\r\n  /**\r\n   * 检查当前浏览器支持性\r\n   * @returns Boolean\r\n   */\r\n  checkSystemRequirements() {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.checkSystemRequirements()\r\n        .then((data) => {\r\n          resolve(data.result)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取上下行丢包率\r\n   * @returns  data中有 upLossRate 上行丢包率   downLossRate 下行丢包率\r\n   */\r\n  getPacketLossRate() {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.getPacketLossRate()\r\n        .then((data) => {\r\n          resolve(data)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取流上下行丢包率\r\n   * @returns  data中有 \r\n   */\r\n   getStreamPacketLoss(options = {}) {\r\n      return new Promise((resolve, reject) => {\r\n        this.instance.getStreamPacketLoss(options)\r\n        .then(() => {\r\n          resolve()\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    }\r\n    \r\n  /**\r\n   * 获取流音频能量\r\n   * @returns  \r\n   */\r\n   getAudioLevel(streamId = '') {\r\n    return new Promise((resolve, reject) => {\r\n      this.instance.getAudioLevel({streamId})\r\n        .then((data) => {\r\n          resolve(data)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取流的mute状态\r\n   * @returns  \r\n   */\r\n   getStreamMute(streamId = '') {\r\n      return new Promise((resolve, reject) => {\r\n        this.instance.getStreamMute({streamId})\r\n          .then((data) => {\r\n            resolve(data)\r\n          }).catch(error => {\r\n            reject(error)\r\n          })\r\n      })\r\n    }\r\n  \r\n}","import BaseModule from '../Base'\r\nimport { merge } from '@/utils/index.js'\r\nimport store from '@/store/index.js';\r\n\r\n\r\nexport default class PlayerModule extends BaseModule {\r\n    constructor(customOptions) {\r\n        super(customOptions)\r\n        this.init(customOptions)\r\n        this.isPlaying = false;\r\n    }\r\n\r\n    init(customOptions = {}, successCb = () => { }, failCb = () => { }) {\r\n        if (customOptions.type === 'live') {\r\n            this.initLivePlayer(customOptions,successCb, failCb)\r\n        }\r\n\r\n        if (customOptions.type === 'vod') {\r\n            this.initVodPlayer(customOptions,successCb, failCb)\r\n        }\r\n    }\r\n\r\n    createInstance(customOptions = {}, successCb = () => { }, failCb = () => { }) {\r\n        const { paasInfo, userInfo } = store.get('roomInitData');\r\n\r\n        let defaultOptions = {\r\n            appId: paasInfo.paas_app_id,\r\n            accountId: userInfo.third_party_user_id,\r\n            token: paasInfo.paas_access_token,\r\n            type: 'live',\r\n        }\r\n\r\n\r\n        const options = merge.recursive({}, defaultOptions, customOptions)\r\n\r\n        console.log('options:', options)\r\n        const onSuccess = (event) => {\r\n            this.instance = event.vhallplayer;\r\n            this.listenEvents();\r\n            successCb(event)\r\n        }\r\n\r\n        const onFail = (event) => {\r\n            console.log('fail:', event)\r\n            failCb(event)\r\n        }\r\n\r\n        VhallPlayer.createInstance(options, onSuccess, onFail)\r\n    }\r\n\r\n    initLivePlayer(customOptions = {}, successCb = () => { }, failCb = () => { }) {\r\n        const { paasInfo, userInfo } = store.get('roomInitData');\r\n\r\n        let defaultOptions = {\r\n            type: 'live',\r\n            language: 'zh',\r\n            liveOption: {\r\n                roomId: paasInfo.room_id,\r\n                forceMSE: true,\r\n                type: 'flv'\r\n            }\r\n        }\r\n        \r\n        const options = merge.recursive({}, defaultOptions, customOptions)\r\n        this.createInstance(options, successCb, failCb)\r\n    }\r\n\r\n    initVodPlayer(customOptions = {}, successCb = () => { }, failCb = () => { }) {\r\n        let defaultOptions = {\r\n            appId: '',\r\n            accountId: '',\r\n            token: '',\r\n            type: 'live',\r\n            vodOption: {\r\n                forceMSE: true,\r\n                recordId: ''\r\n            }\r\n        }\r\n        const options = merge.recursive({}, defaultOptions, customOptions)\r\n        this.createInstance(options, successCb, failCb)\r\n    }\r\n\r\n    listenEvents() {\r\n        this.instance.on(VhallPlayer.CURRENTTIME_CHANGE, (e) => {\r\n            // 当前时间改变\r\n            this.$emit('CURRENTTIME_CHANGE', e)\r\n        });\r\n        this.instance.on(VhallPlayer.TIMEUPDATE, (e) => {\r\n            // 播放时间改变时触发\r\n            this.$emit('TIMEUPDATE', e)\r\n        });\r\n        this.instance.on(VhallPlayer.ENDED, (e) => {\r\n            // 播放完毕\r\n            this.$emit('ENDED', e)\r\n        });\r\n        this.instance.on(VhallPlayer.ERROR, (e) => {\r\n            // 播放器自身出现错误时触发\r\n            this.$emit('ERROR', e)\r\n        });\r\n        this.instance.on(VhallPlayer.LOADED, (e) => {\r\n            // 视频加载完成时触发\r\n            this.$emit('LOADED', e)\r\n        });\r\n        this.instance.on(VhallPlayer.PLAY, (e) => {\r\n            // 点播开始播放时触发\r\n            this.$emit('PLAY', e)\r\n        });\r\n        this.instance.on(VhallPlayer.PAUSE, (e) => {\r\n            // 点播暂停播放时触发\r\n            this.$emit('PAUSE', e)\r\n        });\r\n        this.instance.on(VhallPlayer.LAG_REPORT, (e) => {\r\n            // 视频卡顿时触发\r\n            this.$emit('LAG_REPORT', e)\r\n        });\r\n        this.instance.on(VhallPlayer.LAG_RECOVER, (e) => {\r\n            // 视频卡顿恢复时触发\r\n            this.$emit('LAG_RECOVER', e)\r\n        });\r\n        this.instance.on(VhallPlayer.FULLSCREEN_CHANGE, (e) => {\r\n            // 全屏状态改变时触发\r\n            this.$emit('FULLSCREEN_CHANGE', e)\r\n        });\r\n        this.instance.on(VhallPlayer.MUTE_CHANGE, (e) => {\r\n            // 静音状态被改变时触发\r\n            this.$emit('MUTE_CHANGE', e)\r\n        });\r\n        this.instance.on(VhallPlayer.LOOP_CHANGE, (e) => {\r\n            // 点播循环状态被改变时触发\r\n            this.$emit('LOOP_CHANGE', e)\r\n        });\r\n        this.instance.on(VhallPlayer.DEFINITION_CHANGE, (e) => {\r\n            // 当前清晰度改变时触发(卡顿时自动切清晰度触发，手动切换不触发)\r\n            this.$emit('DEFINITION_CHANGE', e)\r\n        });\r\n    }\r\n\r\n    destroy() {\r\n        this.instance.destroy()\r\n        this.instance = null;\r\n    }\r\n\r\n\r\n    play() {\r\n        return this.instance.play()\r\n    }\r\n\r\n    pause() {\r\n        return this.instance.pause()\r\n    }\r\n\r\n    isPause() {\r\n        return this.instance.getIsPause()\r\n    }\r\n\r\n    getQualitys() { // 获取清晰度列表\r\n        return this.instance.getQualitys()\r\n    }\r\n\r\n    getCurrentQuality() { // 获取当前视频清晰度\r\n        return this.instance.getCurrentQuality()\r\n    }\r\n\r\n    setQuality(val, failure) { // 设置当前视频清晰度\r\n        return this.instance.setQuality(val, failure)\r\n    }\r\n\r\n    enterFullScreen(failure) { // 进入全屏\r\n        return this.instance.enterFullScreen(failure)\r\n    }\r\n\r\n    exitFullScreen(failure) { // 退出全屏\r\n        return this.instance.exitFullScreen(failure)\r\n    }\r\n\r\n    setMute(isMute, failure) {\r\n        return this.instance.setMute(isMute, failure)\r\n    }\r\n\r\n    getVolume() { // 获取音量\r\n        return this.instance.getVolume()\r\n    }\r\n\r\n    setVolume(volume, failure) { // 设置音量\r\n        return this.instance.setVolume(volume, failure)\r\n    }\r\n\r\n    getDuration(failure) { // 获取当前视频总时长\r\n        return this.instance.getDuration(failure)\r\n    }\r\n\r\n    getCurrentTime(failure) { // 获取当前视频播放时间\r\n        return this.instance.getCurrentTime(failure)\r\n    }\r\n\r\n    setCurrentTime(time, failure) { // 设置当前播放时间\r\n        return this.instance.setCurrentTime(time, failure)\r\n    }\r\n\r\n\r\n    getUsableSpeed(failure) { // 获取当前可选倍速\r\n        return this.instance.getUsableSpeed(failure)\r\n    }\r\n\r\n    setPlaySpeed(val, failure) { // 设置倍速播放\r\n        return this.instance.setPlaySpeed(val, failure)\r\n    }\r\n\r\n    openControls(isOpen) { // 开关默认控制条\r\n        return this.instance.openControls(isOpen)\r\n    }\r\n\r\n    openUI(isOpen) {\r\n        return this.instance.openUI(isOpen)\r\n    }\r\n\r\n    setResetVideo() {\r\n        const videoDom = document.getElementById(this.params.videoNode)\r\n        if (videoDom && this.instance) {\r\n            this.instance.setSize({\r\n                width: videoDom.offsetWidth,\r\n                height: videoDom.offsetHeight\r\n            })\r\n        }\r\n    }\r\n\r\n    setBarrageInfo(option) {\r\n        return this.instance.setBarrageInfo(option, (err) => {\r\n            Vlog.error(err)\r\n        })\r\n    }\r\n\r\n    addBarrage(content) {\r\n        return this.instance.addBarrage(content, (err) => {\r\n            Vlog.error(err)\r\n        })\r\n    }\r\n\r\n    toggleBarrage(open) {\r\n        if (!this.instance) return\r\n        if (open) {\r\n            this.instance.openBarrage()\r\n        } else {\r\n            this.instance.closeBarrage()\r\n        }\r\n    }\r\n\r\n    toggleSubtitle(open) {\r\n        if (this.instance && this.params.recordId) {\r\n            if (open) {\r\n                // 开启点播字幕(仅点播可用)\r\n                this.instance.openSubtitle()\r\n            } else {\r\n                // 关闭点播字幕(仅点播可用)\r\n                this.instance.closeSubtitle()\r\n            }\r\n        }\r\n    }\r\n\r\n}","import { mountSDK } from '@/loader/loader.js'\r\nimport { setBaseUrl, setToken, setRequestHeaders } from '@/utils/http.js';\r\nimport store from '@/store/index.js';\r\nimport { getRoomInfo } from '@/entity/roomInfo.js'\r\n\r\nimport requestApi from './request';\r\nimport { InteractiveModule, PlayerModule, DocModule, ChatModule } from '@/module/index.js'\r\n\r\nlet loadAssetsSuccess = false;\r\n\r\nconst initLoader = function () {\r\n    Promise.all([\r\n        mountSDK('https://static.vhallyun.com/jssdk/vhall-jssdk-player/latest/vhall-jssdk-player-2.3.8.js'),\r\n        mountSDK('https://static.vhallyun.com/jssdk/vhall-jssdk-chat/latest/vhall-jssdk-chat-2.1.3.js'),\r\n        mountSDK('https://static.vhallyun.com/jssdk/vhall-jssdk-interaction/latest/vhall-jssdk-interaction-2.3.3.js')\r\n    ]).then(res => {\r\n        loadAssetsSuccess = true;\r\n    })\r\n}\r\n\r\nclass VhallSaasSDK {\r\n    constructor() {\r\n        this.msgBus = null;\r\n        this.request = requestApi;\r\n        this.baseState = store;\r\n    }\r\n\r\n    init(options = { clientType: 'send', receiveType: 'standard' }) {\r\n        this.setRequestConfig(options)\r\n        this.setClientType(options.clientType)\r\n        if (options.clientType === 'send') {\r\n            return this.initSendLive(options)\r\n        } else {\r\n            return this.initReceiveLive(options)\r\n        }\r\n    }\r\n\r\n    initSendLive(options) {\r\n        return new Promise((resolve, reject) => {\r\n            this.request.live.initSendLive(options)\r\n            .then(res => {\r\n                if (res.code === 200) {\r\n                    store.set('roomInitData', getRoomInfo(res))\r\n                    resolve(res)\r\n                } else {\r\n                    reject(res)\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    initReceiveLive(options) {\r\n        const receiveApi = {\r\n            standard: 'initStandardReceiveLive',\r\n            embed: 'initEmbeddedReceiveLive',\r\n            sdk: 'initSdkReceiveLive'\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this.request.live[receiveApi[options.receiveType]](options)\r\n            .then(res => {\r\n                if (res.code === 200) {\r\n                    store.set('roomInitData', getRoomInfo(res))\r\n                    resolve(res)\r\n                } else {\r\n                    reject(res)\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    setClientType(clientType) {\r\n        if (clientType !== 'send' && clientType !== 'receive') {\r\n            throw new TypeError('clientType is invalid')\r\n        }\r\n        store.set('clientType', clientType)\r\n    }\r\n\r\n    setRequestConfig(options) {\r\n        if (options.development) {\r\n            setBaseUrl('https://t-saas-dispatch.vhall.com')\r\n        } else {\r\n            setBaseUrl('https://saas-api.vhall.com')\r\n        }\r\n\r\n        setToken(options.token, options.liveToken)\r\n\r\n        if (options.requestHeaders) {\r\n            setRequestHeaders(options.requestHeaders)\r\n        }\r\n    }\r\n\r\n    isReady() {\r\n        return loadSuccess === true;\r\n    }\r\n\r\n    createPlayer(options = {}) {\r\n        return new Promise((resolve, reject) => {\r\n            const instance = new PlayerModule(options)\r\n            resolve(instance)\r\n        })\r\n    }\r\n\r\n    createInteractive(options = {}) {\r\n        return new Promise((resolve, reject) => {\r\n            const instance = new InteractiveModule(options)\r\n            instance.init(options).then(res=>{\r\n                resolve(instance)\r\n            })\r\n        })\r\n    }\r\n\r\n    createChat(options = {}) {\r\n        return new Promise((resolve, reject) => {\r\n            const instance = new ChatModule()\r\n            instance.init(options).then(res => {\r\n                resolve(instance)\r\n            })\r\n        })\r\n    }\r\n\r\n    createDoc(options = {}) {\r\n        return new Promise((resolve, reject) => {\r\n            const instance = new DocModule(options)\r\n            resolve(instance)\r\n        })\r\n    }\r\n}\r\nVhallSaasSDK.requestApi = requestApi\r\n\r\ninitLoader()\r\n\r\n\r\nexport default VhallSaasSDK","import SDK from '@/sdk.js'\r\n\r\nwindow.VhallSaasSDK = SDK;"],"names":["mountSDK","src","Promise","resolve","node","document","createElement","head","appendChild","onload","BUSE_URL","TOKEN","LIVETOKEN","HEADERS","setBaseUrl","url","setToken","token","livetoken","console","log","setRequestHeaders","options","$fetch","reject","data","live_token","formatParams","dataType","jsonp","json","params","success","fail","xhr","type","toUpperCase","window","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","response","getResponseHeader","indexOf","responseXML","JSON","parse","responseText","open","setRequestHeader","Object","getOwnPropertyNames","forEach","item","send","callbackName","script","charset","body","val","removeChild","clearTimeout","timer","time","setTimeout","parmas","arr","push","encodeURIComponent","join","Store","state","key","value","store","getRoomInfo","res","_data","webinar","id","paasInfo","channel_id","interact","inav_id","paas_access_token","paas_app_id","room_id","userInfo","avatar","join_info","is_gag","is_kick","join_id","nickname","role_name","third_party_user_id","reportData","guid","report_data","aid","report_extra","defineProperty","exports","module","main","items","_i","arguments","length","merge","apply","clone","isPlainObject","recursive","_merge","input","Array","isArray","output","index","_recursiveMerge","base","extend","isClone","isRecursive","result","shift","isPc","target","userAgentInfo","navigator","userAgent","Agents","flag","v","initSendLive","retParmams","webinar_id","webinarId","email","biz_id","$http","then","e","initStandardReceiveLive","visitor_id","record_id","refer","initEmbeddedReceiveLive","k","sign","ts","initSdkReceiveLive","pass","qrcode","share_id","startLive","get","defaultParams","endLive","checkLive","getChatInitOptions","liveHeartBeat","getLiveToken","getStreamPushAddress","live","RequestApi","requestApi","BaseModule","handler","handlers","Error","idx","findIndex","ele","undefined","splice","ChatModule","customOptions","defaultOptions","initDefaultOptions","VhallChat","createInstance","event","instance","message","listenEvents","destroy","isPcClient","defaultContext","nick_name","device_type","device_status","is_banned","watch_type","context","appId","accountId","channelId","hide","onRoomMsg","msg","$emit","onChat","onCustomMsg","onOffLine","onOnLine","onDocMsg","leave","emitChat","emitCustomMsg","emitDocMsg","retData","stringify","emitRoomMsg","currPage","pageSize","retParams","getUserListInfo","Peomise","param","TYPE_DISABLE","targetId","chat","setDisable","TYPE_PERMIT","TYPE_DISABLE_ALL","TYPE_PERMIT_ALL","getHistoryList","getOnlineInfo","DocModule","children","onSuccess","CONST_VAL","DOC_SDK_READ","onFail","error","failed","DOC_SDK_ERROR","VHDocSDK","roomId","role","isVod","client","Client","PC_WEB","on","Event","CREATE_CONTAINER","SELECT_CONTAINER","DOCUMENT_LOAD_COMPLETE","SWITCH_CHANGE","DELETE_CONTAINER","ALL_COMPLETE","DOCUMENT_NOT_EXIT","cid","docId","PAGE_CHANGE","VOD_CUEPOINT_LOAD_COMPLETE","PLAYBACKCOMPLETE","elId","createUUID","width","height","backgroundColor","noDispatch","option","graphicType","GRAPHIC","PEN","stroke","strokeWidth","createBoard","sdk","createDocument","opts","selectContainer","currentCid","child","zoomIn","zoomOut","zoomReset","move","prevStep","nextStep","InteractiveModule","successCb","failCb","inavId","mode","VhallRTC","MODE_RTC","ROLE_HOST","attributes","autoStartBroadcast","broadcastConfig","layout","CANVAS_LAYOUT_PATTERN_FLOAT_6_5D","profile","BROADCAST_VIDEO_PROFILE_1080P_1","paneAspectRatio","BROADCAST_PANE_ASPACT_RATIO_16_9","border","color","vhallrtc","EVENT_REMOTESTREAM_ADD","EVENT_REMOTESTREAM_REMOVED","EVENT_ROOM_EXCDISCONNECTED","EVENT_REMOTESTREAM_MUTE","EVENT_REMOTESTREAM_FAILED","EVENT_STREAM_END","EVENT_STREAM_STUNK","EVENT_DEVICE_CHANGE","destroyInstance","createStream","streamId","toSpeakInfo","roleName","nickName","addConfig","videoNode","audio","video","audioDevice","videoDevice","RTC_VIDEO_PROFILE_1080P_16x9_H","streamType","screen","speaker","showControls","account_id","videoTrack","destroyStream","publish","errInfo","unpublish","mute","dual","subscribe","unsubscribe","setDual","isMute","muteVideo","muteAudio","startBroadCast","stopBroadCast","setBroadCastLayout","setBroadCastAdaptiveLayoutMode","adaptiveLayoutMode","CANVAS_ADAPTIVE_LAYOUT_GRID_MODE","mainScreenStreamId","setBroadCastScreen","getDevices","devices","getCameras","getMicrophones","getSpeakers","deviceId","getVideoConstraints","setVideoProfile","getRoomStreams","isScreenShareSupported","checkSystemRequirements","getPacketLossRate","getStreamPacketLoss","getAudioLevel","getStreamMute","PlayerModule","init","isPlaying","initLivePlayer","initVodPlayer","vhallplayer","VhallPlayer","language","liveOption","forceMSE","vodOption","recordId","CURRENTTIME_CHANGE","TIMEUPDATE","ENDED","ERROR","LOADED","PLAY","PAUSE","LAG_REPORT","LAG_RECOVER","FULLSCREEN_CHANGE","MUTE_CHANGE","LOOP_CHANGE","DEFINITION_CHANGE","play","pause","getIsPause","getQualitys","getCurrentQuality","failure","setQuality","enterFullScreen","exitFullScreen","setMute","getVolume","volume","setVolume","getDuration","getCurrentTime","setCurrentTime","getUsableSpeed","setPlaySpeed","isOpen","openControls","openUI","videoDom","getElementById","setSize","offsetWidth","offsetHeight","setBarrageInfo","err","Vlog","content","addBarrage","openBarrage","closeBarrage","openSubtitle","closeSubtitle","initLoader","all","VhallSaasSDK","msgBus","request","baseState","clientType","receiveType","setRequestConfig","setClientType","initReceiveLive","code","set","receiveApi","standard","embed","TypeError","development","liveToken","requestHeaders","loadSuccess","SDK"],"mappings":"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"}