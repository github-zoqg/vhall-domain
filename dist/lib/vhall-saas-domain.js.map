{"version":3,"file":"vhall-saas-domain.js","sources":["../../src/domain/common/context.server.js","../../src/domain/common/msg.server.js","../../src/domain/stream/interactive.server.js","../../src/libs/sdk.js","../../node_modules/merge/lib/src/index.js","../../src/utils/index.js","../../src/utils/http.js","../../src/request/roomBase.js","../../src/request/user.js","../../src/request/insertFile.js","../../src/request/index.js","../../src/domain/common/eventEmitter.server.js","../../src/domain/roombase/roombase.server.js","../../src/domain/user/user.server.js","../../src/domain/stream/insertFile.server.js","../../src/domain/roombase/roomInit.group.server.js"],"sourcesContent":["\nfunction useContextServer() {\n    const state = {\n        serverPool: {}\n    }\n\n    const set = (key, server) => {\n        const { serverPool } = state;\n        serverPool[key] = server;\n    }\n\n    const get = (key) => {\n        const { serverPool } = state;\n        return serverPool[key]\n    }\n\n    const show = () => {\n        const { serverPool } = state;\n        return { ...serverPool }\n    }\n\n    const clear = () => {\n        const { serverPool } = state\n        serverPool = {}\n    }\n\n    return { set, get, show, clear }\n}\n\nconst contextServer = useContextServer()\nexport default contextServer;\n","import contextServer from '@/domain/common/context.server.js'\n\nexport default function useMsgServer() {\n    const state = {\n        msgInstance: null\n    }\n\n    const init = () => {\n        if (!contextServer.get('roomInitGroupServer')) return\n        const { state: roomInitGroupServer } = contextServer.get('roomInitGroupServer')\n        return roomInitGroupServer.vhallSaasInstance.createChat().then(res => {\n            state.msgInstance = res\n            return res\n        })\n    }\n\n    const $on = (eventType, fn) => {\n        if (!state.msgInstance) return;\n        state.msgInstance.$on(eventType, fn);\n    }\n\n    const $emit = (eventType, params) => {\n        if (!state.msgInstance) return;\n        state.msgInstance.$emit(eventType, params);\n    }\n\n    const destroy = () => {\n        if (!state.msgInstance) return\n        state.msgInstance.destroy\n        state.msgInstance = null\n    }\n\n    return { state, init, destroy, $on, $emit }\n}\n","import contextServer from \"@/domain/common/context.server.js\"\n\nexport default function useInteractiveServer() {\n    let state = {\n        vhallSaasInstance: null,  // vhallsdk的实例\n        interactiveInstance: null,  // 互动实例\n        streamId: null\n    }\n\n    const init = (option) => {\n        const roomInitGroupServer = contextServer.get('roomInitGroupServer');\n        state.vhallSaasInstance = roomInitGroupServer.state.vhallSaasInstance;\n\n        return state.vhallSaasInstance.createInteractive().then(interactives => {\n            state.interactiveInstance = interactives\n            console.log('state.interactiveInstance',interactives,interactives.instance)\n            return true\n        })\n    }\n    // 基础api\n    // 常见本地流\n    const createLocalStream = (options = {}, addConfig = {}) => {\n        return state.interactiveInstance.createLocalStream(options)\n    }\n    // 创建摄像头视频流\n    const createLocalVideoStream = (options = {}, addConfig = {}) => {\n        return state.interactiveInstance.createLocalVideoStream(options, addConfig)\n    }\n    // 创建桌面共享流\n    const createLocaldesktopStream = (options = {}, addConfig = {}) => {\n        return state.interactiveInstance.createLocaldesktopStream(options, addConfig)\n    }\n    // 创建本地音频流\n    const createLocalAudioStream = (options = {}, addConfig = {}) => {\n        return state.interactiveInstance.createLocalAudioStream(options, addConfig)\n    }\n    // 创建图片推流\n    const createLocalPhotoStream = (options = {}, addConfig = {}) => {\n        return state.interactiveInstance.createLocalPhotoStream(options, addConfig)\n    }\n    // 销毁额本地流\n    const stopStream = (streamId) => {\n        return state.interactiveInstance.destroyStream(state.streamId || streamId)\n    }\n    // 推送本地流到远端\n    const publishStream = (options = {}) => {\n        return state.interactiveInstance.publishStream({ streamId: state.streamId || options.streamId })\n    }\n    // 取消推送到远端的流\n    const unpublishStream = (streamId) => {\n        return state.interactiveInstance.unpublishStream(state.streamId || streamId)\n    }\n    // 订阅远端流\n    const subscribeStream = (options = {}) => {\n        return state.interactiveInstance.subscribeStream(options)\n    }\n    // 取消订阅远端流\n    const unSubscribeStream = (streamId) => {\n        return state.interactiveInstance.unSubscribeStream(streamId)\n    }\n    // 设置大小流\n    const setDual = (options = {}) => {\n        return state.interactiveInstance.setDual(options)\n    }\n    // 改变视频的禁用和启用\n    const muteVideo = (options = {}) => {\n        return state.interactiveInstance.muteVideo(options)\n    }\n    // 改变音频的禁用和启用\n    const muteAudio = (options = {}) => {\n        return state.interactiveInstance.muteAudio(options)\n    }\n    // 开启旁路\n    const startBroadCast = (options = {}, addConfig = {}) => {\n        return state.interactiveInstance.startBroadCast(options, addConfig)\n    }\n    // 停止旁路\n    const stopBroadCast = () => {\n        return state.interactiveInstance.stopBroadCast()\n    }\n    // 动态配置指定旁路布局模板\n    const setBroadCastLayout = (options = {}) => {\n        return state.interactiveInstance.setBroadCastLayout(options)\n    }\n    // 动态配置旁路主屏\n    const setBroadCastScreen = (mainScreenStreamId = '') => {\n        return state.interactiveInstance.setBroadCastScreen(mainScreenStreamId)\n    }\n    // 获取全部音视频列表\n    const getDevices = () => {\n        return state.interactiveInstance.getDevices()\n    }\n    // 获取摄像头列表\n    const getCameras = () => {\n        return state.interactiveInstance.getCameras()\n    }\n    // 获取麦克风列表\n    const getMicrophones = () => {\n        return state.interactiveInstance.getMicrophones()\n    }\n    // 获取扬声器列表\n    const getSpeakers = () => {\n        return state.interactiveInstance.getSpeakers()\n    }\n    // 获取设备的分辨率\n    const getVideoConstraints = (deviceId = '') => {\n        return state.interactiveInstance.getSpeakers(deviceId)\n    }\n    // 是否支持桌面共享\n    const isScreenShareSupported = () => {\n        return state.interactiveInstance.isScreenShareSupported()\n    }\n    // 检查当前浏览器支持性\n    const checkSystemRequirements = async () => {\n        if(!state.interactiveInstance)return;\n        return state.interactiveInstance.checkSystemRequirements()\n    }\n    // 获取上下行丢包率\n    const getPacketLossRate = () => {\n        return state.interactiveInstance.getPacketLossRate()\n    }\n\n    // 组合api\n    const startPushStream = () => {\n\n        setTimeout(async () => {\n            await createLocalAndPushStream(state.interactiveInstance)\n        }, 3000)\n    }\n\n    // 创建本地的推流和推流\n    const createLocalAndPushStream = (interactive) => {\n        let camerasList = null, micropsList = null, videoConstraintsList = null, streamId = null\n        return interactive.getDevices().then((data) => {\n            console.log('devices list::', data);\n            camerasList = data.videoInputDevices.filter(d => d.label && d.deviceId != 'desktopScreen')\n            micropsList = data.audioInputDevices.filter(\n                d => d.deviceId != 'default' && d.deviceId != 'communications' && d.label\n            )\n        }).then(() => {\n            const RESOLUTION_REG = /((^VIDEO_PROFILE_(720P|540P|480P|360P)_1$)|(^RTC_VIDEO_PROFILE_(720P|540P|480P|360P)_16x9_M$))/\n            interactive.getVideoConstraints(camerasList[0].deviceId).then((data) => {\n                console.log('constrainList', data);\n                videoConstraintsList = data.filter(item => RESOLUTION_REG.test(item.label))\n            }).then(() => {\n                let params = {\n                    videoNode: 'vhall-video',\n                    videoDevice: camerasList[0].deviceId,\n                    audioDevice: micropsList[0].deviceId,\n                    profile: videoConstraintsList[0]\n                }\n                interactive.createLocalVideoStream(params).then((res) => {\n                    console.log('create local stream success::', res);\n                    state.streamId = res\n                    streamId = res\n                }).then(() => {\n                    interactive.publishStream({ streamId }).then((res) => {\n                        console.log('publish stream success::', streamId);\n                    })\n                        .catch((err) => {\n                            console.log('publish is failed::', err);\n                        })\n                }).catch((err) => {\n                    console.log('local stream failed::', err);\n                })\n            }).catch((err) => {\n                console.log('constrainlist is failed::', err);\n            })\n        }).catch((err) => {\n            console.log('getDevies is failed::', err);\n        })\n    }\n\n    return {\n        state, startPushStream, init, createLocalStream, createLocalVideoStream, createLocaldesktopStream, createLocalAudioStream,\n        createLocalPhotoStream, stopStream, publishStream, unpublishStream, subscribeStream, unSubscribeStream, setDual, muteVideo,\n        muteAudio, startBroadCast, stopBroadCast, setBroadCastLayout, setBroadCastScreen, getDevices, getCameras, getMicrophones,\n        getSpeakers, getVideoConstraints, isScreenShareSupported, checkSystemRequirements, getPacketLossRate\n    }\n\n}","(function (factory) {\n  typeof define === 'function' && define.amd ? define(factory) :\n  factory();\n})((function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    } else if (call !== void 0) {\n      throw new TypeError(\"Derived constructors may only return object or undefined\");\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  var mountSDK = function mountSDK(src) {\n    return new Promise(function (resolve) {\n      var node = document.createElement('script');\n      document.head.appendChild(node);\n      node.src = src;\n\n      node.onload = function () {\n        resolve();\n      };\n    });\n  };\n\n  /**\n   * ajax请求 jsonp处理\n   * 1.jsonp 请求格式\n   *   $fetch({\n   *      url:'',\n   *      type: 'GET',\n   *      jsonp: 'callback',\n   *      data: {\n   *        name: 123\n   *      }\n   *   })\n   */\n  var BUSE_URL = '';\n  var TOKEN = '';\n  var LIVETOKEN = '';\n  var HEADERS = null;\n\n  function setBaseUrl(url) {\n    BUSE_URL = url;\n  }\n\n  function setToken(token, livetoken) {\n    console.log(token, livetoken, 888);\n    TOKEN = token;\n    LIVETOKEN = livetoken;\n  }\n\n  function setRequestHeaders(options) {\n    HEADERS = _objectSpread2({}, options);\n  }\n\n  function $fetch(options) {\n    // if (\"development\" != 'development') {\n    //\n    // }\n    options.url = BUSE_URL + options.url;\n    console.log('接口环境', options.url);\n    return new Promise(function (resolve, reject) {\n      options = options || {};\n\n      if (options.data) {\n        if (LIVETOKEN) {\n          options.data.live_token = LIVETOKEN;\n        }\n\n        options.data = formatParams(options.data);\n      }\n\n      options.dataType ? jsonp(options, resolve, reject) : json(options, resolve, reject);\n    });\n  } // JSON请求\n\n\n  function json(params, success, fail) {\n    var xhr = null; // interactToken = sessionStorage.getItem('interact-token') || '',\n    // grayId = sessionStorage.getItem('grayId') || '',\n    // vhallJSSDKUserInfo = localStorage.getItem('vhallJSSDKUserInfo') ? JSON.parse(localStorage.getItem('vhallJSSDKUserInfo')) : {},\n\n    params.type = (params.type || 'GET').toUpperCase();\n\n    if (window.XMLHttpRequest) {\n      xhr = new XMLHttpRequest();\n    } else {\n      xhr = new ActiveXObject('Microsoft.XMLHTTP');\n    }\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        var status = xhr.status;\n\n        if (status >= 200 && status < 300) {\n          var response = '';\n          var type = xhr.getResponseHeader('Content-type');\n\n          if (type.indexOf('xml') !== -1 && xhr.responseXML) {\n            response = xhr.responseXML;\n          } else if (type === 'application/json' || type === 'application/json;charset=UTF-8') {\n            response = JSON.parse(xhr.responseText);\n          } else {\n            response = xhr.responseText;\n          }\n\n          success && success(response);\n        } else {\n          fail && fail(status);\n        }\n      }\n    };\n\n    if (params.type == 'GET') {\n      if (params.data) {\n        xhr.open(params.type, params.url + '?' + params.data, true);\n      } else {\n        xhr.open(params.type, params.url, true);\n      }\n    } else if (params.type == 'POST') {\n      xhr.open(params.type, params.url, true);\n    }\n\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\n    if (!LIVETOKEN) {\n      TOKEN && xhr.setRequestHeader('token', TOKEN);\n    }\n\n    if (HEADERS) {\n      Object.getOwnPropertyNames(HEADERS).forEach(function (item) {\n        xhr.setRequestHeader(item, HEADERS[item]);\n      });\n    } // if (params.headers && params.headers.activeType == 'new') {\n    //     xhr.setRequestHeader('platform', 18)\n    //     xhr.setRequestHeader('request-id', uuid())\n    //     grayId && xhr.setRequestHeader('gray-id', grayId)\n    //     interactToken && xhr.setRequestHeader('interact-token', interactToken)\n    //     token && xhr.setRequestHeader('token', token)\n    // }\n\n\n    if (params.type == 'GET') {\n      xhr.send(null);\n    } else {\n      xhr.send(params.data);\n    }\n  } // JSONP请求\n\n\n  function jsonp(params, success, fail) {\n    var callbackName = params.dataType;\n    params['callback'] = callbackName;\n    var script = document.createElement('script');\n    script.type = \"text/javascript\";\n    script.charset = \"utf-8\";\n    document.body.appendChild(script); // 创建回调函数\n\n    window[callbackName] = function (val) {\n      document.body.removeChild(script);\n      clearTimeout(script.timer);\n      window[callbackName] = null;\n      success && success(val);\n    };\n    script.src = \"\".concat(params.url, \"?\").concat(params.data, \"&_=\", 1594014089800); // 超时处理\n\n    if (params.time) {\n      script.timer = setTimeout(function () {\n        window[callbackName] = null;\n        head.removeChild(script);\n        fail && fail('请求超时');\n      }, parmas.time * 1000);\n    }\n  } // 格式化数据\n\n\n  function formatParams(data) {\n    var arr = [];\n\n    if (data) {\n      for (var item in data) {\n        arr.push(encodeURIComponent(item) + '=' + encodeURIComponent(data[item]));\n      }\n    }\n\n    return arr.join('&');\n  } // 随机数\n\n  var Store = /*#__PURE__*/function () {\n    function Store() {\n      _classCallCheck(this, Store);\n\n      this.state = {};\n    }\n\n    _createClass(Store, [{\n      key: \"set\",\n      value: function set(key, value) {\n        this.state[key] = value;\n      }\n    }, {\n      key: \"get\",\n      value: function get(key) {\n        return this.state[key];\n      }\n    }]);\n\n    return Store;\n  }();\n\n  var store = new Store();\n\n  var getRoomInfo = function getRoomInfo(res) {\n    var _data = res.data;\n    return {\n      webinar: {\n        type: _data.webinar.type,\n        id: _data.webinar.id\n      },\n      paasInfo: {\n        channel_id: _data.interact.channel_id,\n        inav_id: _data.interact.inav_id,\n        paas_access_token: _data.interact.paas_access_token,\n        paas_app_id: _data.interact.paas_app_id,\n        room_id: _data.interact.room_id\n      },\n      userInfo: {\n        avatar: _data.join_info.avatar,\n        is_gag: _data.join_info.is_gag,\n        is_kick: _data.join_info.is_kick,\n        join_id: _data.join_info.join_id,\n        nickname: _data.join_info.nickname,\n        role_name: _data.join_info.role_name,\n        third_party_user_id: _data.join_info.third_party_user_id\n      },\n      reportData: {\n        guid: _data.report_data.guid,\n        aid: _data.interact.room_id,\n        report_extra: _data.report_data.report_extra\n      }\n    };\n  };\n\n  function getDefaultExportFromCjs (x) {\n  \treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  var src = {exports: {}};\n\n  (function (module, exports) {\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.isPlainObject = exports.clone = exports.recursive = exports.merge = exports.main = void 0;\n    module.exports = exports = main;\n    exports[\"default\"] = main;\n\n    function main() {\n      var items = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n      }\n\n      return merge.apply(void 0, items);\n    }\n\n    exports.main = main;\n    main.clone = clone;\n    main.isPlainObject = isPlainObject;\n    main.recursive = recursive;\n\n    function merge() {\n      var items = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n      }\n\n      return _merge(items[0] === true, false, items);\n    }\n\n    exports.merge = merge;\n\n    function recursive() {\n      var items = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        items[_i] = arguments[_i];\n      }\n\n      return _merge(items[0] === true, true, items);\n    }\n\n    exports.recursive = recursive;\n\n    function clone(input) {\n      if (Array.isArray(input)) {\n        var output = [];\n\n        for (var index = 0; index < input.length; ++index) {\n          output.push(clone(input[index]));\n        }\n\n        return output;\n      } else if (isPlainObject(input)) {\n        var output = {};\n\n        for (var index in input) {\n          output[index] = clone(input[index]);\n        }\n\n        return output;\n      } else {\n        return input;\n      }\n    }\n\n    exports.clone = clone;\n\n    function isPlainObject(input) {\n      return input && _typeof(input) === 'object' && !Array.isArray(input);\n    }\n\n    exports.isPlainObject = isPlainObject;\n\n    function _recursiveMerge(base, extend) {\n      if (!isPlainObject(base)) return extend;\n\n      for (var key in extend) {\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') continue;\n        base[key] = isPlainObject(base[key]) && isPlainObject(extend[key]) ? _recursiveMerge(base[key], extend[key]) : extend[key];\n      }\n\n      return base;\n    }\n\n    function _merge(isClone, isRecursive, items) {\n      var result;\n      if (isClone || !isPlainObject(result = items.shift())) result = {};\n\n      for (var index = 0; index < items.length; ++index) {\n        var item = items[index];\n        if (!isPlainObject(item)) continue;\n\n        for (var key in item) {\n          if (key === '__proto__' || key === 'constructor' || key === 'prototype') continue;\n          var value = isClone ? clone(item[key]) : item[key];\n          result[key] = isRecursive ? _recursiveMerge(result[key], value) : value;\n        }\n      }\n\n      return result;\n    }\n  })(src, src.exports);\n\n  var merge = /*@__PURE__*/getDefaultExportFromCjs(src.exports);\n\n  /**\n   * 判断终端类型\n   *\n   * @export\n   * @param {*} target\n   * @returns\n   */\n\n  function isPc(target) {\n    var userAgentInfo = navigator.userAgent;\n    var Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];\n    var flag = true;\n\n    for (var v = 0; v < Agents.length; v++) {\n      if (userAgentInfo.indexOf(Agents[v]) > 0) {\n        flag = false;\n        break;\n      }\n    }\n\n    return flag;\n  }\n\n  var initSendLive = function initSendLive(params) {\n    var retParmams = {\n      webinar_id: params.webinarId,\n      live_token: params.live_token || '',\n      nickname: params.nickname || '',\n      email: params.email || '',\n      biz_id: params.biz_id || ''\n    };\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/live/init',\n        type: 'GET',\n        data: retParmams\n      }).then(function (res) {\n        resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 观看端初始化（标品）\n\n\n  var initStandardReceiveLive = function initStandardReceiveLive(params) {\n    var retParmams = {\n      webinar_id: params.webinarId,\n      visitor_id: params.visitor_id || '',\n      record_id: params.record_id || '',\n      refer: params.refer || '',\n      biz_id: params.biz_id || ''\n    };\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/watch/init',\n        type: 'GET',\n        data: retParmams\n      }).then(function (res) {\n        resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 观看端初始化（嵌入页）\n\n\n  var initEmbeddedReceiveLive = function initEmbeddedReceiveLive(params) {\n    var retParmams = {\n      webinar_id: params.webinarId,\n      visitor_id: params.visitor_id || '',\n      record_id: params.record_id || '',\n      email: params.email || '',\n      nickname: params.nickname || '',\n      k: params.k || '',\n      state: params.state || '',\n      refer: params.refer || '',\n      sign: params.sign || '',\n      ts: params.ts || '',\n      biz_id: params.biz_id || ''\n    };\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/watch/inline-init',\n        type: 'GET',\n        data: retParmams\n      }).then(function (res) {\n        resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 观看端初始化（SDK）\n\n\n  var initSdkReceiveLive = function initSdkReceiveLive(params) {\n    var retParmams = {\n      webinar_id: params.webinarId,\n      record_id: params.record_id || '',\n      email: params.email || '',\n      nickname: params.nickname || '',\n      pass: params.pass || '',\n      k: params.k || '',\n      refer: params.refer || '',\n      qrcode: params.qrcode || '',\n      share_id: params.share_id || '',\n      visitor_id: params.visitor_id || '',\n      biz_id: params.biz_id || ''\n    };\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/watch/sdk-init',\n        type: 'GET',\n        data: retParmams\n      }).then(function (res) {\n        resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 开始直播\n\n\n  var startLive = function startLive(params) {\n    var _store$get = store.get('roomInitData'),\n        _store$get$webinar = _store$get.webinar,\n        webinar = _store$get$webinar === void 0 ? {} : _store$get$webinar;\n\n    var defaultParams = {\n      webinar_id: webinar.id\n    };\n    var retParmams = merge.recursive({}, defaultParams, params);\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/live/start',\n        type: 'POST',\n        data: retParmams\n      }).then(function (res) {\n        return resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 结束直播\n\n\n  var endLive = function endLive(params) {\n    var _store$get2 = store.get('roomInitData'),\n        _store$get2$webinar = _store$get2.webinar,\n        webinar = _store$get2$webinar === void 0 ? {} : _store$get2$webinar;\n\n    var defaultParams = {\n      webinar_id: webinar.id\n    };\n    var retParmams = merge.recursive({}, defaultParams, params);\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/live/end',\n        type: 'POST',\n        data: retParmams\n      }).then(function (res) {\n        return resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 进入直播前检测\n\n\n  var checkLive = function checkLive(params) {\n    var _store$get3 = store.get('roomInitData'),\n        _store$get3$webinar = _store$get3.webinar,\n        webinar = _store$get3$webinar === void 0 ? {} : _store$get3$webinar;\n\n    var defaultParams = {\n      webinar_id: webinar.id\n    };\n    var retParmams = merge.recursive({}, defaultParams, params);\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/live/check',\n        type: 'GET',\n        data: retParmams\n      }).then(function (res) {\n        return resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 获取聊天服务链接参数\n\n\n  var getChatInitOptions = function getChatInitOptions(params) {\n    var _store$get4 = store.get('roomInitData'),\n        _store$get4$webinar = _store$get4.webinar,\n        webinar = _store$get4$webinar === void 0 ? {} : _store$get4$webinar;\n\n    var defaultParams = {\n      webinar_id: webinar.id\n    };\n    var retParmams = merge.recursive({}, defaultParams, params);\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/live/get-connect',\n        type: 'GET',\n        data: retParmams\n      }).then(function (res) {\n        return resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 心跳检测\n\n\n  var liveHeartBeat = function liveHeartBeat(params) {\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/live/heartbeat',\n        type: 'GET',\n        data: params\n      }).then(function (res) {\n        return resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 获取live_token\n\n\n  var getLiveToken = function getLiveToken(params) {\n    var _store$get5 = store.get('roomInitData'),\n        _store$get5$webinar = _store$get5.webinar,\n        webinar = _store$get5$webinar === void 0 ? {} : _store$get5$webinar;\n\n    var defaultParams = {\n      webinar_id: webinar.id\n    };\n    var retParmams = merge.recursive({}, defaultParams, params);\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/live/get-live-token',\n        type: 'GET',\n        data: retParmams\n      }).then(function (res) {\n        return resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  }; // 获取推流地址\n\n\n  var getStreamPushAddress = function getStreamPushAddress(params) {\n    var _store$get6 = store.get('roomInitData'),\n        _store$get6$webinar = _store$get6.webinar,\n        webinar = _store$get6$webinar === void 0 ? {} : _store$get6$webinar;\n\n    var defaultParams = {\n      webinar_id: webinar.id\n    };\n    var retParmams = merge.recursive({}, defaultParams, params);\n    return new Promise(function (resolve, reject) {\n      $fetch({\n        url: '/v3/webinars/live/get-stream-push-address',\n        type: 'GET',\n        data: retParmams\n      }).then(function (res) {\n        return resolve(res);\n      })[\"catch\"](function (e) {\n        return reject(e);\n      });\n    });\n  };\n\n  var live = {\n    initSendLive: initSendLive,\n    initStandardReceiveLive: initStandardReceiveLive,\n    initEmbeddedReceiveLive: initEmbeddedReceiveLive,\n    initSdkReceiveLive: initSdkReceiveLive,\n    startLive: startLive,\n    endLive: endLive,\n    checkLive: checkLive,\n    getChatInitOptions: getChatInitOptions,\n    liveHeartBeat: liveHeartBeat,\n    getLiveToken: getLiveToken,\n    getStreamPushAddress: getStreamPushAddress\n  };\n\n  var RequestApi = function RequestApi() {\n    _classCallCheck(this, RequestApi);\n\n    this.live = live;\n  };\n\n  var requestApi = new RequestApi();\n\n  var BaseModule = /*#__PURE__*/function () {\n    function BaseModule() {\n      _classCallCheck(this, BaseModule);\n\n      _defineProperty(this, \"handlers\", {});\n    }\n\n    _createClass(BaseModule, [{\n      key: \"$on\",\n      value: // 事件添加方法，参数有事件名和事件方法\n      function $on(type, handler) {\n        // 首先判断handlers内有没有type事件容器，没有则创建一个新数组容器\n        if (!(type in this.handlers)) {\n          this.handlers[type] = [];\n        } // 将事件存入\n\n\n        this.handlers[type].push(handler);\n      } // 触发事件两个参数（事件名，参数）\n\n    }, {\n      key: \"$emit\",\n      value: function $emit(type) {\n        for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          params[_key - 1] = arguments[_key];\n        }\n\n        // 若没有注册该事件则抛出错误\n        if (!(type in this.handlers)) {\n          return new Error('未注册该事件');\n        } // 便利触发\n\n\n        this.handlers[type].forEach(function (handler) {\n          handler.apply(void 0, params);\n        });\n      } // 事件移除参数（事件名，删除的事件，若无第二个参数则删除该事件的订阅和发布）\n\n    }, {\n      key: \"$off\",\n      value: function $off(type, handler) {\n        // 无效事件抛出\n        if (!(type in this.handlers)) {\n          return new Error('无效事件');\n        }\n\n        if (!handler) {\n          // 直接移除事件\n          delete this.handlers[type];\n        } else {\n          var idx = this.handlers[type].findIndex(function (ele) {\n            return ele === handler;\n          }); // 抛出异常事件\n\n          if (idx === undefined) {\n            return new Error('无该绑定事件');\n          } // 移除事件\n\n\n          this.handlers[type].splice(idx, 1);\n\n          if (this.handlers[type].length === 0) {\n            delete this.handlers[type];\n          }\n        }\n      }\n    }]);\n\n    return BaseModule;\n  }();\n\n  var ChatModule = /*#__PURE__*/function (_BaseModule) {\n    _inherits(ChatModule, _BaseModule);\n\n    var _super = _createSuper(ChatModule);\n\n    function ChatModule() {\n      _classCallCheck(this, ChatModule);\n\n      return _super.call(this);\n    }\n    /**\n     * 初始化聊天 SDK\n     * @param {Object} customOptions 用户自定义参数\n     */\n\n\n    _createClass(ChatModule, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var defaultOptions = this.initDefaultOptions();\n        var options = merge.recursive({}, defaultOptions, customOptions);\n        return new Promise(function (resolve, reject) {\n          VhallChat.createInstance(options, function (event) {\n            _this.instance = event.message;\n\n            _this.listenEvents();\n\n            resolve(event);\n          }, reject);\n        });\n      }\n      /**\n       * 销毁聊天实例\n       */\n\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.instance.destroy();\n        this.instance = null;\n      }\n      /**\n       * 获取实例化聊天的默认参数\n       * @returns {Object} defaultOptions 默认参数\n       */\n\n    }, {\n      key: \"initDefaultOptions\",\n      value: function initDefaultOptions() {\n        var isPcClient = isPc();\n\n        var _store$get = store.get('roomInitData'),\n            paasInfo = _store$get.paasInfo,\n            userInfo = _store$get.userInfo;\n\n        var defaultContext = {\n          nick_name: userInfo.nickname,\n          avatar: userInfo.avatar,\n          role_name: userInfo.role_name,\n          device_type: isPcClient ? '2' : '1',\n          // 设备类型 1手机端 2PC 0未检测\n          device_status: '0',\n          // 设备状态  0未检测 1可以上麦 2不可以上麦\n          is_banned: userInfo.is_gag,\n          // 是否禁言 1是 0否\n          watch_type: isPcClient ? '1' : '2',\n          // 1 pc  2 h5  3 app  4 是客户端\n          is_kick: userInfo.is_kick\n        };\n        var defaultOptions = {\n          context: defaultContext,\n          appId: paasInfo.paas_app_id,\n          accountId: userInfo.third_party_user_id,\n          channelId: paasInfo.channel_id,\n          token: paasInfo.paas_access_token,\n          hide: false // 是否隐身\n\n        };\n        return defaultOptions;\n      }\n      /**\n       * 注册聊天事件\n       */\n\n    }, {\n      key: \"listenEvents\",\n      value: function listenEvents() {\n        var _this2 = this;\n\n        this.instance.onRoomMsg(function (msg) {\n          // 房间消息（不对外）\n          _this2.$emit('ROOM_MSG', msg);\n        });\n        this.instance.onChat(function (msg) {\n          // 聊天消息\n          _this2.$emit('CHAT', msg);\n        });\n        this.instance.onCustomMsg(function (msg) {\n          // 自定义消息\n          _this2.$emit('CUSTOM_MSG', msg);\n        });\n        this.instance.onOffLine(function () {\n          // 连接断开\n          _this2.$emit('OFFLINE');\n        });\n        this.instance.onOnLine(function () {\n          // 连接连接上了\n          _this2.$emit('ONLINE');\n        });\n        this.instance.onDocMsg(function (msg) {\n          // 文档消息（不对外）\n          _this2.$emit('DOC_MSG');\n        });\n        this.instance.join(function (msg) {\n          // 用户加入\n          _this2.$emit('JOIN', msg);\n        });\n        this.instance.leave(function (msg) {\n          // 用户离开\n          _this2.$emit('LEFT', msg);\n        });\n      }\n      /**\n       * 发送聊天消息\n       * @param {String} data 消息体\n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"emitTextChat\",\n      value: function emitTextChat(data) {\n        var _this3 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this3.instance.emitChat(data, resolve, reject);\n        });\n      }\n      /**\n       * 发送自定义消息\n       * @param {String} data 消息体\n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"emitCustomChat\",\n      value: function emitCustomChat(data) {\n        return this.instance.emitCustomMsg(data);\n      }\n      /**\n       * 发送文档消息（不对外）\n       * @param {Object} data 消息体\n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"emitDocMsg\",\n      value: function emitDocMsg(data) {\n        return this.instance.emitDocMsg(data);\n      }\n      /**\n       * 发送房间消息（不对外）\n       * @param {Object} data 消息体\n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"emitRoomMsg\",\n      value: function emitRoomMsg(data) {\n        var retData = JSON.stringify(data);\n        return this.instance.emitRoomMsg(retData);\n      }\n      /**\n       * 获取用户列表信息\n       * @param {Object} params 分页参数\n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"getUserListInfo\",\n      value: function getUserListInfo(params) {\n        var _this4 = this;\n\n        var defaultParams = {\n          currPage: 1,\n          pageSize: 10\n        };\n        var retParams = merge.recursive({}, defaultParams, params);\n        return new Promise(function (resolve, reject) {\n          _this4.instance.getUserListInfo(retParams, resolve, reject);\n        });\n      }\n      /**\n       * 禁言某个用户\n       * @param {Object} accountId 用户 id \n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"setUserDisable\",\n      value: function setUserDisable(accountId) {\n        return new Peomise(function (resolve, reject) {\n          var param = {\n            type: VhallChat.TYPE_DISABLE,\n            targetId: accountId\n          };\n          chat.setDisable(param, resolve, reject);\n        });\n      }\n      /**\n       * 取消禁言某个用户\n       * @param {Object} accountId 用户 id \n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"setUserPermit\",\n      value: function setUserPermit(accountId) {\n        return new Peomise(function (resolve, reject) {\n          var param = {\n            type: VhallChat.TYPE_PERMIT,\n            targetId: accountId\n          };\n          chat.setDisable(param, resolve, reject);\n        });\n      }\n      /**\n       * 禁言频道\n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"setChannelDisable\",\n      value: function setChannelDisable() {\n        return new Peomise(function (resolve, reject) {\n          var param = {\n            type: VhallChat.TYPE_DISABLE_ALL\n          };\n          chat.setDisable(param, resolve, reject);\n        });\n      }\n      /**\n       * 取消禁言频道\n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"setChannelPermit\",\n      value: function setChannelPermit() {\n        return new Peomise(function (resolve, reject) {\n          var param = {\n            type: VhallChat.TYPE_PERMIT_ALL\n          };\n          chat.setDisable(param, resolve, reject);\n        });\n      }\n      /**\n       * 获取历史聊天消息\n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"getHistoryList\",\n      value: function getHistoryList(params) {\n        var _this5 = this;\n\n        var defaultParams = {\n          currPage: 1,\n          pageSize: 200\n        };\n        var retParams = merge.recursive({}, defaultParams, params);\n        return new Promise(function (resolve, reject) {\n          _this5.instance.getHistoryList(retParams, resolve, reject);\n        });\n      }\n      /**\n       * 获取房间在线信息\n       * @param {Object} params 分页参数\n       * @returns {Promise}\n       */\n\n    }, {\n      key: \"getOnlineInfo\",\n      value: function getOnlineInfo(params) {\n        var _this6 = this;\n\n        var defaultParams = {\n          currPage: 1,\n          pageSize: 200\n        };\n        var retParams = merge.recursive({}, defaultParams, params);\n        return new Promise(function (resolve, reject) {\n          _this6.instance.getOnlineInfo(retParams, resolve, reject);\n        });\n      }\n    }]);\n\n    return ChatModule;\n  }(BaseModule);\n\n  var DocModule = /*#__PURE__*/function (_BaseModule) {\n    _inherits(DocModule, _BaseModule);\n\n    _createSuper(DocModule);\n\n    function DocModule() {\n      var _this;\n\n      _classCallCheck(this, DocModule);\n\n      _this.instance = null;\n      _this.children = [];\n      return _possibleConstructorReturn(_this);\n    }\n\n    _createClass(DocModule, [{\n      key: \"init\",\n      value: function init() {\n        var _this2 = this;\n\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var defaultOptions = this.initDefaultOptions();\n        var options = merge.recursive({}, defaultOptions, customOptions);\n\n        var onSuccess = function onSuccess() {\n          console.log('saasSDK文档初始化成功');\n\n          _this2.$emit(CONST_VAL.DOC_SDK_READ, _this2.instance);\n        };\n\n        var onFail = function onFail() {\n          console.error('saasSDK文档初始化失败', failed.msg);\n\n          _this2.$emit(CONST_VAL.DOC_SDK_ERROR, failed.msg);\n        };\n\n        this.instance = VHDocSDK.createInstance(options, onSuccess, onFail);\n        this.listenEvents();\n      }\n    }, {\n      key: \"initDefaultOptions\",\n      value: function initDefaultOptions() {\n        isPc();\n\n        var _store$get = store.get('roomInitData'),\n            paasInfo = _store$get.paasInfo,\n            userInfo = _store$get.userInfo;\n\n        var defaultOptions = {\n          accountId: userInfo.third_party_user_id,\n          roomId: paasInfo.room_id,\n          channelId: paasInfo.channel_id,\n          // 频道id 必须\n          appId: paasInfo.paas_app_id,\n          // appId 必须\n          role: userInfo.role_name,\n          // 角色 必须\n          isVod: false,\n          // 是否是回放 必须\n          client: window.VHDocSDK.Client.PC_WEB,\n          // 客户端类型\n          token: this.token\n        };\n        return defaultOptions;\n      }\n    }, {\n      key: \"listenEvents\",\n      value: function listenEvents() {\n        var _this3 = this;\n\n        // 创建容器事件\n        this.instance.on(VHDocSDK.Event.CREATE_CONTAINER, function (data) {}); // 选择容器\n\n        this.instance.on(VHDocSDK.Event.SELECT_CONTAINER, function (data) {}); // 当前文档加载完成\n\n        this.instance.on(VHDocSDK.Event.DOCUMENT_LOAD_COMPLETE, function (data) {}); // 开关变换\n\n        this.instance.on(VHDocSDK.Event.SWITCH_CHANGE, function (status) {\n          _this3.$emit('SWITCH_CHANGE', status);\n        }); // 删除容器时候触发的事件\n\n        this.instance.on(VHDocSDK.Event.DELETE_CONTAINER, function (data) {\n          _this3.$emit('DELETE_CONTAINER');\n        }); // 所有的文档准备完成\n\n        this.instance.on(VHDocSDK.Event.ALL_COMPLETE, function () {\n          _this3.$emit('ALL_COMPLETE');\n        }); // 正在演示的文档被删除(文档不存在)\n\n        this.instance.on(VHDocSDK.Event.DOCUMENT_NOT_EXIT, function (_ref) {\n          var cid = _ref.cid,\n              docId = _ref.docId;\n\n          _this3.$emit('DOCUMENT_NOT_EXIT', {\n            cid: cid,\n            docId: docId\n          });\n        }); // 翻页事件\n\n        this.instance.on(VHDocSDK.Event.PAGE_CHANGE, function (event) {\n          _this3.$emit('PAGE_CHANGE\b', event);\n        }); // 回放文件加载完成\n\n        this.instance.on(VHDocSDK.Event.VOD_CUEPOINT_LOAD_COMPLETE, function (event) {\n          _this3.$emit('VOD_CUEPOINT_LOAD_COMPLETE', event);\n        }); // ppt文档加载完毕\n\n        this.instance.on(VHDocSDK.Event.PLAYBACKCOMPLETE, function (event) {\n          _this3.$emit('PLAYBACKCOMPLETE', event);\n        });\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (!this.instance) return;\n        this.instance.destroy();\n        this.instance = null;\n      }\n    }, {\n      key: \"createBoard\",\n      value: function createBoard(customOptions) {\n        var elId = this.instance.createUUID('board');\n        var defaultOptions = {\n          elId: elId,\n          // div 容器 必须\n          width: 200,\n          // div 宽度，像素单位，数值型不带px 必须\n          height: 200,\n          // div 高度，像素单位，数值型不带px 必须\n          backgroundColor: 'RGBA',\n          // 背景颜色， 支持RGB 与 RGBA， 如果全透明，舞台背景色与网页背景色相同，如 ‘#FF0000’或 ‘#FF000000’ 必须\n          noDispatch: false,\n          // 非必填，默认false，是否推送消息到远端，false为推送，true为不推送，加载远程文档时该字段应为true\n          option: {\n            // 非必填，画笔预设选项\n            graphicType: VHDocSDK.GRAPHIC.PEN,\n            // 选项请参考画笔预设值,\n            stroke: '#000',\n            // 颜色值\n            strokeWidth: 4 // 正数 Number\n\n          }\n        };\n        var options = merge.recursive({}, defaultOptions, customOptions);\n        this.instance.createBoard(options);\n      }\n    }, {\n      key: \"creatDocument\",\n      value: function creatDocument(customOptions) {\n        var _defaultOptions;\n\n        var elId = sdk.createUUID('document'); // 容器id，必须用此方法创建，文档传入document，返回唯一id\n\n        var defaultOptions = (_defaultOptions = {\n          id: customOptions.id,\n          docId: customOptions.docId,\n          elId: elId,\n          // div 容器 必须\n          width: 200,\n          // div 宽度，像素单位，数值型不带px 必须\n          height: 200\n        }, _defineProperty(_defaultOptions, \"docId\", 'yyy'), _defineProperty(_defaultOptions, \"noDispatch\", false), _defineProperty(_defaultOptions, \"option\", {\n          // 非必填，画笔预设选项\n          graphicType: VHDocSDK.GRAPHIC.PEN,\n          // 选项请参考画笔预设值,\n          stroke: '#000',\n          // 颜色值\n          strokeWidth: 4 // 正数 Number\n\n        }), _defaultOptions);\n        merge.recursive({}, defaultOptions, customOptions);\n        sdk.createDocument(opts); // 返回promise\n      }\n    }, {\n      key: \"selectContainer\",\n      value: function selectContainer(id) {\n        this.instance.selectContainer({\n          id: id\n        });\n        this.currentCid = id;\n      }\n      /**\n       * \n       * @param {*} child is cid-ret\n       */\n\n    }, {\n      key: \"addChild\",\n      value: function addChild(child) {\n        this.children.push(child);\n      }\n    }, {\n      key: \"zoomIn\",\n      value: function zoomIn() {\n        this.instance.zoomIn();\n      }\n    }, {\n      key: \"zoomOut\",\n      value: function zoomOut() {\n        this.instance.zoomOut();\n      }\n    }, {\n      key: \"zoomReset\",\n      value: function zoomReset() {\n        this.instance.zoomReset();\n      }\n    }, {\n      key: \"move\",\n      value: function move() {\n        this.instance.move();\n      }\n    }, {\n      key: \"prevStep\",\n      value: function prevStep() {\n        this.instance.prevStep();\n      }\n    }, {\n      key: \"nextStep\",\n      value: function nextStep() {\n        this.instance.nextStep();\n      }\n    }]);\n\n    return DocModule;\n  }(BaseModule);\n\n  var InteractiveModule = /*#__PURE__*/function (_BaseModule) {\n    _inherits(InteractiveModule, _BaseModule);\n\n    var _super = _createSuper(InteractiveModule);\n\n    function InteractiveModule(customOptions) {\n      var _this;\n\n      _classCallCheck(this, InteractiveModule);\n\n      _this = _super.call(this, customOptions);\n\n      _this.init(customOptions);\n\n      return _this;\n    }\n    /**\n     * 初始化互动sdk\n     * @param {Object} customOptions \n     * @param {*} successCb \n     * @param {*} failCb \n     * \n     */\n\n\n    _createClass(InteractiveModule, [{\n      key: \"init\",\n      value: function init() {\n        var _this2 = this;\n\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var successCb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n        var failCb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n        console.log('customoptions', customOptions);\n        console.log('store', store);\n        var defaultOptions = {\n          appId: store.get('roomInitData').paasInfo.paas_app_id,\n          // 互动应用ID，必填\n          inavId: store.get('roomInitData').paasInfo.inav_id,\n          // 互动房间ID，必填\n          roomId: store.get('roomInitData').paasInfo.room_id,\n          // 如需开启旁路，必填。\n          accountId: store.get('roomInitData').userInfo.third_party_user_id,\n          // 第三方用户ID，必填\n          token: store.get('roomInitData').paasInfo.paas_access_token,\n          // access_token，必填\n          mode: VhallRTC.MODE_RTC,\n          //应用场景模式，选填，可选值参考下文【应用场景类型】。支持版本：2.3.1及以上。\n          role: VhallRTC.ROLE_HOST,\n          //用户角色，选填，可选值参考下文【互动参会角色】。当mode为rtc模式时，不需要配置role。支持版本：2.3.1及以上。\n          attributes: '',\n          // String 类型\n          autoStartBroadcast: store.get('roomInitData').userInfo.role_name == 1,\n          // 是否开启自动旁路 Boolean 类型   主持人默认开启true v2.3.5版本以上可用\n          broadcastConfig: store.get('roomInitData').userInfo.role_name == 1 ? {\n            layout: customOptions.layout || VhallRTC.CANVAS_LAYOUT_PATTERN_FLOAT_6_5D,\n            // 旁路布局，选填 默认大屏铺满，一行5个悬浮于下面\n            profile: customOptions.profile || VhallRTC.BROADCAST_VIDEO_PROFILE_1080P_1,\n            // 旁路直播视频质量参数\n            paneAspectRatio: VhallRTC.BROADCAST_PANE_ASPACT_RATIO_16_9,\n            //旁路混流窗格指定高宽比。  v2.3.2及以上\n            border: customOptions.border || {\n              // 旁路边框属性\n              width: 2,\n              color: '0x666666'\n            }\n          } : {} // 自动旁路   开启旁路直播方法所需参数\n\n        };\n        var options = merge.recursive({}, defaultOptions, customOptions);\n        console.log(\"optionssssssssssssssssssssssssssss\", options);\n        return new Promise(function (resolve, reject) {\n          var onSuccess = function onSuccess(event) {\n            _this2.instance = event.vhallrtc;\n\n            _this2.listenEvents();\n\n            console.log('init interactive sdk success:', event);\n            successCb(event);\n            resolve(event);\n          };\n\n          var onFail = function onFail(event) {\n            console.log('fail:', event);\n            failCb(event);\n            reject(event);\n          };\n\n          VhallRTC.createInstance(options, onSuccess, onFail);\n        });\n      }\n    }, {\n      key: \"listenEvents\",\n      value: function listenEvents() {\n        var _this3 = this;\n\n        this.instance.on(VhallRTC.EVENT_REMOTESTREAM_ADD, function (e) {\n          // 远端流加入事件\n          _this3.$emit('interactive_REMOTESTREAM_ADD', e);\n        });\n        this.instance.on(VhallRTC.EVENT_REMOTESTREAM_REMOVED, function (e) {\n          // 远端流离开事件\n          _this3.$emit('interactive_REMOTESTREAM_REMOVED', e);\n        });\n        this.instance.on(VhallRTC.EVENT_ROOM_EXCDISCONNECTED, function (e) {\n          // 房间信令异常断开事件\n          _this3.$emit('interactive_ROOM_EXCDISCONNECTED', e);\n        });\n        this.instance.on(VhallRTC.EVENT_REMOTESTREAM_MUTE, function (e) {\n          // 远端流音视频状态改变事件\n          _this3.$emit('interactive_REMOTESTREAM_MUTE', e);\n        });\n        this.instance.on(VhallRTC.EVENT_REMOTESTREAM_FAILED, function (e) {\n          // 本地推流或订阅远端流异常断开事件\n          _this3.$emit('interactive_REMOTESTREAM_FAILED', e);\n        });\n        this.instance.on(VhallRTC.EVENT_STREAM_END, function (e) {\n          // 本地流采集停止事件(处理拔出设备和桌面共享停止时)\n          _this3.$emit('interactive_STREAM_END', e);\n        });\n        this.instance.on(VhallRTC.EVENT_STREAM_STUNK, function (e) {\n          // 本地流视频发送帧率异常事件\n          _this3.$emit('interactive_STREAM_STUNK', e);\n        });\n        this.instance.on(VhallRTC.EVENT_DEVICE_CHANGE, function (e) {\n          // 新增设备或移除设备时触发\n          _this3.$emit('interactive_DEVICE_CHANGE', e);\n        });\n      }\n      /**\n       * 销毁互动sdk\n       * @returns -- 销毁互动sdk\n       */\n\n    }, {\n      key: \"destroyInit\",\n      value: function destroyInit() {\n        var _this4 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this4.instance.destroyInstance({}).then(function () {\n            resolve();\n            _this4.instance = null;\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 创建本地流\n       * @param obt {Object} - sdk init stream base info config\n       * @return {Promise} - 创建成功后的promise 回调\n       *\n       */\n\n    }, {\n      key: \"createLocalStream\",\n      value: function createLocalStream() {\n        var _this5 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          _this5.instance.createStream(options).then(function (data) {\n            resolve(data.streamId);\n          })[\"catch\"](function (error) {\n            if (store.get('roomInitData').userInfo.role_name != 1) {\n              //上麦人员无法创建本地流上麦，向外抛出信息\n              var toSpeakInfo = _objectSpread2({\n                roleName: store.get('roomInitData').userInfo.role_name,\n                accountId: store.get('roomInitData').userInfo.third_party_user_id,\n                nickName: store.get('roomInitData').userInfo.nickname\n              }, error);\n\n              reject(toSpeakInfo);\n            } else {\n              reject(error);\n            }\n          });\n        });\n      }\n      /**\n       * 创建摄像头视频流\n       * @param obt {Object} - sdk init stream base info config  videoNode: 容器 audioDevice: 音频的Id videoDevice:视频的设备Id profile:视频推流的质量\n       * @return {Promise} - 创建成功后的promise 回调\n       *\n       */\n\n    }, {\n      key: \"createLocalVideoStream\",\n      value: function createLocalVideoStream() {\n        var _this6 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var addConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return new Promise(function (resolve, reject) {\n          var defaultOptions = {\n            videoNode: options.videoNode,\n            // 必填，传入本地视频显示容器ID\n            audio: true,\n            // 选填，是否采集音频设备，默认为true\n            video: true,\n            // 选填，是否采集视频设备，默认为true\n            audioDevice: options.audioDevice,\n            // 选填，指定的音频设备id，默认为系统缺省\n            videoDevice: options.videoDevice,\n            // 选填，指定的视频设备id，默认为系统缺省\n            profile: VhallRTC[options.profile] || VhallRTC.RTC_VIDEO_PROFILE_1080P_16x9_H,\n            // 选填，视频质量参数，可选值参考文档中的[互动流视频质量参数表]\n            streamType: 2,\n            //选填，指定互动流类型，当需要自定义类型时可传值。如未传值，则底层自动判断： 0为纯音频，1为纯视频，2为音视频，3为屏幕共享。\n            attributes: JSON.stringify({\n              roleName: store.get('roomInitData').userInfo.role_name,\n              accountId: store.get('roomInitData').userInfo.third_party_user_id,\n              nickName: store.get('roomInitData').userInfo.nickname\n            }) //选填，自定义信息，支持字符串类型\n\n          };\n          var params = merge.recursive({}, defaultOptions, addConfig);\n          console.log('pass params::', params);\n\n          _this6.instance.createStream(params).then(function (data) {\n            resolve(data.streamId);\n          })[\"catch\"](function (error) {\n            if (store.get('roomInitData').userInfo.role_name != 1) {\n              //上麦人员无法创建本地流上麦，向外抛出信息\n              var toSpeakInfo = _objectSpread2({\n                roleName: store.get('roomInfo').roleName,\n                accountId: store.get('roomInfo').accountId,\n                nickName: store.get('roomInfo').nickName\n              }, error);\n\n              reject(toSpeakInfo);\n            } else {\n              reject(error);\n            }\n          });\n        });\n      }\n      /**\n       * 创建桌面共享流\n       * @param obt {Object} - sdk init stream base info config  videoNode: 容器 speaker: 是否采集扬声器 profile: 视频的质量 addConfig: 扩展配置项\n       * @return {Promise} - 创建成功后的promise 回调\n       *\n       */\n\n    }, {\n      key: \"createLocaldesktopStream\",\n      value: function createLocaldesktopStream() {\n        var _this7 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var addConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return new Promise(function (resolve, reject) {\n          var defaultOptions = {\n            videoNode: options.videoNode,\n            // 必填，传入本地视频显示容器ID\n            screen: true,\n            speaker: options.speaker || false,\n            // 桌面共享时是否分享桌面音频(如为true，则chrome浏览器弹框左下角将显示“分享音频”选框)，默认为false\n            profile: options.profile || VhallRTC.RTC_VIDEO_PROFILE_1080P_16x9_H,\n            // 选填，视频质量参数，可选值参考文档中的[互动流视频质量参数表]\n            streamType: 3,\n            //选填，指定互动流类型，当需要自定义类型时可传值。如未传值，则底层自动判断： 0为纯音频，1为纯视频，2为音视频，3为屏幕共享。\n            attributes: JSON.stringify({\n              roleName: store.get('roomInitData').userInfo.role_name,\n              accountId: store.get('roomInitData').userInfo.third_party_user_id,\n              nickName: store.get('roomInitData').userInfo.nickname\n            }) //选填，自定义信息，支持字符串类型\n\n          };\n          var params = merge.recursive({}, defaultOptions, addConfig);\n\n          _this7.instance.createStream(params).then(function (data) {\n            resolve(data.streamId);\n          })[\"catch\"](function (error) {\n            if (store.get('roomInitData').userInfo.role_name != 1) {\n              //上麦人员无法创建本地流上麦，向外抛出信息\n              var toSpeakInfo = _objectSpread2({\n                roleName: store.get('roomInitData').userInfo.role_name,\n                accountId: store.get('roomInitData').userInfo.third_party_user_id,\n                nickName: store.get('roomInitData').userInfo.nickname\n              }, error);\n\n              reject(toSpeakInfo);\n            } else {\n              reject(error);\n            }\n          });\n        });\n      }\n      /**\n       * 创建本地音频流\n       * @param obt {Object} - sdk init stream base info config  videoNode: 容器 audioDevice: 音频Id addConfig: 扩展配置项\n       * @return {Promise} - 创建成功后的promise 回调\n       *\n       */\n\n    }, {\n      key: \"createLocalAudioStream\",\n      value: function createLocalAudioStream() {\n        var _this8 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var addConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return new Promise(function (resolve, reject) {\n          var defaultOptions = {\n            videoNode: options.videoNode,\n            // 必填，传入本地视频显示容器ID\n            audio: true,\n            // 选填，是否采集音频设备，默认为true\n            video: false,\n            // 选填，是否采集视频设备，默认为true\n            audioDevice: options.audioDevice,\n            // 选填，指定的音频设备id，默认为系统缺省\n            showControls: false,\n            // 选填，是否开启视频原生控制条，默认为false\n            attributes: JSON.stringify({\n              account_id: store.get('roomInfo').accountId,\n              nick_name: store.get('roomInfo').nickName,\n              role_name: store.get('roomInfo').roleName\n            }),\n            //选填，自定义信息，支持字符串类型\n            streamType: 0 //选填，指定互动流类型，当需要自定义类型时可传值。如未传值，则底层自动判断： 0为纯音频，1为纯视频，2为音视频，3为屏幕共享。\n\n          };\n          var params = merge.recursive({}, defaultOptions, addConfig);\n\n          _this8.instance.createStream(params).then(function (data) {\n            resolve(data.streamId);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 创建图片推流\n       * @param obt {Object} - sdk init stream base info config  videoNode: 容器 videoTrack: MediaStreamTrack对象,采集图像 addConfig: 扩展配置项\n       * @return {Promise} - 创建成功后的promise 回调\n       *\n       */\n\n    }, {\n      key: \"createLocalPhotoStream\",\n      value: function createLocalPhotoStream() {\n        var _this9 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var addConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return new Promise(function (resolve, reject) {\n          var defaultOptions = {\n            videoNode: options.videoNode,\n            // 传入本地视频显示容器，必填\n            audio: true,\n            video: true,\n            //如参会者没有摄像头，则传入false\n            videoTrack: options.videoTrack //MediaStreamTrack对象\n\n          };\n          var params = merge.recursive({}, defaultOptions, addConfig);\n\n          _this9.instance.createStream(params).then(function (data) {\n            resolve(data.streamId);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 销毁本地流\n       * @param {String} streamId -- 要销毁的流Id\n       * @returns \n       */\n\n    }, {\n      key: \"destroyStream\",\n      value: function destroyStream() {\n        var _this10 = this;\n\n        var streamId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        return new Promise(function (resolve, reject) {\n          _this10.instance.destroyStream({\n            streamId: streamId\n          }).then(function () {\n            resolve();\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 推送本地流到远端\n       * @param {Object} options publish stream base info config  streamId：要推的流Id，accountId:用户Id\n       * @return {Promise} - 推流成功后的promise 回调\n       */\n\n    }, {\n      key: \"publishStream\",\n      value: function publishStream() {\n        var _this11 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          _this11.instance.publish({\n            streamId: options.streamId,\n            accountId: options.accountId\n          }).then(function (data) {\n            resolve(data);\n          })[\"catch\"](function (errInfo) {\n            reject(errInfo);\n          });\n        });\n      }\n      /**\n       * 取消推送到远端的流\n       * @param {String} streamId 要取消推的流Id\n       * @returns {Promise} - 取消推流成功后的promise 回调\n      */\n\n    }, {\n      key: \"unpublishStream\",\n      value: function unpublishStream() {\n        var _this12 = this;\n\n        var streamId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        return new Promise(function (resolve, reject) {\n          _this12.instance.unpublish({\n            streamId: streamId\n          }).then(function () {\n            resolve();\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 订阅远端流\n       * @param {Object} options -- streamId:订阅的流id videoNode: 页面显示的容器 mute: 远端流的音视频 dual: 大小流 0小流 1大流\n       * @returns {Promise} - 订阅成功后的promise 回调\n       */\n\n    }, {\n      key: \"subscribeStream\",\n      value: function subscribeStream() {\n        var _this13 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          var defaultOptions = {\n            videoNode: options.videoNode,\n            // 传入本地视频显示容器，必填\n            streamId: options.streamId,\n            mute: {\n              // 选填，订阅成功后立即mute远端流\n              audio: options.mute.audio || false,\n              // 是否关闭音频，默认false\n              video: options.mute.audio || false // 是否关闭视频，默认false\n\n            },\n            dual: options.dual || 1 // 双流订阅选项， 0为小流， 1为大流(默认)\n\n          };\n          var params = merge.recursive({}, defaultOptions, addConfig);\n\n          _this13.instance.subscribe(params).then(function (data) {\n            resolve(data);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 取消订阅远端流\n       * @param {String} streamId -- 要取消订阅的流Id \n       * @returns {Promise} - 取消订阅成功后的promise 回调\n       */\n\n    }, {\n      key: \"unSubscribeStream\",\n      value: function unSubscribeStream() {\n        var _this14 = this;\n\n        var streamId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        return new Promise(function (resolve, reject) {\n          _this14.instance.unsubscribe({\n            streamId: streamId\n          }).then(function (data) {\n            resolve(data);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 设置大小流\n       * @param {Object} options streamId: 需要设置的流Id  dual: 0为小流 1为大流\n       * @returns {Promise} - 设置订阅大小流成功后的promise回调\n       */\n\n    }, {\n      key: \"setDual\",\n      value: function setDual() {\n        var _this15 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          var params = {\n            streamId: options.streamId,\n            dual: options.dual\n          };\n\n          _this15.instance.setDual(params).then(function (data) {\n            resolve(data);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 改变视频的禁用和启用\n       * @param {Object} options streamId: 对哪一路流进行操作的流Id  isMute: true为禁用，false为启用\n       * @returns {Promise} - 改变视频的禁用与开启后的promise 回调\n       */\n\n    }, {\n      key: \"muteVideo\",\n      value: function muteVideo() {\n        var _this16 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          var params = {\n            streamId: options.streamId,\n            isMute: options.isMute\n          };\n\n          _this16.instance.muteVideo(params).then(function (data) {\n            resolve(data);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 改变音频的禁用和启用\n       * @param {Object} options streamId: 对哪一路流进行操作的流Id isMute: true为禁用，false为启用\n       * @returns {Promise} - 改变音频的禁用与开启后的promise 回调\n       */\n\n    }, {\n      key: \"muteAudio\",\n      value: function muteAudio() {\n        var _this17 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          var params = {\n            streamId: options.streamId,\n            isMute: options.isMute\n          };\n\n          _this17.instance.muteAudio(params).then(function (data) {\n            resolve(data);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 开启旁路\n       * @param {Object} options --  layout: 旁路布局  profile: 旁路直播视频质量参数 paneAspectRatio:旁路混流窗格指定高宽比 border: 旁路边框属性\n       * @returns {Promise} - 开启旁路后的promise回调\n       */\n\n    }, {\n      key: \"startBroadCast\",\n      value: function startBroadCast() {\n        var _this18 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var addConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return new Promise(function (resolve, reject) {\n          var defaultOptions = {\n            layout: options.layout || VhallRTC.CANVAS_LAYOUT_PATTERN_FLOAT_6_5D,\n            // 旁路布局，选填 默认大屏铺满，一行5个悬浮于下面\n            profile: options.profile || VhallRTC.BROADCAST_VIDEO_PROFILE_1080P_1,\n            // 旁路直播视频质量参数\n            paneAspectRatio: VhallRTC.BROADCAST_PANE_ASPACT_RATIO_16_9,\n            //旁路混流窗格指定高宽比。  v2.3.2及以上\n            border: options.border || {\n              // 旁路边框属性\n              width: 2,\n              color: '0x666666'\n            }\n          };\n          var params = merge.recursive({}, defaultOptions, addConfig);\n\n          _this18.instance.startBroadCast(params).then(function () {\n            resolve();\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 停止旁路\n       * @returns {Promise} - 停止旁路后的promise回调\n       */\n\n    }, {\n      key: \"stopBroadCast\",\n      value: function stopBroadCast() {\n        var _this19 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this19.instance.stopBroadCast().then(function () {\n            resolve();\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 动态配置指定旁路布局模板\n       * @param {Object} options --  layout: 指定旁路布局模板\n       * @returns {Promise} - 动态配置指定旁路布局模板的promise回调\n       */\n\n    }, {\n      key: \"setBroadCastLayout\",\n      value: function setBroadCastLayout() {\n        var _this20 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          _this20.instance.setBroadCastLayout({\n            layout: options.layout || VhallRTC.CANVAS_LAYOUT_PATTERN_FLOAT_6_5D\n          }).then(function () {\n            resolve();\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 动态配置旁路主屏\n       * @param {String} mainScreenStreamId -- 将哪路流设置成主屏的流Id\n       * @returns {Promise} - 动态配置旁路主屏的promise回调\n       */\n\n    }, {\n      key: \"setBroadCastScreen\",\n      value: function setBroadCastScreen() {\n        var _this21 = this;\n\n        var mainScreenStreamId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        return new Promise(function (resolve, reject) {\n          _this21.instance.setBroadCastScreen({\n            mainScreenStreamId: mainScreenStreamId\n          }).then(function () {\n            resolve();\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 获取全部音视频列表\n       * @returns {Promise} - 获取全部音视频列表的promise回调\n       */\n\n    }, {\n      key: \"getDevices\",\n      value: function getDevices() {\n        var _this22 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this22.instance.getDevices().then(function (devices) {\n            resolve(devices);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 获取摄像头列表\n       * @returns {Promise} - 获取摄像头列表的promise回调\n       */\n\n    }, {\n      key: \"getCameras\",\n      value: function getCameras() {\n        var _this23 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this23.instance.getCameras().then(function (devices) {\n            resolve(devices);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 获取麦克风列表\n       * @returns {Promise} - 获取麦克风列表的promise回调\n       */\n\n    }, {\n      key: \"getMicrophones\",\n      value: function getMicrophones() {\n        var _this24 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this24.instance.getMicrophones().then(function (devices) {\n            resolve(devices);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 获取扬声器列表\n       * @returns {Promise} - 获取扬声器列表的promise回调\n       */\n\n    }, {\n      key: \"getSpeakers\",\n      value: function getSpeakers() {\n        var _this25 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this25.instance.getSpeakers().then(function (devices) {\n            resolve(devices);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 获取设备的分辨率\n       * @param {String} deviceId -- 摄像头设备的Id\n       * @returns {Promise} - 分辨率获取之后的promise回调\n       */\n\n    }, {\n      key: \"getVideoConstraints\",\n      value: function getVideoConstraints(deviceId) {\n        var _this26 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this26.instance.getVideoConstraints({\n            deviceId: deviceId\n          }, function (data) {\n            resolve(data);\n          }, function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 是否支持桌面共享\n       * @returns Boolean\n       */\n\n    }, {\n      key: \"isScreenShareSupported\",\n      value: function isScreenShareSupported() {\n        return this.instance.isScreenShareSupported();\n      }\n      /**\n       * 检查当前浏览器支持性\n       * @returns Boolean\n       */\n\n    }, {\n      key: \"checkSystemRequirements\",\n      value: function checkSystemRequirements() {\n        var _this27 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this27.instance.checkSystemRequirements().then(function (data) {\n            resolve(data.result);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n      /**\n       * 获取上下行丢包率\n       * @returns  data中有 upLossRate 上行丢包率   downLossRate 下行丢包率\n       */\n\n    }, {\n      key: \"getPacketLossRate\",\n      value: function getPacketLossRate() {\n        var _this28 = this;\n\n        return new Promise(function (resolve, reject) {\n          _this28.instance.getPacketLossRate().then(function (data) {\n            resolve(data);\n          })[\"catch\"](function (error) {\n            reject(error);\n          });\n        });\n      }\n    }]);\n\n    return InteractiveModule;\n  }(BaseModule);\n\n  var PlayerModule = /*#__PURE__*/function (_BaseModule) {\n    _inherits(PlayerModule, _BaseModule);\n\n    var _super = _createSuper(PlayerModule);\n\n    function PlayerModule(customOptions) {\n      var _this;\n\n      _classCallCheck(this, PlayerModule);\n\n      _this = _super.call(this, customOptions);\n\n      _this.init(customOptions);\n\n      _this.isPlaying = false;\n      return _this;\n    }\n\n    _createClass(PlayerModule, [{\n      key: \"init\",\n      value: function init() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var successCb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n        var failCb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n        if (customOptions.type === 'live') {\n          this.initLivePlayer(customOptions, successCb, failCb);\n        }\n\n        if (customOptions.type === 'vod') {\n          this.initVodPlayer(customOptions, successCb, failCb);\n        }\n      }\n    }, {\n      key: \"createInstance\",\n      value: function createInstance() {\n        var _this2 = this;\n\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var successCb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n        var failCb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n        var _store$get = store.get('roomInitData'),\n            paasInfo = _store$get.paasInfo,\n            userInfo = _store$get.userInfo;\n\n        var defaultOptions = {\n          appId: paasInfo.paas_app_id,\n          accountId: userInfo.third_party_user_id,\n          token: paasInfo.paas_access_token,\n          type: 'live'\n        };\n        var options = merge.recursive({}, defaultOptions, customOptions);\n        console.log('options:', options);\n\n        var onSuccess = function onSuccess(event) {\n          _this2.instance = event.vhallplayer;\n\n          _this2.listenEvents();\n\n          successCb(event);\n        };\n\n        var onFail = function onFail(event) {\n          console.log('fail:', event);\n          failCb(event);\n        };\n\n        VhallPlayer.createInstance(options, onSuccess, onFail);\n      }\n    }, {\n      key: \"initLivePlayer\",\n      value: function initLivePlayer() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var successCb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n        var failCb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n        var _store$get2 = store.get('roomInitData'),\n            paasInfo = _store$get2.paasInfo;\n            _store$get2.userInfo;\n\n        var defaultOptions = {\n          type: 'live',\n          language: 'zh',\n          liveOption: {\n            roomId: paasInfo.room_id,\n            forceMSE: true,\n            type: 'flv'\n          }\n        };\n        var options = merge.recursive({}, defaultOptions, customOptions);\n        this.createInstance(options, successCb, failCb);\n      }\n    }, {\n      key: \"initVodPlayer\",\n      value: function initVodPlayer() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var successCb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n        var failCb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n        var defaultOptions = {\n          appId: '',\n          accountId: '',\n          token: '',\n          type: 'live',\n          vodOption: {\n            forceMSE: true,\n            recordId: ''\n          }\n        };\n        var options = merge.recursive({}, defaultOptions, customOptions);\n        this.createInstance(options, successCb, failCb);\n      }\n    }, {\n      key: \"listenEvents\",\n      value: function listenEvents() {\n        var _this3 = this;\n\n        this.instance.on(VhallPlayer.CURRENTTIME_CHANGE, function (e) {\n          // 当前时间改变\n          _this3.$emit('CURRENTTIME_CHANGE', e);\n        });\n        this.instance.on(VhallPlayer.TIMEUPDATE, function (e) {\n          // 播放时间改变时触发\n          _this3.$emit('TIMEUPDATE', e);\n        });\n        this.instance.on(VhallPlayer.ENDED, function (e) {\n          // 播放完毕\n          _this3.$emit('ENDED', e);\n        });\n        this.instance.on(VhallPlayer.ERROR, function (e) {\n          // 播放器自身出现错误时触发\n          _this3.$emit('ERROR', e);\n        });\n        this.instance.on(VhallPlayer.LOADED, function (e) {\n          // 视频加载完成时触发\n          _this3.$emit('LOADED', e);\n        });\n        this.instance.on(VhallPlayer.PLAY, function (e) {\n          // 点播开始播放时触发\n          _this3.$emit('PLAY', e);\n        });\n        this.instance.on(VhallPlayer.PAUSE, function (e) {\n          // 点播暂停播放时触发\n          _this3.$emit('PAUSE', e);\n        });\n        this.instance.on(VhallPlayer.LAG_REPORT, function (e) {\n          // 视频卡顿时触发\n          _this3.$emit('LAG_REPORT', e);\n        });\n        this.instance.on(VhallPlayer.LAG_RECOVER, function (e) {\n          // 视频卡顿恢复时触发\n          _this3.$emit('LAG_RECOVER', e);\n        });\n        this.instance.on(VhallPlayer.FULLSCREEN_CHANGE, function (e) {\n          // 全屏状态改变时触发\n          _this3.$emit('FULLSCREEN_CHANGE', e);\n        });\n        this.instance.on(VhallPlayer.MUTE_CHANGE, function (e) {\n          // 静音状态被改变时触发\n          _this3.$emit('MUTE_CHANGE', e);\n        });\n        this.instance.on(VhallPlayer.LOOP_CHANGE, function (e) {\n          // 点播循环状态被改变时触发\n          _this3.$emit('LOOP_CHANGE', e);\n        });\n        this.instance.on(VhallPlayer.DEFINITION_CHANGE, function (e) {\n          // 当前清晰度改变时触发(卡顿时自动切清晰度触发，手动切换不触发)\n          _this3.$emit('DEFINITION_CHANGE', e);\n        });\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.instance.destroy();\n        this.instance = null;\n      }\n    }, {\n      key: \"play\",\n      value: function play() {\n        return this.instance.play();\n      }\n    }, {\n      key: \"pause\",\n      value: function pause() {\n        return this.instance.pause();\n      }\n    }, {\n      key: \"isPause\",\n      value: function isPause() {\n        return this.instance.getIsPause();\n      }\n    }, {\n      key: \"getQualitys\",\n      value: function getQualitys() {\n        // 获取清晰度列表\n        return this.instance.getQualitys();\n      }\n    }, {\n      key: \"getCurrentQuality\",\n      value: function getCurrentQuality() {\n        // 获取当前视频清晰度\n        return this.instance.getCurrentQuality();\n      }\n    }, {\n      key: \"setQuality\",\n      value: function setQuality(val, failure) {\n        // 设置当前视频清晰度\n        return this.instance.setQuality(val, failure);\n      }\n    }, {\n      key: \"enterFullScreen\",\n      value: function enterFullScreen(failure) {\n        // 进入全屏\n        return this.instance.enterFullScreen(failure);\n      }\n    }, {\n      key: \"exitFullScreen\",\n      value: function exitFullScreen(failure) {\n        // 退出全屏\n        return this.instance.exitFullScreen(failure);\n      }\n    }, {\n      key: \"setMute\",\n      value: function setMute(isMute, failure) {\n        return this.instance.setMute(isMute, failure);\n      }\n    }, {\n      key: \"getVolume\",\n      value: function getVolume() {\n        // 获取音量\n        return this.instance.getVolume();\n      }\n    }, {\n      key: \"setVolume\",\n      value: function setVolume(volume, failure) {\n        // 设置音量\n        return this.instance.setVolume(volume, failure);\n      }\n    }, {\n      key: \"getDuration\",\n      value: function getDuration(failure) {\n        // 获取当前视频总时长\n        return this.instance.getDuration(failure);\n      }\n    }, {\n      key: \"getCurrentTime\",\n      value: function getCurrentTime(failure) {\n        // 获取当前视频播放时间\n        return this.instance.getCurrentTime(failure);\n      }\n    }, {\n      key: \"setCurrentTime\",\n      value: function setCurrentTime(time, failure) {\n        // 设置当前播放时间\n        return this.instance.setCurrentTime(time, failure);\n      }\n    }, {\n      key: \"getUsableSpeed\",\n      value: function getUsableSpeed(failure) {\n        // 获取当前可选倍速\n        return this.instance.getUsableSpeed(failure);\n      }\n    }, {\n      key: \"setPlaySpeed\",\n      value: function setPlaySpeed(val, failure) {\n        // 设置倍速播放\n        return this.instance.setPlaySpeed(val, failure);\n      }\n    }, {\n      key: \"openControls\",\n      value: function openControls(isOpen) {\n        // 开关默认控制条\n        return this.instance.openControls(isOpen);\n      }\n    }, {\n      key: \"openUI\",\n      value: function openUI(isOpen) {\n        return this.instance.openUI(isOpen);\n      }\n    }, {\n      key: \"setResetVideo\",\n      value: function setResetVideo() {\n        var videoDom = document.getElementById(this.params.videoNode);\n\n        if (videoDom && this.instance) {\n          this.instance.setSize({\n            width: videoDom.offsetWidth,\n            height: videoDom.offsetHeight\n          });\n        }\n      }\n    }, {\n      key: \"setBarrageInfo\",\n      value: function setBarrageInfo(option) {\n        return this.instance.setBarrageInfo(option, function (err) {\n          Vlog.error(err);\n        });\n      }\n    }, {\n      key: \"addBarrage\",\n      value: function addBarrage(content) {\n        return this.instance.addBarrage(content, function (err) {\n          Vlog.error(err);\n        });\n      }\n    }, {\n      key: \"toggleBarrage\",\n      value: function toggleBarrage(open) {\n        if (!this.instance) return;\n\n        if (open) {\n          this.instance.openBarrage();\n        } else {\n          this.instance.closeBarrage();\n        }\n      }\n    }, {\n      key: \"toggleSubtitle\",\n      value: function toggleSubtitle(open) {\n        if (this.instance && this.params.recordId) {\n          if (open) {\n            // 开启点播字幕(仅点播可用)\n            this.instance.openSubtitle();\n          } else {\n            // 关闭点播字幕(仅点播可用)\n            this.instance.closeSubtitle();\n          }\n        }\n      }\n    }]);\n\n    return PlayerModule;\n  }(BaseModule);\n\n  var initLoader = function initLoader() {\n    Promise.all([mountSDK('https://static.vhallyun.com/jssdk/vhall-jssdk-player/latest/vhall-jssdk-player-2.3.8.js'), mountSDK('https://static.vhallyun.com/jssdk/vhall-jssdk-chat/latest/vhall-jssdk-chat-2.1.3.js'), mountSDK('https://static.vhallyun.com/jssdk/vhall-jssdk-interaction/latest/vhall-jssdk-interaction-2.3.3.js')]).then(function (res) {\n    });\n  };\n\n  var VhallSaasSDK = /*#__PURE__*/function () {\n    function VhallSaasSDK() {\n      _classCallCheck(this, VhallSaasSDK);\n\n      this.msgBus = null;\n      this.request = requestApi;\n      this.baseState = store;\n    }\n\n    _createClass(VhallSaasSDK, [{\n      key: \"init\",\n      value: function init() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n          clientType: 'send',\n          receiveType: 'standard'\n        };\n        this.setRequestConfig(options);\n        this.setClientType(options.clientType);\n\n        if (options.clientType === 'send') {\n          return this.initSendLive(options);\n        } else {\n          return this.initReceiveLive(options);\n        }\n      }\n    }, {\n      key: \"initSendLive\",\n      value: function initSendLive(options) {\n        var _this = this;\n\n        return new Promise(function (resolve, reject) {\n          _this.request.live.initSendLive(options).then(function (res) {\n            if (res.code === 200) {\n              store.set('roomInitData', getRoomInfo(res));\n              resolve(res);\n            } else {\n              reject(res);\n            }\n          });\n        });\n      }\n    }, {\n      key: \"initReceiveLive\",\n      value: function initReceiveLive(options) {\n        var _this2 = this;\n\n        var receiveApi = {\n          standard: 'initStandardReceiveLive',\n          embed: 'initEmbeddedReceiveLive',\n          sdk: 'initSdkReceiveLive'\n        };\n        return new Promise(function (resolve, reject) {\n          _this2.request.live[receiveApi[options.receiveType]](options).then(function (res) {\n            if (res.code === 200) {\n              store.set('roomInitData', getRoomInfo(res));\n              resolve(res);\n            } else {\n              reject(res);\n            }\n          });\n        });\n      }\n    }, {\n      key: \"setClientType\",\n      value: function setClientType(clientType) {\n        if (clientType !== 'send' && clientType !== 'receive') {\n          throw new TypeError('clientType is invalid');\n        }\n\n        store.set('clientType', clientType);\n      }\n    }, {\n      key: \"setRequestConfig\",\n      value: function setRequestConfig(options) {\n        if (options.development) {\n          setBaseUrl('https://t-saas-dispatch.vhall.com');\n        } else {\n          setBaseUrl('https://saas-api.vhall.com');\n        }\n\n        setToken(options.token, options.liveToken);\n\n        if (options.requestHeaders) {\n          setRequestHeaders(options.requestHeaders);\n        }\n      }\n    }, {\n      key: \"isReady\",\n      value: function isReady() {\n        return loadSuccess === true;\n      }\n    }, {\n      key: \"createPlayer\",\n      value: function createPlayer() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          var instance = new PlayerModule(options);\n          resolve(instance);\n        });\n      }\n    }, {\n      key: \"createInteractive\",\n      value: function createInteractive() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          var instance = new InteractiveModule(options);\n          instance.init(options).then(function (res) {\n            resolve(instance);\n          });\n        });\n      }\n    }, {\n      key: \"createChat\",\n      value: function createChat() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          var instance = new ChatModule();\n          instance.init(options).then(function (res) {\n            resolve(instance);\n          });\n        });\n      }\n    }, {\n      key: \"createDoc\",\n      value: function createDoc() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new Promise(function (resolve, reject) {\n          var instance = new DocModule(options);\n          resolve(instance);\n        });\n      }\n    }]);\n\n    return VhallSaasSDK;\n  }();\n\n  VhallSaasSDK.requestApi = requestApi;\n  initLoader();\n\n  window.VhallSaasSDK = VhallSaasSDK;\n\n}));\n//# sourceMappingURL=sdk.js.map\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isPlainObject = exports.clone = exports.recursive = exports.merge = exports.main = void 0;\r\nmodule.exports = exports = main;\r\nexports.default = main;\r\nfunction main() {\r\n    var items = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        items[_i] = arguments[_i];\r\n    }\r\n    return merge.apply(void 0, items);\r\n}\r\nexports.main = main;\r\nmain.clone = clone;\r\nmain.isPlainObject = isPlainObject;\r\nmain.recursive = recursive;\r\nfunction merge() {\r\n    var items = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        items[_i] = arguments[_i];\r\n    }\r\n    return _merge(items[0] === true, false, items);\r\n}\r\nexports.merge = merge;\r\nfunction recursive() {\r\n    var items = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        items[_i] = arguments[_i];\r\n    }\r\n    return _merge(items[0] === true, true, items);\r\n}\r\nexports.recursive = recursive;\r\nfunction clone(input) {\r\n    if (Array.isArray(input)) {\r\n        var output = [];\r\n        for (var index = 0; index < input.length; ++index)\r\n            output.push(clone(input[index]));\r\n        return output;\r\n    }\r\n    else if (isPlainObject(input)) {\r\n        var output = {};\r\n        for (var index in input)\r\n            output[index] = clone(input[index]);\r\n        return output;\r\n    }\r\n    else {\r\n        return input;\r\n    }\r\n}\r\nexports.clone = clone;\r\nfunction isPlainObject(input) {\r\n    return input && typeof input === 'object' && !Array.isArray(input);\r\n}\r\nexports.isPlainObject = isPlainObject;\r\nfunction _recursiveMerge(base, extend) {\r\n    if (!isPlainObject(base))\r\n        return extend;\r\n    for (var key in extend) {\r\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype')\r\n            continue;\r\n        base[key] = (isPlainObject(base[key]) && isPlainObject(extend[key])) ?\r\n            _recursiveMerge(base[key], extend[key]) :\r\n            extend[key];\r\n    }\r\n    return base;\r\n}\r\nfunction _merge(isClone, isRecursive, items) {\r\n    var result;\r\n    if (isClone || !isPlainObject(result = items.shift()))\r\n        result = {};\r\n    for (var index = 0; index < items.length; ++index) {\r\n        var item = items[index];\r\n        if (!isPlainObject(item))\r\n            continue;\r\n        for (var key in item) {\r\n            if (key === '__proto__' || key === 'constructor' || key === 'prototype')\r\n                continue;\r\n            var value = isClone ? clone(item[key]) : item[key];\r\n            result[key] = isRecursive ? _recursiveMerge(result[key], value) : value;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n","import merge from \"merge\";\n\n// 判断终端类型\nfunction isPc() {\n    let userAgentInfo = navigator.userAgent;\n    let Agents = [\n        \"Android\",\n        \"iPhone\",\n        \"SymbianOS\",\n        \"Windows Phone\",\n        \"iPad\",\n        \"iPod\",\n    ];\n    let flag = true;\n    for (let v = 0; v < Agents.length; v++) {\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\n        flag = false;\n        break;\n        }\n    }\n    return flag;\n}\n\n// 上传文件\nfunction uploadFile(options, onChange) {\n    var inputObj=document.createElement('input')\n    inputObj.setAttribute('id','file');\n    inputObj.setAttribute('type','file');\n    inputObj.setAttribute('name','file');\n    inputObj.setAttribute(\"style\",'height:0px; position: absolute;');\n    inputObj.setAttribute(\"accept\",options.accept);\n    document.body.appendChild(inputObj);\n    inputObj.value;\n    inputObj.click();\n    inputObj.addEventListener('change', function (e) {\n        onChange && onChange(e)\n    })\n}\n\n// 判断浏览器是否是 chrome88 以上版本\nfunction isChrome88() {\n    let chromeReg = /Chrome\\/(\\d{2})[.\\d]+\\sSafari\\/[.\\d]+$/gi;\n    let chromeResult = chromeReg.exec(navigator.userAgent);\n    return chromeResult && chromeResult.length > 0 && chromeResult[1] > 87\n}\n\nexport { merge, isPc, uploadFile, isChrome88 };\n","\n/**\n * ajax请求 jsonp处理\n * 1.jsonp 请求格式\n *   $fetch({\n *      url:'',\n *      type: 'GET',\n *      jsonp: 'callback',\n *      data: {\n *        name: 123\n *      }\n *   })\n */\nimport { isPc } from './index.js'\n\n\nlet BUSE_URL = 'https://t-saas-dispatch.vhall.com'\nlet TOKEN = ''\nlet LIVETOKEN = ''\nlet HEADERS = {}\n\n\nfunction setBaseUrl(url) {\n    BUSE_URL = url\n}\nfunction setToken(token, livetoken) {\n    console.log(token, livetoken, 888)\n    TOKEN = token\n    LIVETOKEN = livetoken\n}\nfunction setRequestHeaders(options) {\n    Object.assign(HEADERS,options)\n}\n\nfunction $fetch(options) {\n    // if (process.env.NODE_ENV != 'development') {\n    //\n    // }\n    options.url = BUSE_URL + options.url\n    console.log('接口环境', options.url)\n\n    return new Promise((resolve, reject) => {\n        options = options || {}\n        if (options.data) {\n            if (LIVETOKEN) {\n                options.data.live_token = LIVETOKEN\n            }\n            options.data = formatParams(options.data)\n        }\n        options.dataType ? jsonp(options, resolve, reject) : json(options, resolve, reject)\n    })\n}\n\n// JSON请求\nfunction json(params, success, fail) {\n    let xhr = null\n    // interactToken = sessionStorage.getItem('interact-token') || '',\n    // grayId = sessionStorage.getItem('grayId') || '',\n    // vhallJSSDKUserInfo = localStorage.getItem('vhallJSSDKUserInfo') ? JSON.parse(localStorage.getItem('vhallJSSDKUserInfo')) : {},\n    params.type = (params.type || 'GET').toUpperCase()\n\n    if (window.XMLHttpRequest) {\n        xhr = new XMLHttpRequest()\n    } else {\n        xhr = new ActiveXObject('Microsoft.XMLHTTP')\n    }\n\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n            let status = xhr.status\n            if (status >= 200 && status < 300) {\n                let response = ''\n                let type = xhr.getResponseHeader('Content-type')\n\n                if (type.indexOf('xml') !== -1 && xhr.responseXML) {\n                    response = xhr.responseXML\n                } else if (type === 'application/json' || type === 'application/json;charset=UTF-8') {\n                    response = JSON.parse(xhr.responseText)\n\n                } else {\n                    response = xhr.responseText\n                }\n                success && success(response)\n            } else {\n                fail && fail(status)\n            }\n        }\n    }\n\n    if (params.type == 'GET') {\n        if (params.data) {\n            xhr.open(params.type, params.url + '?' + params.data, true)\n        } else {\n            xhr.open(params.type, params.url, true)\n        }\n    } else if (params.type == 'POST') {\n        xhr.open(params.type, params.url, true)\n    }\n\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')\n    if (!LIVETOKEN) {\n        TOKEN && xhr.setRequestHeader('token', TOKEN)\n    }\n    console.log('HEADERS', HEADERS)\n    if (HEADERS) {\n        Object.getOwnPropertyNames(HEADERS).forEach(item => {\n            xhr.setRequestHeader(item, HEADERS[item])\n        })\n    }\n    // if (params.headers && params.headers.activeType == 'new') {\n    //     xhr.setRequestHeader('platform', 18)\n    //     xhr.setRequestHeader('request-id', uuid())\n    //     grayId && xhr.setRequestHeader('gray-id', grayId)\n    //     interactToken && xhr.setRequestHeader('interact-token', interactToken)\n    //     token && xhr.setRequestHeader('token', token)\n    // }\n    if (params.type == 'GET') {\n        xhr.send(null)\n    } else {\n        xhr.send(params.data)\n    }\n}\n\n// JSONP请求\nfunction jsonp(params, success, fail) {\n    let callbackName = params.dataType\n    params['callback'] = callbackName\n\n    let script = document.createElement('script')\n    script.type = \"text/javascript\"\n    script.charset = \"utf-8\"\n    document.body.appendChild(script)\n\n    // 创建回调函数\n    window[callbackName] = function (val) {\n        document.body.removeChild(script)\n        clearTimeout(script.timer)\n        window[callbackName] = null\n        success && success(val)\n    }\n    let stemp = random()\n    script.src = `${params.url}?${params.data}&_=${1594014089800}`\n\n    // 超时处理\n    if (params.time) {\n        script.timer = setTimeout(function () {\n            window[callbackName] = null;\n            head.removeChild(script);\n            fail && fail('请求超时')\n        }, parmas.time * 1000);\n    }\n}\n\n// 格式化数据\nfunction formatParams(data) {\n    var arr = []\n    if (data) {\n        for (let item in data) {\n            arr.push(encodeURIComponent(item) + '=' + encodeURIComponent(data[item]))\n        }\n    }\n    return arr.join('&')\n}\n\n// 随机数\nfunction random() {\n    return Math.floor(Math.random() * 10000 + 500);\n}\n\n\nexport default $fetch\nexport { setBaseUrl, setToken, setRequestHeaders }\n","import $http from '@/utils/http.js'\nimport contextServer from \"@/domain/common/context.server.js\"\n\n// 查询活动基础信息\nconst getWebinarInfo = (params = {}) => {\n    const { state } = contextServer.get('roomBaseServer')\n\n    const retParmams = {\n        webinar_id: params.webinarId || state.watchInitData.webinar.id,\n        is_no_check: 1 || params.is_no_check\n    }\n\n    return $http({\n        url: '/v3/webinars/webinar/info',\n        type: 'POST',\n        data: retParmams\n    })\n}\n\n// 查询活动配置信息\nconst getConfigList = (params = {}) => {\n    const { state } = contextServer.get('roomBaseServer')\n\n    const retParmams = {\n        webinar_id: params.webinar_id || state.watchInitData.webinar.id,\n        webinar_user_id: params.webinar_user_id || state.watchInitData.webinar.userinfo.user_id,\n        scene_id: params.scene_id || 1\n    }\n\n    return $http({\n        url: '/v3/users/permission/get-config-list',\n        type: 'POST',\n        data: retParmams\n    })\n}\n\n// 设置设备检测状态\nconst setDevice = (params = {}) => {\n    const { state } = contextServer.get('roomBaseServer')\n\n    const retParmams = {\n        room_id: params.room_id || state.watchInitData.interact.room_id,\n        status: params.status || 1,\n        type: params.type || 0\n  }\n\n    return $http({\n        url: '/v3/interacts/room/set-device',\n        type: 'POST',\n        data: retParmams\n    })\n}\n\nconst roomBase = {\n    getWebinarInfo,\n    getConfigList,\n    setDevice\n}\n\nexport default roomBase","import $http from '@/utils/http.js'\nimport { merge } from '../utils/index.js'\nimport contextServer from \"../domain/common/context.server\"\n\n// 账号登录&&验证码登录\nconst loginInfo = (params = {}) => {\n    // const { state } = contextServer.get('roomInitGroupServer') || {}\n\n    const retParmams = params\n    retParmams.biz_id = 2\n\n    return $http({\n        url: '/v3/users/user-consumer/login',\n        type: 'POST',\n        data: retParmams\n    })\n}\n\n// 第三方授权\nconst callbackUserInfo = (params = {}) => {\n    // const { state } = contextServer.get('roomBaseServer')\n\n    const retParmams = params;\n\n    return $http({\n        url: '/v3/users/oauth/callback',\n        type: 'POST',\n        data: retParmams\n    })\n}\n\n// 注册\nconst register = (params = {}) => {\n    // const { state } = contextServer.get('roomBaseServer')\n\n    const retParmams = { ...params }\n\n    return $http({\n        url: '/v3/users/user-consumer/register',\n        type: 'POST',\n        data: retParmams\n    })\n}\n\n// 手机||邮箱验证码\nconst codeCheck = (params = {}) => {\n    const { state } = contextServer.get('roomBaseServer')\n\n    const retParmams = { ...params }\n\n    return $http({\n        url: '/v3/users/code-consumer/check',\n        type: 'POST',\n        data: retParmams\n    })\n}\n\n// 密码重置\nconst resetPassword = (params = {}) => {\n    const { state } = contextServer.get('roomInitGroupServer')\n\n    const retParmams = Object.assign({},params,{\n        biz_id: state.biz_id || 2\n    })\n\n    return $http({\n        url: '/v3/users/user-consumer/reset-password',\n        type: 'POST',\n        data: retParmams\n    })\n}\n\nconst userBase = {\n    loginInfo,\n    callbackUserInfo,\n    register,\n    codeCheck,\n    resetPassword,\n}\n\nexport default userBase","import $http from '@/utils/http.js'\nimport contextServer from \"@/domain/common/context.server.js\"\n\n// 获取插播文件列表\nconst getInsertFileList = (params = {}) => {\n    const { state } = contextServer.get('roomBaseServer')\n\n    const retParmams = {\n        webinar_id: params.webinarId || state.watchInitData.webinar.id,\n        is_no_check: params.is_no_check || 1,\n        pos: params.pos || 0,\n        limit: params.limit || 10,\n        name: params.name || '',\n        get_no_trans: params.get_no_trans || 1,\n    }\n\n    return $http({\n        url: '/v3/webinars/waiting-file/get-list',\n        type: 'POST',\n        data: retParmams\n    })\n}\n\n// 删除插播文件\nconst deleteInsertFile = (params = {}) => {\n    return $http({\n        url: '/v3/webinars/waiting-file/get-list',\n        type: 'POST',\n        data: params\n    })\n}\n\nconst insertFile = {\n    getInsertFileList,\n    deleteInsertFile\n}\n\nexport default insertFile\n","import '../libs/sdk.js'\nimport roomBase from './roomBase.js'\nimport user from './user.js'\nimport insertFile from './insertFile.js'\n\nclass RequestApi {\n    constructor() {\n        this.live = window.VhallSaasSDK.requestApi.live\n        this.roomBase = roomBase\n        this.user = user\n        this.insertFile = insertFile\n    }\n}\n\nconst requestApi = new RequestApi()\nexport default requestApi\n","export default function useEventEmitter() {\n    const state = {\n        eventMap: {}\n    }\n\n    const $on = (eventName, callback) => {\n        const { eventMap } = state;\n        if (eventMap[eventName] === undefined) eventMap[eventName] = []\n\n        eventMap[eventName].push(callback)\n    }\n\n    const $emit = (eventName, payload = null) => {\n        const { eventMap } = state;\n\n        if (!eventMap[eventName] || eventMap[eventName].length === 0) return;\n\n        eventMap[eventName].forEach(eventCallback => {\n            eventCallback(payload)\n        })\n    }\n\n    const $off = (eventName, callback = null) => {\n        const { eventMap } = state;\n\n        if (callback === null) {\n            eventMap[eventName] = [];\n            return;\n        }\n\n        const index = eventMap[eventName].findIndex(cb => cb === callback)\n        index && eventMap[eventName].splice(index, 1)\n    }\n\n    const $destroy = () => {\n        const { eventMap } = state;\n        eventMap = {};\n    }\n\n    return { $on, $emit, $off, $destroy }\n}","\nimport requestApi from '@/request/index.js';\nimport contextServer from \"@/domain/common/context.server.js\"\nimport useEventEmitter from '@/domain/common/eventEmitter.server.js';\n\nexport default function useRoomBaseServer() {\n    const state = {\n        inited: false,\n        isLiveOver: false,\n        webinarVo: {},\n        watchInitData: {},\n        watchInitErrorData: undefined,// 默认undefined，如果为其他值将触发特殊逻辑\n        configList: {}\n    }\n\n    const eventEmitter = useEventEmitter()\n\n    // 初始化房间信息,包含发起/观看(嵌入/标品)\n    const getWatchInitData = (options) => {\n        console.log(contextServer.get('useRoomInitGroupServer'))\n        const { state: roomInitGroupServer } = contextServer.get('roomInitGroupServer')\n\n        console.log('init options:', roomInitGroupServer)\n\n        return roomInitGroupServer.vhallSaasInstance.init(options).then(res => {\n            if (res.code === 200) {\n                state.inited = true;\n                state.watchInitData = res.data;\n            } else {\n                state.watchInitErrorData = res;\n            }\n            return res\n        });\n    }\n\n    const on = (type, cb) => {\n        eventEmitter.$on(type, cb)\n    }\n\n    const destroy = () => {\n        eventEmitter.$destroy()\n    }\n\n\n    // 获取活动信息\n    const getWebinarInfo = (data) => {\n        return requestApi.roomBase.getWebinarInfo(data).then(res => {\n            state.webinarVo = res.data;\n            return res;\n        })\n    }\n\n    // 获取房间权限配置列表\n    const getConfigList = (data) => {\n        return requestApi.roomBase.getConfigList(data).then(res => {\n            state.configList = JSON.parse(res.data.permissions);\n            return res;\n        })\n    }\n\n    // 设置设备检测状态\n    const setDevice = (data) => {\n        return requestApi.roomBase.setDevice(data).then(res => {\n            return res;\n        })\n    }\n\n    // 开播startLive\n    const startLive = (data = {}) => {\n        setDevice(data)\n        return requestApi.live.startLive(data)\n    }\n\n    // 结束直播\n    const endLive = (data) => {\n        return requestApi.live.endLive(data)\n    }\n\n    const init = (option) => {\n        return getWatchInitData(option)\n    }\n\n\n\n    return { state, init, on, destroy, getWatchInitData, getWebinarInfo, getConfigList, startLive, endLive, setDevice }\n\n}\n","import requestApi from '../../request/index';\nimport '../../libs/sdk.js'\n\nexport default function useUserServer() {\n    const state = {}\n\n    // 验证码登录&&账号登录\n    const loginInfo = (data) => {\n        return requestApi.user.loginInfo(data)\n    }\n\n    // 第三方授权\n    const callbackUserInfo = (data) => {\n        return requestApi.user.callbackUserInfo(data)\n    }\n\n    // 注册\n    const register = (data) => {\n        return requestApi.user.register(data)\n    }\n\n    // 手机||邮箱验证码\n    const codeCheck = (data) => {\n        return requestApi.user.codeCheck(data)\n    }\n\n    // 密码重置\n    const resetPassword = (data) => {\n        return requestApi.user.resetPassword(data)\n    }\n\n    return { state, loginInfo, callbackUserInfo, register, codeCheck, resetPassword }\n}","import requestApi from '../../request/index.js';\nimport { uploadFile, isChrome88 } from '@/utils/index.js'\nimport contextServer from \"@/domain/common/context.server.js\"\n\nfunction useInsertFileServer() {\n    let state = {\n        localInsertStream: null,\n        isChrome88: isChrome88()\n    }\n\n    // 获取插播列表\n    const getInsertFileList = (params = {}) => {\n        return requestApi.insertVideo.getInsertFileList(params)\n    }\n\n    // 删除插播文件\n    const deleteInsertFile = (params = {}) => {\n        return requestApi.insertVideo.deleteInsertFile(params)\n    }\n\n    // 检查captureStream是否能用\n    const isCanUseCaptureStream = () => {\n        const v = document.createElement('video');\n        if (typeof v.captureStream !== 'function') {\n            return false\n        }\n        return  true\n    }\n\n    // 选择音视频文件\n    const selectLocalFile = (onChange = (e) => {}) => {\n        const { state: roomBaseState } = contextServer.get('roomBaseServer')\n\n        let accept = 'video/mp4,video/webm,audio/ogg'\n        if (roomBaseState.webinar.mode == 1) { // 直播模式：1-音频、2-视频、3-互动\n            accept = 'audio/ogg'\n        }\n\n        const retParams = {\n            accept\n        }\n\n        uploadFile(retParams, onChange)\n    }\n\n    // 注册本地音视频播放器开始/播放等事件回调\n    const initVideoEvents = (videoELement, cbs) => {\n        videoELement.addEventListener(\"ended\", () => {\n            cbs.onended && cbs.onended()\n        });\n        videoELement.addEventListener(\"play\", ()=>{\n            cbs.onplay && cbs.onplay()\n\n        });\n        videoELement.addEventListener(\"pause\", ()=>{\n            cbs.onpause && cbs.onpause()\n        });\n    }\n\n    // 创建video标签播放本地音视频文件\n    const createLocalVideoElement = (file, options = {}, cbs = {}) => {\n        return new Promise((resolve, reject) => {\n            state._isAudio = file.type.includes('ogg')\n            const videoElement =  document.createElement('video')\n            state._videoElement = videoElement\n            videoElement.setAttribute(\"width\", \"100%\")\n            videoElement.setAttribute(\"height\", \"100%\")\n            const windowURL = window.URL || window.webkitURL\n            const fileUrl = windowURL.createObjectURL(file)\n            videoElement.src = fileUrl\n            videoElement.onload = () => {\n                windowURL.revokeObjectURL(fileUrl)\n            }\n            const videoContainerElement = document.getElementById(options.el)\n            videoContainerElement.innerHTML = ''\n            videoContainerElement.appendChild(videoElement)\n            videoElement.addEventListener('canplay', (e) => {\n                setTimeout(()=>{\n                    console.log(videoElement.videoHeight,videoElement.videoWidth, '分辨率', (videoElement.videoHeight > 720 || videoElement.videoWidth > 1280))\n                    if (videoElement.videoHeight > 720 || videoElement.videoWidth > 1281){\n                        reject({ msg: '视频分辨率过高，请打开分辨率为1280*720以下的视频' })\n                    } else {\n                        resolve(videoElement)\n                    }\n                },100)\n            })\n            initVideoEvents(cbs)\n        })\n    }\n\n    // 使用canvas抓流\n    const captureStreamByCanvas = () => {\n        const videoElement = state._videoElement\n        const chrome88Canvas = document.createElement('canvas')\n        const chrome88canvasContext = chrome88Canvas.getContext('2d')\n\n        // 将video播放器的画面绘制至canvas上\n        clearInterval(state._canvasInterval)\n        function drawVideoCanvas() {\n            chrome88canvasContext.drawImage(videoElement, 0, 0, chrome88Canvas.width, chrome88Canvas.height)\n        }\n        chrome88Canvas.width = videoElement.videoWidth;\n        chrome88Canvas.height = videoElement.videoHeight;\n        drawVideoCanvas();\n        state._canvasInterval = setInterval(drawVideoCanvas, 40)\n\n        // 从canvas中抓取MediaStream\n        const canvasStream = chrome88Canvas.captureStream()\n        // 从video播放器中抓取MediaStream\n        const vodCpatureStream = videoElement.captureStream()\n        // audio track 从[video播放器抓取MediaStream对象]中获取\n        const audioTrack = vodCpatureStream.getAudioTracks()[0]\n        // video track 从[canvas抓取MediaStream对象]中获取\n        const videoTrack = canvasStream.getVideoTracks()[0]\n        return { audioTrack, videoTrack }\n    }\n\n    // 使用videoElement抓流\n    const captureStreamByVideo = () => {\n        let videoStream\n        const videoElement = state._videoElement\n        if (videoElement.captureStream) {\n            videoStream = videoElement.captureStream();\n            if (!videoStream) {\n                return false\n            }\n            if(videoStream.getTracks().length < 1){\n                return false\n            }\n            return videoStream;\n        }\n    }\n\n    // 抓取本地音视频轨道\n    const captureLocalStream = () => {\n        if (state.isChrome88 && !state._isAudio) {\n            return captureStreamByCanvas()\n        } else {\n            return captureStreamByVideo()\n        }\n    }\n\n    // 创建本地插播流\n    const createLocalInsertStream = (options = {}) => {\n        const retSteram = captureLocalStream()\n        const { state: roomBaseServerState } = contextServer.get('roomBaseServer')\n\n        let retOptions = {\n            videoNode: options.videoNode, // 传入本地互动流的显示容器，必填\n            audio: false,\n            video: false,\n            profile: VhallRTC.RTC_VIDEO_PROFILE_1080P_16x9_H, // 默认1080p，后续sdk会做优化，自动识别视频清晰度\n            attributes: JSON.stringify({\n                role: roomBaseServerState.watchInitData.join_info.role_name,\n                nickname: roomBaseServerState.watchInitData.join_info.nickname,\n                stream_type: 4,\n                has_video: state._isAudio ? 0 : 1\n            }),\n            streamType: 4\n\n        }\n\n        if (state.isChrome88 && !state._isAudio) {\n            retOptions = {\n                ...retOptions,\n                audioTrack: retSteram.audioTrack, // 音频轨道\n                videoTrack: retSteram.videoTrack, // 视频轨道\n            }\n        } else {\n            retOptions = {\n                ...retOptions,\n                mixOption: { // 选填，指定此本地流的音频和视频是否加入旁路混流。支持版本：2.3.2及以上。\n                    mixVideo: state._isAudio ? false : true, // 视频是否加入旁路混流\n                    mixAudio: true,  // 音频是否加入旁路混流\n                },\n                hasInsertedStream: true, // 使用外部插入的MediaStream流对象\n                insertedStream: retSteram,  // 在上一步已抓取的MediaStream流对象\n            }\n        }\n\n        const interactiveServer = contextServer.get('useInteractiveServer')\n        return interactiveServer.createLocalStream(retOptions)\n    }\n\n    // 推插播流\n    const publishInsertStream = (stream) => {\n        const interactiveServer = contextServer.get('useInteractiveServer')\n        return new Promise((resolve, reject) => {\n            interactiveServer.publishStream({ streamId: stream.streamId })\n                .then(res => {\n                    state._LoclaStreamId = res.streamId\n                    resolve(res)\n                })\n                .catch(reject)\n        })\n    }\n\n    // 停止推流\n    const stopPublishInsertStream = (streamId) => {\n        return new Promise((resolve, reject)=>{\n            const interactiveServer = contextServer.get('useInteractiveServer')\n            interactiveServer.unpublishStream({ streamId: streamId || this._LoclaStreamId })\n                .then(res => {\n                    this._LoclaStreamId = null\n                    resolve(res)\n                })\n                .catch(reject)\n        })\n    }\n\n    // 订阅流\n    const subscribeInsertStream = (options = {}) => {\n        const interactiveServer = contextServer.get('useInteractiveServer')\n        return interactiveServer.subscribeStream(options)\n    }\n\n    // 取消订阅流\n    const unsubscribeInsertStream = (options = {}) => {\n        const interactiveServer = contextServer.get('useInteractiveServer')\n        return interactiveServer.unSubscribeStream(options)\n    }\n\n    return {\n        state,\n        getInsertFileList,\n        deleteInsertFile,\n        isCanUseCaptureStream,\n        selectLocalFile,\n        createLocalVideoElement,\n        createLocalInsertStream,\n        publishInsertStream,\n        stopPublishInsertStream,\n        subscribeInsertStream,\n        unsubscribeInsertStream\n    }\n}\n\n\nexport default useInsertFileServer\n","import contextServer from '@/domain/common/context.server.js'\nimport useMsgServer from '@/domain/common/msg.server.js'\nimport useRoomBaseServer from '@/domain/roombase/roombase.server.js'\nimport useInteractiveServer from '@/domain/stream/interactive.server.js';\nimport { setBaseUrl, setToken, setRequestHeaders } from '@/utils/http.js';\n\nexport default function useRoomInitGroupServer(options = {}) {\n    const state = {\n        bizId: options.biz_id || 2,// 区分 端（知客/直播） 2-直播 4-知客\n        vhallSaasInstance: null\n    }\n\n    let roomBaseServer = useRoomBaseServer();\n    let msgServer = useMsgServer();\n    let interactiveServer = useInteractiveServer()\n\n    contextServer.set('roomBaseServer', roomBaseServer)\n    contextServer.set('msgServer', msgServer)\n    contextServer.set('interactiveServer',interactiveServer)\n\n    const reload = async () => {\n        msgServer.destroy();\n        await msgServer.init();\n    }\n\n    const setRequestConfig = (options) => {\n        setToken(options.token, options.liveToken)\n\n        if (options.requestHeaders) {\n            setRequestHeaders(options.requestHeaders)\n        }\n    }\n\n    const initSdk = () => {\n        return new Promise((resolve,reject)=>{\n            state.vhallSaasInstance = new window.VhallSaasSDK()\n            addToContext()\n            resolve()\n        })\n    }\n\n    const initSendLive = async (customOptions = {}) => {\n        await initSdk()\n        const defaultOptions = {\n            clientType: 'send',\n            development: true,\n            requestHeaders: {\n                platform: 7\n            }\n        }\n        const options = Object.assign({}, defaultOptions, customOptions)\n        setRequestConfig(options)\n\n        await roomBaseServer.init(options);\n        await roomBaseServer.getWebinarInfo();\n        await roomBaseServer.getConfigList();\n        await msgServer.init();\n        await interactiveServer.init();\n\n        return true;\n    }\n\n    const initReceiveLive = async (customOptions = {}) => {\n        initSdk()\n        const defaultOptions = {\n            clientType: 'receive',\n            development: true,\n            requestHeaders: {\n                platform: 7\n            },\n            receiveType: 'standard'\n        }\n        const options = Object.assign({}, defaultOptions, customOptions)\n        setRequestConfig(options)\n\n        await roomBaseServer.init(options)\n        await roomBaseServer.getWebinarInfo()\n        await roomBaseServer.getConfigList()\n        await msgServer.init();\n        await interactiveServer.init();\n        \n        return true;\n    }\n\n    const result = { state,roomBaseServer, msgServer,interactiveServer,reload, initSendLive, initReceiveLive }\n\n    function addToContext() {\n        contextServer.set('roomInitGroupServer', result)\n    }\n\n    return result;\n}\n"],"names":["useContextServer","state","serverPool","set","key","server","get","show","clear","contextServer","useMsgServer","msgInstance","init","roomInitGroupServer","vhallSaasInstance","createChat","then","res","$on","eventType","fn","$emit","params","destroy","useInteractiveServer","interactiveInstance","streamId","option","createInteractive","interactives","console","log","instance","createLocalStream","options","createLocalVideoStream","addConfig","createLocaldesktopStream","createLocalAudioStream","createLocalPhotoStream","stopStream","destroyStream","publishStream","unpublishStream","subscribeStream","unSubscribeStream","setDual","muteVideo","muteAudio","startBroadCast","stopBroadCast","setBroadCastLayout","setBroadCastScreen","mainScreenStreamId","getDevices","getCameras","getMicrophones","getSpeakers","getVideoConstraints","deviceId","isScreenShareSupported","checkSystemRequirements","getPacketLossRate","startPushStream","setTimeout","createLocalAndPushStream","interactive","camerasList","micropsList","videoConstraintsList","data","videoInputDevices","filter","d","label","audioInputDevices","RESOLUTION_REG","item","test","videoNode","videoDevice","audioDevice","profile","err","mountSDK","node","document","resolve","uploadFile","onChange","inputObj","createElement","setAttribute","accept","body","appendChild","value","click","addEventListener","e","isChrome88","chromeReg","chromeResult","exec","navigator","userAgent","length","BUSE_URL","TOKEN","LIVETOKEN","HEADERS","setBaseUrl","url","setToken","token","livetoken","setRequestHeaders","Object","assign","$fetch","Promise","reject","live_token","formatParams","dataType","jsonp","json","success","fail","xhr","type","toUpperCase","window","XMLHttpRequest","ActiveXObject","onreadystatechange","readyState","status","response","getResponseHeader","indexOf","responseXML","JSON","parse","responseText","open","setRequestHeader","getOwnPropertyNames","forEach","send","callbackName","script","charset","val","removeChild","clearTimeout","timer","src","time","head","parmas","arr","push","encodeURIComponent","join","getWebinarInfo","retParmams","webinar_id","webinarId","watchInitData","webinar","id","is_no_check","$http","getConfigList","webinar_user_id","userinfo","user_id","scene_id","setDevice","room_id","interact","roomBase","loginInfo","biz_id","callbackUserInfo","register","codeCheck","resetPassword","userBase","getInsertFileList","pos","limit","name","get_no_trans","deleteInsertFile","insertFile","RequestApi","live","VhallSaasSDK","requestApi","user","useEventEmitter","eventMap","eventName","callback","undefined","payload","eventCallback","$off","index","findIndex","cb","splice","$destroy","useRoomBaseServer","inited","isLiveOver","webinarVo","watchInitErrorData","configList","eventEmitter","getWatchInitData","code","on","permissions","startLive","endLive","useUserServer","useInsertFileServer","localInsertStream","insertVideo","isCanUseCaptureStream","v","captureStream","selectLocalFile","roomBaseState","mode","retParams","initVideoEvents","videoELement","cbs","onended","onplay","onpause","createLocalVideoElement","file","_isAudio","includes","videoElement","_videoElement","windowURL","URL","webkitURL","fileUrl","createObjectURL","onload","revokeObjectURL","videoContainerElement","getElementById","el","innerHTML","videoHeight","videoWidth","msg","captureStreamByCanvas","chrome88Canvas","chrome88canvasContext","getContext","clearInterval","_canvasInterval","drawVideoCanvas","drawImage","width","height","setInterval","canvasStream","vodCpatureStream","audioTrack","getAudioTracks","videoTrack","getVideoTracks","captureStreamByVideo","videoStream","getTracks","captureLocalStream","createLocalInsertStream","retSteram","roomBaseServerState","retOptions","audio","video","VhallRTC","RTC_VIDEO_PROFILE_1080P_16x9_H","attributes","stringify","role","join_info","role_name","nickname","stream_type","has_video","streamType","mixOption","mixVideo","mixAudio","hasInsertedStream","insertedStream","interactiveServer","publishInsertStream","stream","_LoclaStreamId","stopPublishInsertStream","subscribeInsertStream","unsubscribeInsertStream","useRoomInitGroupServer","bizId","roomBaseServer","msgServer","reload","setRequestConfig","liveToken","requestHeaders","initSdk","addToContext","initSendLive","customOptions","defaultOptions","clientType","development","platform","initReceiveLive","receiveType","result"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}