!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["vhall-sass-domain"]={})}(this,function(t){"use strict";function r(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function d(u){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=u.apply(t,a);function i(t){c(r,e,n,i,o,"next",t)}function o(t){c(r,e,n,i,o,"throw",t)}i(void 0)})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){throw new TypeError('"'+t+'" is read-only')}function v(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h=function(){var n={};return{set:function(t,e){n[t]=e},get:function(t){return n[t]},show:function(){return f({},n)},clear:function(){u("serverPool")}}}();var e,n,l,p=(function(t,e){function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.apply(void 0,t)}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(!0===t[0],!1,t)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(!0===t[0],!0,t)}function c(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;++n)e.push(c(t[n]));return e}if(s(t)){e={};for(n in t)e[n]=c(t[n]);return e}return t}function s(t){return t&&"object"==typeof t&&!Array.isArray(t)}function o(t,e,n){var r;!t&&s(r=n.shift())||(r={});for(var i=0;i<n.length;++i){var o,a=n[i];if(s(a))for(var u in a)"__proto__"!==u&&"constructor"!==u&&"prototype"!==u&&(o=t?c(a[u]):a[u],r[u]=e?function t(e,n){if(!s(e))return n;for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=s(e[r])&&s(n[r])?t(e[r],n[r]):n[r]);return e}(r[u],o):o)}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.isPlainObject=e.clone=e.recursive=e.merge=e.main=void 0,t.exports=e=n,e.default=n,(e.main=n).clone=c,n.isPlainObject=s,n.recursive=i,e.merge=r,e.recursive=i,e.clone=c,e.isPlainObject=s}(e={exports:{}},e.exports),e.exports),g=(n=p)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;function m(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,r=0;r<e.length;r++)if(0<t.indexOf(e[r])){n=!1;break}return n}function _(){return"xxxxxxyxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function y(){function i(e){for(var t in a)!function(t){e.$on(t,function(e){console.log("----domain----,消息事件",e,a[t]),a[t].length&&a[t].forEach(function(t){t(e)})})}(t)}function e(t){for(var e in a)t.$off(e)}function n(){for(var t in console.log("重新注册保活消息",o.keepAliveMsgEventList),o.keepAliveMsgEventList)!function(t){o.msgInstance.$on(t,function(e){o.keepAliveMsgEventList[t].length&&o.keepAliveMsgEventList[t].forEach(function(t){t(e)})})}(t)}var o={msgInstance:null,eventsPool:[],msgSdkInitOptions:{},groupMsgSdkInitOptions:{},keepAliveMsgEventList:{}},r=null,a={ROOM_MSG:[],CHAT:[],CUSTOM_MSG:[],OFFLINE:[],ONLINE:[],DOC_MSG:[],JOIN:[],LEFT:[]};Object.defineProperty(o,"groupMsgInstance",{get:function(){return r},set:function(t){(t||r)&&t!==r&&(t?(o.msgInstance&&e(o.msgInstance),n()):(function(){for(var t in o.keepAliveMsgEventList)o.msgInstance.$off(t)}(),o.msgInstance&&i(o.msgInstance)),r=t)}});function u(){var t=h.get("roomBaseServer").state,e=m(),n=t.watchInitData,r=t.groupInitData;return{context:{nickname:n.join_info.nickname,avatar:n.join_info.avatar,pv:n.pv.num2||n.pv.real,uv:n.online.num||n.online.virtual,role_name:n.join_info.role_name,device_type:e?"2":"1",device_status:"0",audience:"send"!==t.clientType,kick_mark:"".concat(_()).concat(n.webinar.id),privacies:n.join_info.privacies||"",groupInitData:r},appId:n.interact.paas_app_id,accountId:n.join_info.third_party_user_id,channelId:n.interact.channel_id,token:n.interact.paas_access_token,hide:!1}}function c(){var t=h.get("roomBaseServer").state,e=m(),n=t.watchInitData,r=t.groupInitData;return{context:{nickname:n.join_info.nickname,avatar:n.join_info.avatar,pv:n.pv.num2||n.pv.real,uv:n.online.num||n.online.virtual,role_name:n.join_info.role_name,device_type:e?"2":"1",device_status:"0",watch_type:e?"1":"2",audience:"send"!==t.clientType,kick_mark:"".concat(_()).concat(n.webinar.id),privacies:n.join_info.privacies||"",groupInitData:r},appId:n.interact.paas_app_id,accountId:n.join_info.third_party_user_id,channelId:r.channel_id,token:r.access_token,hide:!1}}return{state:o,init:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(h.get("roomInitGroupServer")){var e=h.get("roomInitGroupServer").state,n=u(),t=g.recursive({},n,t);return console.log("聊天初始化参数",t),o.msgSdkInitOptions=t,e.vhallSaasInstance.createChat(t).then(function(t){return o.msgInstance=t,o.groupMsgInstance||i(t),t})}},initGroupMsg:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!h.get("roomInitGroupServer"))return Promise.reject("No Room Exist");var e=h.get("chatServer");e&&e.clearHistoryMsg();var n=h.get("roomInitGroupServer").state,e=c(),t=g.recursive({},e,t);return o.groupMsgSdkInitOptions=t,console.log("创建子房间聊天实例",t),n.vhallSaasInstance.createChat(t).then(function(r){return console.log("domain----创建子房间聊天实例成功",r),o.groupMsgInstance=r,setTimeout(function(){var t,e,n;t=r,e=h.get("roomBaseServer").state,n=e.watchInitData,e=e.groupInitData,t.emitRoomMsg(f(f({type:"group_join_info",nickname:n.join_info.nickname},e),{},{accountId:n.join_info.third_party_user_id}))},500),i(r),r})},destroy:function(){o.msgInstance&&(o.msgInstance.destroy(),o.msgInstance=null)},destroyGroupMsg:function(){o.groupMsgInstance&&(o.groupMsgInstance.destroy(),o.groupMsgInstance=null)},$on:function(t,e,n){if(!a.hasOwnProperty(t))throw new TypeError("Invalid eventType");n&&(o.keepAliveMsgEventList[t]||(o.keepAliveMsgEventList[t]=[]),o.keepAliveMsgEventList[t].push(e)),a[t].push(e)},$off:function(t,e){e||(a[t]=[]);e=a[t].indexOf(e);-1<e&&a[t].splice(e,1)},getGroupDefaultOptions:c,getDefaultOptions:u,setMainChannelMute:function(t){(t?e:i)(o.msgInstance)},sendRoomMsg:function(t){(o.groupMsgInstance||o.msgInstance).emitRoomMsg(t)},sendChatMsg:function(t,e){(o.groupMsgInstance||o.msgInstance).emitTextChat(t,e)},getCurrentMsgInitOptions:function(){return JSON.parse(JSON.stringify(o.msgSdkInitOptions))},getCurrentGroupMsgInitOptions:function(){return JSON.parse(JSON.stringify(o.groupMsgSdkInitOptions))}}}p.isPlainObject,p.clone,p.recursive,p.merge,p.main,l=function(){function r(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cc(t){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};for(var n,r={},i=Object.keys(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function d(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=l(n);return d(this,r?(t=l(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function h(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var e="",g="",m="",_=null;function y(t){e=t}function I(n){return n.url=e+n.url,console.log("接口环境",n.url),new Promise(function(t,e){(n=n||{}).data&&(m&&(n.data.live_token=m),n.data=function(t){var e=[];if(t)for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}(n.data)),(n.dataType?function(t,e,n){var r=t.dataType;t.callback=r;var i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",document.body.appendChild(i),window[r]=function(t){document.body.removeChild(i),clearTimeout(i.timer),window[r]=null,e&&e(t)},i.src="".concat(t.url,"?").concat(t.data,"&_=",1594014089800),t.time&&(i.timer=setTimeout(function(){window[r]=null,head.removeChild(i),n&&n("请求超时")},1e3*parmas.time))}:function(t,r,i){var o=null;t.type=(t.type||"GET").toUpperCase(),o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.onreadystatechange=function(){var t,e,n;4==o.readyState&&(200<=(t=o.status)&&t<300?(n="",n=-1!==(e=o.getResponseHeader("Content-type")).indexOf("xml")&&o.responseXML?o.responseXML:"application/json"===e||"application/json;charset=UTF-8"===e?JSON.parse(o.responseText):o.responseText,console.log("调试模式SDK******response.then******",n),r&&r(n)):i&&i(t))},"GET"==t.type?t.data?o.open(t.type,t.url+"?"+t.data,!0):o.open(t.type,t.url,!0):"POST"==t.type&&o.open(t.type,t.url,!0);o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m||g&&o.setRequestHeader("token",g);_&&Object.getOwnPropertyNames(_).forEach(function(t){o.setRequestHeader(t,_[t])});console.log("调试模式SDK******request.then******",o),"GET"==t.type?o.send(null):o.send(t.data)})(n,t,e)})}function b(t){return{webinar:{type:(t=t.data).webinar.type,id:t.webinar.id},paasInfo:{channel_id:t.interact.channel_id,inav_id:t.interact.inav_id,paas_access_token:t.interact.paas_access_token,paas_app_id:t.interact.paas_app_id,room_id:t.interact.room_id},userInfo:{avatar:t.join_info.avatar,is_gag:t.join_info.is_gag,is_kick:t.join_info.is_kick,join_id:t.join_info.join_id,nickname:t.join_info.nickname,role_name:t.join_info.role_name,third_party_user_id:t.join_info.third_party_user_id},reportData:{guid:t.report_data.guid,aid:t.interact.room_id,report_extra:t.report_data.report_extra}}}var S=new(function(){function t(){i(this,t),this.state={}}return u(t,[{key:"set",value:function(t,e){this.state[t]=e}},{key:"get",value:function(t){return this.state[t]}}]),t}()),P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w,k,E={exports:{}};function T(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D.apply(void 0,t)}function D(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R(!0===t[0],!1,t)}function O(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return R(!0===t[0],!0,t)}function C(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;++n)e.push(C(t[n]));return e}if(A(t)){e={};for(n in t)e[n]=C(t[n]);return e}return t}function A(t){return t&&"object"===cc(t)&&!Array.isArray(t)}function R(t,e,n){var r;!t&&A(r=n.shift())||(r={});for(var i=0;i<n.length;++i){var o,a=n[i];if(A(a))for(var u in a)"__proto__"!==u&&"constructor"!==u&&"prototype"!==u&&(o=t?C(a[u]):a[u],r[u]=e?function t(e,n){if(!A(e))return n;for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=A(e[r])&&A(n[r])?t(e[r],n[r]):n[r]);return e}(r[u],o):o)}return r}k=(w=E).exports,Object.defineProperty(k,"__esModule",{value:!0}),k.isPlainObject=k.clone=k.recursive=k.merge=k.main=void 0,w.exports=k=T,k.default=T,(k.main=T).clone=C,T.isPlainObject=A,T.recursive=O,k.merge=D,k.recursive=O,k.clone=C,k.isPlainObject=A;var L=t(E.exports);function x(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,r=0;r<e.length;r++)if(0<t.indexOf(e[r])){n=!1;break}return n}var M,N,V={initSendLive:function(t){var r={webinar_id:t.webinarId,live_token:t.live_token||"",nickname:t.nickname||"",email:t.email||"",check_online:t.check_online||0,biz_id:t.biz_id||""};return new Promise(function(e,n){I({url:"/v3/webinars/live/init",type:"GET",data:r}).then(function(t){e(t)}).catch(function(t){return n(t)})})},initStandardReceiveLive:function(t){var r={webinar_id:t.webinarId,visitor_id:t.visitor_id||"",record_id:t.record_id||"",refer:t.refer||"",biz_id:t.biz_id||""};return new Promise(function(e,n){I({url:"/v3/webinars/watch/init",type:"GET",data:r}).then(function(t){e(t)}).catch(function(t){return n(t)})})},initEmbeddedReceiveLive:function(t){var r={webinar_id:t.webinarId,visitor_id:t.visitor_id||"",record_id:t.record_id||"",email:t.email||"",nickname:t.nickname||"",k:t.k||"",state:t.state||"",refer:t.refer||"",sign:t.sign||"",ts:t.ts||"",biz_id:t.biz_id||"",third_user_id:t.third_user_id||""};return new Promise(function(e,n){I({url:"/v3/webinars/watch/inline-init",type:"GET",data:r}).then(function(t){e(t)}).catch(function(t){return n(t)})})},initSdkReceiveLive:function(t){var r={webinar_id:t.webinarId,record_id:t.record_id||"",email:t.email||"",nickname:t.nickname||"",pass:t.pass||"",k:t.k||"",refer:t.refer||"",qrcode:t.qrcode||"",share_id:t.share_id||"",visitor_id:t.visitor_id||"",biz_id:t.biz_id||"",third_user_id:t.third_user_id||""};return new Promise(function(e,n){I({url:"/v3/webinars/watch/sdk-init",type:"GET",data:r}).then(function(t){e(t)}).catch(function(t){return n(t)})})},startLive:function(t){var e=S.get("roomInitData").webinar,e={webinar_id:(void 0===e?{}:e).id},r=L.recursive({},e,t);return new Promise(function(e,n){I({url:"/v3/webinars/live/start",type:"POST",data:r}).then(function(t){return e(t)}).catch(function(t){return n(t)})})},endLive:function(t){var e=S.get("roomInitData").webinar,e={webinar_id:(void 0===e?{}:e).id},r=L.recursive({},e,t);return new Promise(function(e,n){I({url:"/v3/webinars/live/end",type:"POST",data:r}).then(function(t){return e(t)}).catch(function(t){return n(t)})})},checkLive:function(t){var e=S.get("roomInitData").webinar,e={webinar_id:(void 0===e?{}:e).id},r=L.recursive({},e,t);return new Promise(function(e,n){I({url:"/v3/webinars/live/check",type:"GET",data:r}).then(function(t){return e(t)}).catch(function(t){return n(t)})})},getChatInitOptions:function(t){var e=S.get("roomInitData").webinar,e={webinar_id:(void 0===e?{}:e).id},r=L.recursive({},e,t);return new Promise(function(e,n){I({url:"/v3/webinars/live/get-connect",type:"GET",data:r}).then(function(t){return e(t)}).catch(function(t){return n(t)})})},liveHeartBeat:function(t){return new Promise(function(e,n){I({url:"/v3/webinars/live/heartbeat",type:"GET",data:t}).then(function(t){return e(t)}).catch(function(t){return n(t)})})},getLiveToken:function(t){var e=S.get("roomInitData").webinar,e={webinar_id:(void 0===e?{}:e).id},r=L.recursive({},e,t);return new Promise(function(e,n){I({url:"/v3/webinars/live/get-live-token",type:"GET",data:r}).then(function(t){return e(t)}).catch(function(t){return n(t)})})},getStreamPushAddress:function(t){var e=S.get("roomInitData").webinar,e={webinar_id:(void 0===e?{}:e).id},r=L.recursive({},e,t);return new Promise(function(e,n){I({url:"/v3/webinars/live/get-stream-push-address",type:"GET",data:r}).then(function(t){return e(t)}).catch(function(t){return n(t)})})}},j=new function t(){i(this,t),this.live=V},B=function(){function t(){i(this,t),c(this,"handlers",{})}return u(t,[{key:"$on",value:function(t,e){t in this.handlers||(this.handlers[t]=[]),this.handlers[t].push(e)}},{key:"$emit",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(!(t in this.handlers))return new Error("未注册该事件");this.handlers[t].forEach(function(t){t.apply(void 0,n)})}},{key:"$off",value:function(t,e){if(!(t in this.handlers))return new Error("无效事件");if(e){var n=this.handlers[t].findIndex(function(t){return t===e});if(void 0===n)return new Error("无该绑定事件");this.handlers[t].splice(n,1),0===this.handlers[t].length&&delete this.handlers[t]}else delete this.handlers[t]}}]),t}(),U=function(){s(e,B);var t=v(e);function e(){return i(this,e),t.call(this)}return u(e,[{key:"init",value:function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this.initDefaultOptions(),r=L.recursive({},e,t);return r.context=JSON.stringify(r.context),new Promise(function(e,t){VhallChat.createInstance(r,function(t){n.instance=t.message,n.listenEvents(),e(t)},t)})}},{key:"destroy",value:function(){this.instance.destroy(),this.instance=null}},{key:"initDefaultOptions",value:function(){var t=x(),e=S.get("roomInitData"),n=e.paasInfo,e=e.userInfo;return{context:{nick_name:e.nickname,avatar:e.avatar,role_name:e.role_name,device_type:t?"2":"1",device_status:"0",is_banned:e.is_gag,watch_type:t?"1":"2",is_kick:e.is_kick},appId:n.paas_app_id,accountId:e.third_party_user_id,channelId:n.channel_id,token:n.paas_access_token,hide:!1}}},{key:"listenEvents",value:function(){var e=this;this.instance.onRoomMsg(function(t){e.$emit("ROOM_MSG",t)}),this.instance.on(function(t){e.$emit("CHAT",t)}),this.instance.onCustomMsg(function(t){e.$emit("CUSTOM_MSG",t)}),this.instance.onOffLine(function(){e.$emit("OFFLINE")}),this.instance.onOnLine(function(){e.$emit("ONLINE")}),this.instance.onDocMsg(function(t){e.$emit("DOC_MSG")}),this.instance.join(function(t){e.$emit("JOIN",t)}),this.instance.leave(function(t){e.$emit("LEFT",t)})}},{key:"emitTextChat",value:function(t,e){return this.instance.emit(t,e)}},{key:"emitCustomChat",value:function(t){return this.instance.emitCustomMsg(t)}},{key:"emitDocMsg",value:function(t){return this.instance.emitDocMsg(t)}},{key:"emitRoomMsg",value:function(t){t=JSON.stringify(t);return this.instance.emitRoomMsg(t)}},{key:"getUserListInfo",value:function(t){var n=this,r=L.recursive({},{currPage:1,pageSize:10},t);return new Promise(function(t,e){n.instance.getUserListInfo(r,t,e)})}},{key:"setUserDisable",value:function(r){return new Promise(function(t,e){var n={type:VhallChat.TYPE_DISABLE,targetId:r};chat.setDisable(n,t,e)})}},{key:"setUserPermit",value:function(r){return new Promise(function(t,e){var n={type:VhallChat.TYPE_PERMIT,targetId:r};chat.setDisable(n,t,e)})}},{key:"setChannelDisable",value:function(){return new Promise(function(t,e){var n={type:VhallChat.TYPE_DISABLE_ALL};chat.setDisable(n,t,e)})}},{key:"setChannelPermit",value:function(){return new Promise(function(t,e){var n={type:VhallChat.TYPE_PERMIT_ALL};chat.setDisable(n,t,e)})}},{key:"getHistoryList",value:function(t){var n=this,r=L.recursive({},{currPage:1,pageSize:200},t);return new Promise(function(t,e){n.instance.getHistoryList(r,t,e)})}},{key:"getOnlineInfo",value:function(t){var n=this,r=L.recursive({},{currPage:1,pageSize:200},t);return new Promise(function(t,e){n.instance.getOnlineInfo(r,t,e)})}}]),e}(),H=["key"],G=function(){s(n,B);var e=v(n);function n(t){return i(this,n),(t=e.call(this,t)).instance=null,t.children=[],t}return u(n,[{key:"init",value:function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this.initDefaultOptions(),r=L.recursive({},e,t);return console.log("doc options:",r),new Promise(function(t,e){n.instance=window.VHDocSDK.createInstance(r,function(){console.log("saasSDK文档初始化成功"),t()},function(t){console.error("saasSDK文档初始化失败",t.msg),e()}),n.listenEvents()})}},{key:"initDefaultOptions",value:function(){x();var t=S.get("roomInitData"),e=t.paasInfo,e=void 0===e?{}:e,t=t.userInfo,t=void 0===t?{}:t;return{accountId:null==t?void 0:t.third_party_user_id,roomId:null==e?void 0:e.room_id,channelId:null==e?void 0:e.channel_id,appId:null==e?void 0:e.paas_app_id,role:null==t?void 0:t.role_name,isVod:!1,client:window.VHDocSDK.Client.PC_WEB,token:""}}},{key:"listenEvents",value:function(){var r=this;this.instance.on(VHDocSDK.Event.CREATE_CONTAINER,function(t){r.$emit(VHDocSDK.Event.CREATE_CONTAINER,t)}),this.instance.on(VHDocSDK.Event.SELECT_CONTAINER,function(t){r.$emit(VHDocSDK.Event.SELECT_CONTAINER,t)}),this.instance.on(VHDocSDK.Event.DOCUMENT_LOAD_COMPLETE,function(t){console.log("doc 加载完成"),r.$emit(VHDocSDK.Event.DOCUMENT_LOAD_COMPLETE,t)}),this.instance.on(VHDocSDK.Event.SWITCH_CHANGE,function(t){r.$emit(VHDocSDK.Event.SWITCH_CHANGE,t)}),this.instance.on(VHDocSDK.Event.DELETE_CONTAINER,function(t){r.$emit(VHDocSDK.Event.DELETE_CONTAINER,t)}),this.instance.on(VHDocSDK.Event.ALL_COMPLETE,function(t,e,n){console.log("doc 所有文档加载完成",t,e,n),r.$emit(VHDocSDK.Event.ALL_COMPLETE,t)}),this.instance.on(VHDocSDK.Event.DOCUMENT_NOT_EXIT,function(t){var e=t.cid,t=t.docId;r.$emit(VHDocSDK.Event.DOCUMENT_NOT_EXIT,{cid:e,docId:t})}),this.instance.on(VHDocSDK.Event.PAGE_CHANGE,function(t){r.$emit(VHDocSDK.Event.PAGE_CHANGE,t)}),this.instance.on(VHDocSDK.Event.VOD_CUEPOINT_LOAD_COMPLETE,function(t,e,n){console.log("doc 回放文件加载完成",t,e,n),r.$emit(VHDocSDK.Event.VOD_CUEPOINT_LOAD_COMPLETE,t)}),this.instance.on(VHDocSDK.Event.VOD_TIME_UPDATE,function(t){r.$emit(VHDocSDK.Event.VOD_TIME_UPDATE,t)}),this.instance.on(VHDocSDK.Event.ERROR,function(t){r.$emit(VHDocSDK.Event.ERROR,t)}),this.instance.on(VHDocSDK.Event.PLAYBACKCOMPLETE,function(t){r.$emit(VHDocSDK.Event.PLAYBACKCOMPLETE,t)})}},{key:"destroy",value:function(t){this.instance&&(this.instance.destroy(t),this.instance=null)}},{key:"createUUID",value:function(t){return this.instance.createUUID(t)}},{key:"createBoard",value:function(t){var e={elId:this.instance.createUUID("board"),width:200,height:200,backgroundColor:"RGBA",noDispatch:!1,option:{graphicType:VHDocSDK.GRAPHIC.PEN,stroke:"#000",strokeWidth:4}},t=L.recursive({},e,t);return this.instance.createBoard(t)}},{key:"createDocument",value:function(t){console.log("create Document success!");var e=this.instance.createUUID("document"),e=(c(e={id:t.id,docId:t.docId,elId:e,width:200,height:200},"docId","yyy"),c(e,"noDispatch",!1),c(e,"option",{graphicType:VHDocSDK.GRAPHIC.PEN,stroke:"#000",strokeWidth:4}),e),t=L.recursive({},e,t);return this.instance.createDocument(t)}},{key:"selectContainer",value:function(t){this.instance.selectContainer(t),this.currentCid=t.id}},{key:"getContainerInfo",value:function(t){return this.instance.getContainerInfo(t)}},{key:"destroyContainer",value:function(t){return this.instance.destroyContainer(t)}},{key:"getVodAllCids",value:function(){return this.instance.getVodAllCids()}},{key:"setRemoteData",value:function(t){return this.instance.setRemoteData(t)}},{key:"addChild",value:function(t){return this.children.push(t)}},{key:"zoomIn",value:function(){return this.instance.zoomIn()}},{key:"zoomOut",value:function(){return this.instance.zoomOut()}},{key:"zoomReset",value:function(){return this.instance.zoomReset()}},{key:"cancelZoom",value:function(){return this.instance.cancelZoom()}},{key:"move",value:function(){return this.instance.move()}},{key:"prevStep",value:function(){return this.instance.prevStep()}},{key:"nextStep",value:function(){return this.instance.nextStep()}},{key:"switchOnContainer",value:function(t){return this.instance.switchOnContainer(t)}},{key:"switchOffContainer",value:function(t){return this.instance.switchOffContainer(t)}},{key:"resetContainer",value:function(){return this.instance.resetContainer()}},{key:"setPlayMode",value:function(t){return this.instance.setPlayMode(t)}},{key:"setSize",value:function(t,e,n){return this.instance.setSize(t,e,n)}},{key:"setControlStyle",value:function(t){return this.instance.setControlStyle(t)}},{key:"gotoPage",value:function(t){return this.instance.gotoPage(t)}},{key:"setPen",value:function(t){return this.instance.setPen(t)}},{key:"setEraser",value:function(t){return this.instance.setEraser(t)}},{key:"setStroke",value:function(t){return this.instance.setStroke(t)}},{key:"setStrokeWidth",value:function(t){return this.instance.setStrokeWidth(t)}},{key:"clear",value:function(){return this.instance.clear()}},{key:"cancelDrawable",value:function(){return this.instance.cancelDrawable()}},{key:"setHighlighters",value:function(){return this.instance.setHighlighters()}},{key:"setText",value:function(t){return this.instance.setText(t)}},{key:"loadDoc",value:function(t){return this.instance.loadDoc(t)}},{key:"start",value:function(t,e){return this.instance.start(t,e)}},{key:"republish",value:function(){return this.instance.republish()}},{key:"setRole",value:function(t){return this.instance.setRole(t)}},{key:"setAccountId",value:function(t){return this.instance.setAccountId(t)}},{key:"setEditable",value:function(t){return this.instance.setEditable(t)}},{key:"getThumbnailList",value:function(t){return this.instance.getThumbnailList(t)}},{key:"setSquare",value:function(t){return this.instance.setSquare(t)}},{key:"setCircle",value:function(t){return this.instance.setCircle(t)}},{key:"setSingleArrow",value:function(t){return this.instance.setSingleArrow(t)}},{key:"setDoubleArrow",value:function(t){return this.instance.setDoubleArrow(t)}},{key:"setBitmap",value:function(t){return this.instance.setBitmap(t)}},{key:"setIsoscelesTriangle",value:function(t){return this.instance.setIsoscelesTriangle(t)}},{key:"callPaasSDK",value:function(){var t,e=arguments.key,n=f(arguments,H);if(!e)return console.error("没有指定调用的函数名");(t=this.instance[e]).call.apply(t,[this.instance[e]].concat(h(n)))}}]),n}(),$=function(){s(n,B);var e=v(n);function n(t){return i(this,n),(t=e.call(this,t)).instance=null,t}return u(n,[{key:"init",value:function(){var r=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};console.log("customoptions",t),console.log("store",S);var e={appId:S.get("roomInitData").paasInfo.paas_app_id,inavId:S.get("roomInitData").paasInfo.inav_id,roomId:S.get("roomInitData").paasInfo.room_id,accountId:S.get("roomInitData").userInfo.third_party_user_id,token:S.get("roomInitData").paasInfo.paas_access_token,mode:VhallRTC.MODE_RTC,role:VhallRTC.ROLE_HOST,attributes:"",autoStartBroadcast:1==S.get("roomInitData").userInfo.role_name,broadcastConfig:1==S.get("roomInitData").userInfo.role_name?{layout:t.layout||VhallRTC.CANVAS_ADAPTIVE_LAYOUT_GRID_MODE,profile:t.profile||VhallRTC.BROADCAST_VIDEO_PROFILE_1080P_1,paneAspectRatio:VhallRTC.BROADCAST_PANE_ASPACT_RATIO_16_9,precastPic:!1,border:t.border||{width:2,color:"0x666666"}}:{}},a=L.recursive({},e,t);return console.log("optionssssssssssssssssssssssssssss",a),new Promise(function(e,n){VhallRTC.createInstance(a,function(t){r.instance=t.vhallrtc,r.currentStreams=t.currentStreams,r.listenEvents(),console.log("init interactive sdk success:",t),window.interactiveSdk=t,i(t),e(t)},function(t){console.log("fail:",t),o(t),n(t)})})}},{key:"listenEvents",value:function(){var e=this;this.instance.on(VhallRTC.EVENT_REMOTESTREAM_ADD,function(t){console.log("5555555remote stream added"),e.$emit(VhallRTC.EVENT_REMOTESTREAM_ADD,t)}),this.instance.on(VhallRTC.EVENT_REMOTESTREAM_REMOVED,function(t){e.$emit(VhallRTC.EVENT_REMOTESTREAM_REMOVED,t)}),this.instance.on(VhallRTC.EVENT_ROOM_EXCDISCONNECTED,function(t){e.$emit(VhallRTC.EVENT_ROOM_EXCDISCONNECTED,t)}),this.instance.on(VhallRTC.EVENT_REMOTESTREAM_MUTE,function(t){e.$emit(VhallRTC.EVENT_REMOTESTREAM_MUTE,t)}),this.instance.on(VhallRTC.EVENT_REMOTESTREAM_FAILED,function(t){e.$emit(VhallRTC.EVENT_REMOTESTREAM_FAILED,t)}),this.instance.on(VhallRTC.EVENT_STREAM_END,function(t){e.$emit(VhallRTC.EVENT_STREAM_END,t)}),this.instance.on(VhallRTC.EVENT_STREAM_STUNK,function(t){e.$emit(VhallRTC.EVENT_STREAM_STUNK,t)}),this.instance.on(VhallRTC.EVENT_DEVICE_CHANGE,function(t){e.$emit(VhallRTC.EVENT_DEVICE_CHANGE,t)})}},{key:"destroyInit",value:function(){var n=this;return new Promise(function(t,e){n.instance.destroyInstance({}).then(function(){t(),n.instance=null}).catch(function(t){e(t)})})}},{key:"createLocalStream",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){t.instance.createStream(r).then(function(t){e(t.streamId)}).catch(function(t){var e;1!=S.get("roomInitData").userInfo.role_name?(e=a({roleName:S.get("roomInitData").userInfo.role_name,accountId:S.get("roomInitData").userInfo.third_party_user_id,nickName:S.get("roomInitData").userInfo.nickname},t),n(e)):n(t)})})}},{key:"createLocalVideoStream",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,n){var t={videoNode:i.videoNode,audio:!0,video:!0,audioDevice:i.audioDevice,videoDevice:i.videoDevice,profile:VhallRTC[i.profile]||VhallRTC.RTC_VIDEO_PROFILE_1080P_16x9_H,streamType:2,attributes:JSON.stringify({roleName:S.get("roomInitData").userInfo.role_name,accountId:S.get("roomInitData").userInfo.third_party_user_id,nickName:S.get("roomInitData").userInfo.nickname})},t=L.recursive({},t,o);console.log("pass params::",t),r.instance.createStream(t).then(function(t){e(t.streamId)}).catch(function(t){var e;1!=S.get("roomInitData").userInfo.role_name?(e=a({roleName:S.get("roomInitData").userInfo.role_name,accountId:S.get("roomInitData").userInfo.third_party_user_id,nickName:S.get("roomInitData").userInfo.nickname},t),n(e)):n(t)})})}},{key:"createLocaldesktopStream",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,n){var t={videoNode:i.videoNode,screen:!0,audio:i.audio||!1,speaker:i.speaker||!1,profile:i.profile||VhallRTC.RTC_VIDEO_PROFILE_1080P_16x9_H,streamType:3,attributes:JSON.stringify({roleName:S.get("roomInitData").userInfo.role_name,accountId:S.get("roomInitData").userInfo.third_party_user_id,nickName:S.get("roomInitData").userInfo.nickname})},t=L.recursive({},t,o);r.instance.createStream(t).then(function(t){e(t.streamId)}).catch(function(t){var e;1!=S.get("roomInitData").userInfo.role_name?(e=a({roleName:S.get("roomInitData").userInfo.role_name,accountId:S.get("roomInitData").userInfo.third_party_user_id,nickName:S.get("roomInitData").userInfo.nickname},t),n(e)):n(t)})})}},{key:"createLocalAudioStream",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,n){var t={videoNode:i.videoNode,audio:!0,video:!1,audioDevice:i.audioDevice,showControls:!1,attributes:JSON.stringify({roleName:S.get("roomInitData").userInfo.role_name,accountId:S.get("roomInitData").userInfo.third_party_user_id,nickName:S.get("roomInitData").userInfo.nickname}),streamType:0},t=L.recursive({},t,o);r.instance.createStream(t).then(function(t){e(t.streamId)}).catch(function(t){n(t)})})}},{key:"createLocalPhotoStream",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,n){var t={videoNode:i.videoNode,audio:!0,video:!1,videoTrack:i.videoTrack,attributes:JSON.stringify({roleName:S.get("roomInitData").userInfo.role_name,accountId:S.get("roomInitData").userInfo.third_party_user_id,nickName:S.get("roomInitData").userInfo.nickname})},t=L.recursive({},t,o);r.instance.createStream(t).then(function(t){e(t.streamId)}).catch(function(t){n(t)})})}},{key:"destroyStream",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,e){n.instance.destroyStream({streamId:r}).then(function(){t()}).catch(function(t){e(t)})})}},{key:"publishStream",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){t.instance.publish({streamId:r.streamId,accountId:r.accountId}).then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"unpublishStream",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,e){n.instance.unpublish({streamId:r}).then(function(){t()}).catch(function(t){e(t)})})}},{key:"subscribeStream",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,n){var t={videoNode:i.videoNode,streamId:i.streamId,dual:i.dual||1},t=L.recursive({},t,o);r.instance.subscribe(t).then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"unSubscribeStream",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(e,n){t.instance.unsubscribe({streamId:r}).then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"setDual",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){var t={streamId:i.streamId,dual:i.dual};r.instance.setDual(t).then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"muteVideo",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){var t={streamId:i.streamId,isMute:i.isMute};r.instance.muteVideo(t).then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"muteAudio",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){var t={streamId:i.streamId,isMute:i.isMute};r.instance.muteAudio(t).then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"startBroadCast",value:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(t,e){var n={layout:i.layout||VhallRTC.CANVAS_ADAPTIVE_LAYOUT_GRID_MODE,profile:i.profile||VhallRTC.BROADCAST_VIDEO_PROFILE_1080P_1,paneAspectRatio:VhallRTC.BROADCAST_PANE_ASPACT_RATIO_16_9,border:i.border||{width:2,color:"0x666666"}};void 0===i.adaptiveLayoutMode&&null===i.adaptiveLayoutMode||(delete n.layout,n.adaptiveLayoutMode=i.adaptiveLayoutMode);n=L.recursive({},n,o);r.instance.startBroadCast(n).then(function(){t()}).catch(function(t){e(t)})})}},{key:"stopBroadCast",value:function(){var n=this;return new Promise(function(t,e){n.instance.stopBroadCast().then(function(){t()}).catch(function(t){e(t)})})}},{key:"setBroadCastLayout",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,e){n.instance.setBroadCastLayout({layout:r.layout}).then(function(){t()}).catch(function(t){e(t)})})}},{key:"setBroadCastAdaptiveLayoutMode",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,e){n.instance.setBroadCastAdaptiveLayoutMode({adaptiveLayoutMode:r.adaptiveLayoutMode||VhallRTC.CANVAS_ADAPTIVE_LAYOUT_GRID_MODE}).then(function(){t()}).catch(function(t){e(t)})})}},{key:"setBroadCastScreen",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,e){n.instance.setBroadCastScreen({mainScreenStreamId:r}).then(function(){t()}).catch(function(t){e(t)})})}},{key:"getDevices",value:function(){var t=this;return new Promise(function(e,n){t.instance.getDevices().then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"getCameras",value:function(){var t=this;return new Promise(function(e,n){t.instance.getCameras().then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"getMicrophones",value:function(){var t=this;return new Promise(function(e,n){t.instance.getMicrophones().then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"getSpeakers",value:function(){var t=this;return new Promise(function(e,n){t.instance.getSpeakers().then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"getVideoConstraints",value:function(t){var r=this;return new Promise(function(e,n){r.instance.getVideoConstraints({deviceId:t},function(t){e(t)},function(t){n(t)})})}},{key:"setVideoProfile",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){t.instance.setVideoProfile({streamId:r.streamId,profile:r.profile},function(t){e(t)},function(t){n(t)})})}},{key:"getRoomStreams",value:function(){return this.instance.getRoomStreams()}},{key:"getRoomInfo",value:function(){return this.instance.getRoomInfo()}},{key:"isScreenShareSupported",value:function(){return this.instance.isScreenShareSupported()}},{key:"checkSystemRequirements",value:function(){return this.instance.checkSystemRequirements()}},{key:"getPacketLossRate",value:function(){var t=this;return new Promise(function(e,n){t.instance.getPacketLossRate().then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"getStreamPacketLoss",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,e){n.instance.getStreamPacketLoss(r).then(function(){t()}).catch(function(t){e(t)})})}},{key:"getAudioLevel",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(e,n){t.instance.getAudioLevel({streamId:r}).then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"getStreamMute",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(e,n){t.instance.getStreamMute({streamId:r}).then(function(t){e(t)}).catch(function(t){n(t)})})}},{key:"currentStreams",value:function(){return this.currentStreams}}]),n}(),E={exports:{}};N=(M=E).exports,function(){var Go,$o="Expected a function",zo="__lodash_hash_undefined__",Fo="__lodash_placeholder__",Wo=128,qo=9007199254740991,Ko=NaN,Jo=4294967295,Xo=[["ary",Wo],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Yo="[object Arguments]",Zo="[object Array]",Qo="[object Boolean]",ta="[object Date]",ea="[object Error]",na="[object Function]",ra="[object GeneratorFunction]",ia="[object Map]",oa="[object Number]",aa="[object Object]",ua="[object Promise]",ca="[object RegExp]",sa="[object Set]",la="[object String]",fa="[object Symbol]",da="[object WeakMap]",va="[object ArrayBuffer]",ha="[object DataView]",pa="[object Float32Array]",ga="[object Float64Array]",ma="[object Int8Array]",_a="[object Int16Array]",ya="[object Int32Array]",Ia="[object Uint8Array]",ba="[object Uint8ClampedArray]",Sa="[object Uint16Array]",wa="[object Uint32Array]",ka=/\b__p \+= '';/g,Ea=/\b(__p \+=) '' \+/g,Ta=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Da=/&(?:amp|lt|gt|quot|#39);/g,Oa=/[&<>"']/g,Ca=RegExp(Da.source),Pa=RegExp(Oa.source),Aa=/<%-([\s\S]+?)%>/g,Ra=/<%([\s\S]+?)%>/g,La=/<%=([\s\S]+?)%>/g,xa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ma=/^\w*$/,Na=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Va=/[\\^$.*+?()[\]{}|]/g,ja=RegExp(Va.source),Ba=/^\s+/,n=/\s/,Ua=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ha=/\{\n\/\* \[wrapped with (.+)\] \*/,Ga=/,? & /,$a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,za=/[()=,{}\[\]\/\s]/,Fa=/\\(\\)?/g,Wa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qa=/\w*$/,Ka=/^[-+]0x[0-9a-f]+$/i,Ja=/^0b[01]+$/i,Xa=/^\[object .+?Constructor\]$/,Ya=/^0o[0-7]+$/i,Za=/^(?:0|[1-9]\d*)$/,Qa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tu=/($^)/,eu=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",r="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\ufe0e\\ufe0f",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",c="['’]",s="["+t+"]",l="["+u+"]",f="["+e+"]",d="\\d+",v="["+r+"]",h="["+i+"]",p="[^"+t+u+d+r+i+o+"]",g="\\ud83c[\\udffb-\\udfff]",m="[^"+t+"]",_="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",I="["+o+"]",b="\\u200d",S="(?:"+h+"|"+p+")",u="(?:"+I+"|"+p+")",r="(?:['’](?:d|ll|m|re|s|t|ve))?",i="(?:['’](?:D|LL|M|RE|S|T|VE))?",o="(?:"+f+"|"+g+")"+"?",p="["+a+"]?",o=p+o+("(?:"+b+"(?:"+[m,_,y].join("|")+")"+p+o+")*"),v="(?:"+[v,_,y].join("|")+")"+o,s="(?:"+[m+f+"?",f,_,y,s].join("|")+")",nu=RegExp(c,"g"),ru=RegExp(f,"g"),w=RegExp(g+"(?="+g+")|"+s+o,"g"),iu=RegExp([I+"?"+h+"+"+r+"(?="+[l,I,"$"].join("|")+")",u+"+"+i+"(?="+[l,I+S,"$"].join("|")+")",I+"?"+S+"+"+r,I+"+"+i,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",d,v].join("|"),"g"),k=RegExp("["+b+t+e+a+"]"),ou=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,au=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],uu=-1,cu={};cu[pa]=cu[ga]=cu[ma]=cu[_a]=cu[ya]=cu[Ia]=cu[ba]=cu[Sa]=cu[wa]=!0,cu[Yo]=cu[Zo]=cu[va]=cu[Qo]=cu[ha]=cu[ta]=cu[ea]=cu[na]=cu[ia]=cu[oa]=cu[aa]=cu[ca]=cu[sa]=cu[la]=cu[da]=!1;var su={};su[Yo]=su[Zo]=su[va]=su[ha]=su[Qo]=su[ta]=su[pa]=su[ga]=su[ma]=su[_a]=su[ya]=su[ia]=su[oa]=su[aa]=su[ca]=su[sa]=su[la]=su[fa]=su[Ia]=su[ba]=su[Sa]=su[wa]=!0,su[ea]=su[na]=su[da]=!1;var E={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lu=parseFloat,fu=parseInt,e="object"==cc(P)&&P&&P.Object===Object&&P,a="object"==("undefined"==typeof self?"undefined":cc(self))&&self&&self.Object===Object&&self,du=e||a||Function("return this")(),a=N&&!N.nodeType&&N,T=a&&M&&!M.nodeType&&M,vu=T&&T.exports===a,D=vu&&e.process,e=function(){try{var t=T&&T.require&&T.require("util").types;return t?t:D&&D.binding&&D.binding("util")}catch(t){}}(),hu=e&&e.isArrayBuffer,pu=e&&e.isDate,gu=e&&e.isMap,mu=e&&e.isRegExp,_u=e&&e.isSet,yu=e&&e.isTypedArray;function Iu(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function bu(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Su(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function wu(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ku(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Eu(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Tu(t,e){return!!(null==t?0:t.length)&&-1<Mu(t,e,0)}function Du(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ou(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Cu(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Pu(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Au(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ru(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var O=Bu("length");function Lu(t,r,e){var i;return e(t,function(t,e,n){if(r(t,e,n))return i=e,!1}),i}function xu(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Mu(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):xu(t,Vu,n)}function Nu(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Vu(t){return t!=t}function ju(t,e){var n=null==t?0:t.length;return n?Hu(t,e)/n:Ko}function Bu(e){return function(t){return null==t?Go:t[e]}}function C(e){return function(t){return null==e?Go:e[t]}}function Uu(t,r,i,o,e){return e(t,function(t,e,n){i=o?(o=!1,t):r(i,t,e,n)}),i}function Hu(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==Go&&(n=n===Go?o:n+o)}return n}function Gu(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function $u(t){return t&&t.slice(0,oc(t)+1).replace(Ba,"")}function zu(e){return function(t){return e(t)}}function Fu(e,t){return Ou(t,function(t){return e[t]})}function Wu(t,e){return t.has(e)}function qu(t,e){for(var n=-1,r=t.length;++n<r&&-1<Mu(e,t[n],0););return n}function Ku(t,e){for(var n=t.length;n--&&-1<Mu(e,t[n],0););return n}var Ju=C({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Xu=C({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Yu(t){return"\\"+E[t]}function Zu(t){return k.test(t)}function Qu(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function tc(e,n){return function(t){return e(n(t))}}function ec(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==Fo||(t[n]=Fo,o[i++]=n)}return o}function nc(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function rc(t){return(Zu(t)?function(t){var e=w.lastIndex=0;for(;w.test(t);)++e;return e}:O)(t)}function ic(t){return Zu(t)?t.match(w)||[]:t.split("")}function oc(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}var ac=C({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var uc=function t(e){var w=(e=null==e?du:uc.defaults(du.Object(),e,uc.pick(du,au))).Array,n=e.Date,f=e.Error,d=e.Function,i=e.Math,p=e.Object,v=e.RegExp,l=e.String,_=e.TypeError,o=w.prototype,r=d.prototype,h=p.prototype,a=e["__core-js_shared__"],u=r.toString,y=h.hasOwnProperty,c=0,s=(Lo=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+Lo:"",g=h.toString,m=u.call(p),I=du._,b=v("^"+u.call(y).replace(Va,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=vu?e.Buffer:Go,k=e.Symbol,E=e.Uint8Array,T=S?S.allocUnsafe:Go,D=tc(p.getPrototypeOf,p),O=p.create,C=h.propertyIsEnumerable,P=o.splice,A=k?k.isConcatSpreadable:Go,R=k?k.iterator:Go,L=k?k.toStringTag:Go,x=function(){try{var t=Gn(p,"defineProperty");return t({},"",{}),t}catch(t){}}(),M=e.clearTimeout!==du.clearTimeout&&e.clearTimeout,N=n&&n.now!==du.Date.now&&n.now,V=e.setTimeout!==du.setTimeout&&e.setTimeout,j=i.ceil,B=i.floor,U=p.getOwnPropertySymbols,H=S?S.isBuffer:Go,G=e.isFinite,$=o.join,z=tc(p.keys,p),F=i.max,W=i.min,q=n.now,K=e.parseInt,J=i.random,X=o.reverse,Y=Gn(e,"DataView"),Z=Gn(e,"Map"),Q=Gn(e,"Promise"),tt=Gn(e,"Set"),et=Gn(e,"WeakMap"),nt=Gn(p,"create"),rt=et&&new et,it={},ot=gr(Y),at=gr(Z),ut=gr(Q),ct=gr(tt),st=gr(et),lt=k?k.prototype:Go,ft=lt?lt.valueOf:Go,dt=lt?lt.toString:Go;function vt(t){if(Li(t)&&!Si(t)&&!(t instanceof _t)){if(t instanceof mt)return t;if(y.call(t,"__wrapped__"))return mr(t)}return new mt(t)}var ht=function(t){if(!Ri(t))return{};if(O)return O(t);pt.prototype=t;t=new pt;return pt.prototype=Go,t};function pt(){}function gt(){}function mt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Go}function _t(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Jo,this.__views__=[]}function yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new bt;++e<n;)this.add(t[e])}function wt(t){t=this.__data__=new It(t);this.size=t.size}function kt(t,e){var n,r=Si(t),i=!r&&bi(t),o=!r&&!i&&Ti(t),a=!r&&!i&&!o&&Hi(t),u=r||i||o||a,c=u?Gu(t.length,l):[],s=c.length;for(n in t)!e&&!y.call(t,n)||u&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Jn(n,s))||c.push(n);return c}function Et(t){var e=t.length;return e?t[Se(0,e-1)]:Go}function Tt(t,e){return fr(rn(t),Mt(e,0,t.length))}function Dt(t){return fr(rn(t))}function Ot(t,e,n){(n===Go||_i(t[e],n))&&(n!==Go||e in t)||Lt(t,e,n)}function Ct(t,e,n){var r=t[e];y.call(t,e)&&_i(r,n)&&(n!==Go||e in t)||Lt(t,e,n)}function Pt(t,e){for(var n=t.length;n--;)if(_i(t[n][0],e))return n;return-1}function At(t,r,i,o){return Ut(t,function(t,e,n){r(o,t,i(t),n)}),o}function Rt(t,e){return t&&on(e,so(e),t)}function Lt(t,e,n){"__proto__"==e&&x?x(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function xt(t,e){for(var n=-1,r=e.length,i=w(r),o=null==t;++n<r;)i[n]=o?Go:io(t,e[n]);return i}function Mt(t,e,n){return t==t&&(n!==Go&&(t=t<=n?t:n),e!==Go&&(t=e<=t?t:e)),t}function Nt(n,r,i,t,e,o){var a,u=1&r,c=2&r,s=4&r;if((a=i?e?i(n,t,e,o):i(n):a)!==Go)return a;if(!Ri(n))return n;var l,f,d=Si(n);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&y.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(n),!u)return rn(n,a)}else{var v=Fn(n),t=v==na||v==ra;if(Ti(n))return Ye(n,u);if(v==aa||v==Yo||t&&!e){if(a=c||t?{}:qn(n),!u)return c?(t=l=n,f=(f=a)&&on(t,lo(t),f),on(l,zn(l),f)):(f=Rt(a,l=n),on(l,$n(l),f))}else{if(!su[v])return e?n:{};a=function(t,e,n){var r=t.constructor;switch(e){case va:return Ze(t);case Qo:case ta:return new r(+t);case ha:return function(t,e){e=e?Ze(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,n);case pa:case ga:case ma:case _a:case ya:case Ia:case ba:case Sa:case wa:return Qe(t,n);case ia:return new r;case oa:case la:return new r(t);case ca:return function(t){var e=new t.constructor(t.source,qa.exec(t));return e.lastIndex=t.lastIndex,e}(t);case sa:return new r;case fa:return function(t){return ft?p(ft.call(t)):{}}(t)}}(n,v,u)}}u=(o=o||new wt).get(n);if(u)return u;o.set(n,a),ji(n)?n.forEach(function(t){a.add(Nt(t,r,i,t,n,o))}):xi(n)&&n.forEach(function(t,e){a.set(e,Nt(t,r,i,e,n,o))});var h=d?Go:(s?c?Mn:xn:c?lo:so)(n);return Su(h||n,function(t,e){h&&(t=n[e=t]),Ct(a,e,Nt(t,r,i,e,n,o))}),a}function Vt(t,e,n){var r=n.length;if(null==t)return!r;for(t=p(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===Go&&!(i in t)||!o(a))return!1}return!0}function jt(t,e,n){if("function"!=typeof t)throw new _($o);return ur(function(){t.apply(Go,n)},e)}function Bt(t,e,n,r){var i=-1,o=Tu,a=!0,u=t.length,c=[],s=e.length;if(!u)return c;n&&(e=Ou(e,zu(n))),r?(o=Du,a=!1):200<=e.length&&(o=Wu,a=!1,e=new St(e));t:for(;++i<u;){var l=t[i],f=null==n?l:n(l),l=r||0!==l?l:0;if(a&&f==f){for(var d=s;d--;)if(e[d]===f)continue t;c.push(l)}else o(e,f,r)||c.push(l)}return c}vt.templateSettings={escape:Aa,evaluate:Ra,interpolate:La,variable:"",imports:{_:vt}},(vt.prototype=gt.prototype).constructor=vt,(mt.prototype=ht(gt.prototype)).constructor=mt,(_t.prototype=ht(gt.prototype)).constructor=_t,yt.prototype.clear=function(){this.__data__=nt?nt(null):{},this.size=0},yt.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},yt.prototype.get=function(t){var e=this.__data__;if(nt){var n=e[t];return n===zo?Go:n}return y.call(e,t)?e[t]:Go},yt.prototype.has=function(t){var e=this.__data__;return nt?e[t]!==Go:y.call(e,t)},yt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nt&&e===Go?zo:e,this},It.prototype.clear=function(){this.__data__=[],this.size=0},It.prototype.delete=function(t){var e=this.__data__;return!((t=Pt(e,t))<0)&&(t==e.length-1?e.pop():P.call(e,t,1),--this.size,!0)},It.prototype.get=function(t){var e=this.__data__;return(t=Pt(e,t))<0?Go:e[t][1]},It.prototype.has=function(t){return-1<Pt(this.__data__,t)},It.prototype.set=function(t,e){var n=this.__data__,r=Pt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},bt.prototype.clear=function(){this.size=0,this.__data__={hash:new yt,map:new(Z||It),string:new yt}},bt.prototype.delete=function(t){return t=Un(this,t).delete(t),this.size-=t?1:0,t},bt.prototype.get=function(t){return Un(this,t).get(t)},bt.prototype.has=function(t){return Un(this,t).has(t)},bt.prototype.set=function(t,e){var n=Un(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},St.prototype.add=St.prototype.push=function(t){return this.__data__.set(t,zo),this},St.prototype.has=function(t){return this.__data__.has(t)},wt.prototype.clear=function(){this.__data__=new It,this.size=0},wt.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},wt.prototype.get=function(t){return this.__data__.get(t)},wt.prototype.has=function(t){return this.__data__.has(t)},wt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof It){var r=n.__data__;if(!Z||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bt(r)}return n.set(t,e),this.size=n.size,this};var Ut=cn(Kt),Ht=cn(Jt,!0);function Gt(t,r){var i=!0;return Ut(t,function(t,e,n){return i=!!r(t,e,n)}),i}function $t(t,e,n){for(var r=-1,i=t.length;++r<i;){var o,a,u=t[r],c=e(u);null!=c&&(o===Go?c==c&&!Ui(c):n(c,o))&&(o=c,a=u)}return a}function zt(t,r){var i=[];return Ut(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i}function Ft(t,e,n,r,i){var o=-1,a=t.length;for(n=n||Kn,i=i||[];++o<a;){var u=t[o];0<e&&n(u)?1<e?Ft(u,e-1,n,r,i):Cu(i,u):r||(i[i.length]=u)}return i}var Wt=sn(),qt=sn(!0);function Kt(t,e){return t&&Wt(t,e,so)}function Jt(t,e){return t&&qt(t,e,so)}function Xt(e,t){return Eu(t,function(t){return Ci(e[t])})}function Yt(t,e){for(var n=0,r=(e=qe(e,t)).length;null!=t&&n<r;)t=t[pr(e[n++])];return n&&n==r?t:Go}function Zt(t,e,n){e=e(t);return Si(t)?e:Cu(e,n(t))}function Qt(t){return null==t?t===Go?"[object Undefined]":"[object Null]":L&&L in p(t)?function(t){var e=y.call(t,L),n=t[L];try{t[L]=Go;var r=!0}catch(t){}var i=g.call(t);r&&(e?t[L]=n:delete t[L]);return i}(t):g.call(t)}function te(t,e){return e<t}function ee(t,e){return null!=t&&y.call(t,e)}function ne(t,e){return null!=t&&e in p(t)}function re(t,e,n){for(var r=n?Du:Tu,i=t[0].length,o=t.length,a=o,u=w(o),c=1/0,s=[];a--;){var l=t[a];a&&e&&(l=Ou(l,zu(e))),c=W(l.length,c),u[a]=!n&&(e||120<=i&&120<=l.length)?new St(a&&l):Go}var l=t[0],f=-1,d=u[0];t:for(;++f<i&&s.length<c;){var v=l[f],h=e?e(v):v,v=n||0!==v?v:0;if(!(d?Wu(d,h):r(s,h,n))){for(a=o;--a;){var p=u[a];if(!(p?Wu(p,h):r(t[a],h,n)))continue t}d&&d.push(h),s.push(v)}}return s}function ie(t,e,n){e=null==(t=ir(t,e=qe(e,t)))?t:t[pr(Or(e))];return null==e?Go:Iu(e,t,n)}function oe(t){return Li(t)&&Qt(t)==Yo}function ae(t,e,n,r,i){return t===e||(null==t||null==e||!Li(t)&&!Li(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Si(t),u=Si(e),c=a?Zo:Fn(t),s=u?Zo:Fn(e),l=(c=c==Yo?aa:c)==aa,u=(s=s==Yo?aa:s)==aa,s=c==s;if(s&&Ti(t)){if(!Ti(e))return!1;l=!(a=!0)}if(s&&!l)return o=o||new wt,a||Hi(t)?Rn(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case ha:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case va:return t.byteLength==e.byteLength&&o(new E(t),new E(e))?!0:!1;case Qo:case ta:case oa:return _i(+t,+e);case ea:return t.name==e.name&&t.message==e.message;case ca:case la:return t==e+"";case ia:var u=Qu;case sa:var c=1&r;if(u=u||nc,t.size!=e.size&&!c)return!1;c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);u=Rn(u(t),u(e),r,i,o,a);return a.delete(t),u;case fa:if(ft)return ft.call(t)==ft.call(e)}return!1}(t,e,c,n,r,i,o);if(!(1&n)){l=l&&y.call(t,"__wrapped__"),u=u&&y.call(e,"__wrapped__");if(l||u){l=l?t.value():t,u=u?e.value():e;return o=o||new wt,i(l,u,n,r,o)}}return s&&(o=o||new wt,function(t,e,n,r,i,o){var a=1&n,u=xn(t),c=u.length,s=xn(e).length;if(c!=s&&!a)return!1;var l=c;for(;l--;){var f=u[l];if(!(a?f in e:y.call(e,f)))return!1}var d=o.get(t),s=o.get(e);if(d&&s)return d==e&&s==t;var v=!0;o.set(t,e),o.set(e,t);var h=a;for(;++l<c;){f=u[l];var p,g=t[f],m=e[f];if(!((p=r?a?r(m,g,f,e,t,o):r(g,m,f,t,e,o):p)===Go?g===m||i(g,m,n,r,o):p)){v=!1;break}h=h||"constructor"==f}v&&!h&&(d=t.constructor,s=e.constructor,d!=s&&"constructor"in t&&"constructor"in e&&!("function"==typeof d&&d instanceof d&&"function"==typeof s&&s instanceof s)&&(v=!1));return o.delete(t),o.delete(e),v}(t,e,n,r,i,o))}(t,e,n,r,ae,i))}function ue(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=p(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=n[i])[0],s=t[c],l=u[1];if(a&&u[2]){if(s===Go&&!(c in t))return!1}else{var f,d=new wt;if(!((f=r?r(s,l,c,t,e,d):f)===Go?ae(l,s,3,r,d):f))return!1}}return!0}function ce(t){return!(!Ri(t)||(e=t,s&&s in e))&&(Ci(t)?b:Xa).test(gr(t));var e}function se(t){return"function"==typeof t?t:null==t?xo:"object"==cc(t)?Si(t)?pe(t[0],t[1]):he(t):jo(t)}function le(t){if(!tr(t))return z(t);var e,n=[];for(e in p(t))y.call(t,e)&&"constructor"!=e&&n.push(e);return n}function fe(t){if(!Ri(t))return function(t){var e=[];if(null!=t)for(var n in p(t))e.push(n);return e}(t);var e,n=tr(t),r=[];for(e in t)("constructor"!=e||!n&&y.call(t,e))&&r.push(e);return r}function de(t,e){return t<e}function ve(t,r){var i=-1,o=ki(t)?w(t.length):[];return Ut(t,function(t,e,n){o[++i]=r(t,e,n)}),o}function he(e){var n=Hn(e);return 1==n.length&&n[0][2]?nr(n[0][0],n[0][1]):function(t){return t===e||ue(t,e,n)}}function pe(n,r){return Yn(n)&&er(r)?nr(pr(n),r):function(t){var e=io(t,n);return e===Go&&e===r?oo(t,n):ae(r,e,3)}}function ge(p,g,m,_,y){p!==g&&Wt(g,function(t,e){var n,r,i,o,a,u,c,s,l,f,d,v,h;y=y||new wt,Ri(t)?(r=g,o=m,a=ge,u=_,c=y,d=or(n=p,i=e),v=or(r,i),(h=c.get(v))?Ot(n,i,h):(s=u?u(d,v,i+"",n,r,c):Go,(l=s===Go)&&(f=Si(v),h=!f&&Ti(v),r=!f&&!h&&Hi(v),s=v,f||h||r?s=Si(d)?d:Ei(d)?rn(d):h?Ye(v,!(l=!1)):r?Qe(v,!(l=!1)):[]:Ni(v)||bi(v)?bi(s=d)?s=Ji(d):Ri(d)&&!Ci(d)||(s=qn(v)):l=!1),l&&(c.set(v,s),a(s,v,o,u,c),c.delete(v)),Ot(n,i,s))):(s=_?_(or(p,e),t,e+"",p,g,y):Go,Ot(p,e,s=s===Go?t:s))},lo)}function me(t,e){var n=t.length;if(n)return Jn(e+=e<0?n:0,n)?t[e]:Go}function _e(t,r,n){r=r.length?Ou(r,function(e){return Si(e)?function(t){return Yt(t,1===e.length?e[0]:e)}:e}):[xo];var i=-1;return r=Ou(r,zu(Bn())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(ve(t,function(e,t,n){return{criteria:Ou(r,function(t){return t(e)}),index:++i,value:e}}),function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var c=tn(i[r],o[r]);if(c){if(u<=r)return c;var s=n[r];return c*("desc"==s?-1:1)}}return t.index-e.index}(t,e,n)})}function ye(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Yt(t,a);n(u,a)&&De(o,qe(a,t),u)}return o}function Ie(t,e,n,r){var i=r?Nu:Mu,o=-1,a=e.length,u=t;for(t===e&&(e=rn(e)),n&&(u=Ou(t,zu(n)));++o<a;)for(var c=0,s=e[o],l=n?n(s):s;-1<(c=i(u,l,c,r));)u!==t&&P.call(u,c,1),P.call(t,c,1);return t}function be(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i,o=e[n];n!=r&&o===i||(Jn(i=o)?P.call(t,o,1):Be(t,o))}return t}function Se(t,e){return t+B(J()*(e-t+1))}function we(t,e){var n="";if(!t||e<1||qo<e)return n;for(;e%2&&(n+=t),(e=B(e/2))&&(t+=t),e;);return n}function ke(t,e){return cr(rr(t,e,xo),t+"")}function Ee(t){return Et(yo(t))}function Te(t,e){t=yo(t);return fr(t,Mt(e,0,t.length))}function De(t,e,n,r){if(!Ri(t))return t;for(var i=-1,o=(e=qe(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var c,s=pr(e[i]),l=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;i!=a&&(c=u[s],(l=r?r(c,s,u):Go)===Go&&(l=Ri(c)?c:Jn(e[i+1])?[]:{})),Ct(u,s,l),u=u[s]}return t}var Oe=rt?function(t,e){return rt.set(t,e),t}:xo,Ce=x?function(t,e){return x(t,"toString",{configurable:!0,enumerable:!1,value:Ro(e),writable:!0})}:xo;function Pe(t){return fr(yo(t))}function Ae(t,e,n){var r=-1,i=t.length;(n=i<n?i:n)<0&&(n+=i),i=n<(e=e<0?i<-e?0:i+e:e)?0:n-e>>>0,e>>>=0;for(var o=w(i);++r<i;)o[r]=t[r+e];return o}function Re(t,r){var i;return Ut(t,function(t,e,n){return!(i=r(t,e,n))}),!!i}function Le(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ui(a)&&(n?a<=e:a<e)?r=1+o:i=o}return i}return xe(t,e,xo,n)}function xe(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,u=null===e,c=Ui(e),s=e===Go;i<o;){var l=B((i+o)/2),f=n(t[l]),d=f!==Go,v=null===f,h=f==f,p=Ui(f),f=a?r||h:s?h&&(r||d):u?h&&d&&(r||!v):c?h&&d&&!v&&(r||!p):!v&&!p&&(r?f<=e:f<e);f?i=l+1:o=l}return W(o,4294967294)}function Me(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a,u=t[n],c=e?e(u):u;n&&_i(c,a)||(a=c,o[i++]=0===u?0:u)}return o}function Ne(t){return"number"==typeof t?t:Ui(t)?Ko:+t}function Ve(t){if("string"==typeof t)return t;if(Si(t))return Ou(t,Ve)+"";if(Ui(t))return dt?dt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function je(t,e,n){var r=-1,i=Tu,o=t.length,a=!0,u=[],c=u;if(n)a=!1,i=Du;else if(200<=o){var s=e?null:Tn(t);if(s)return nc(s);a=!1,i=Wu,c=new St}else c=e?[]:u;t:for(;++r<o;){var l=t[r],f=e?e(l):l,l=n||0!==l?l:0;if(a&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue t;e&&c.push(f),u.push(l)}else i(c,f,n)||(c!==u&&c.push(f),u.push(l))}return u}function Be(t,e){return null==(t=ir(t,e=qe(e,t)))||delete t[pr(Or(e))]}function Ue(t,e,n,r){return De(t,e,n(Yt(t,e)),r)}function He(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ae(t,r?0:o,r?o+1:i):Ae(t,r?o+1:0,r?i:o)}function Ge(t,e){var n=t;return Pu(e,function(t,e){return e.func.apply(e.thisArg,Cu([t],e.args))},n=t instanceof _t?t.value():n)}function $e(t,e,n){var r=t.length;if(r<2)return r?je(t[0]):[];for(var i=-1,o=w(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=Bt(o[i]||a,t[u],e,n));return je(Ft(o,1),e,n)}function ze(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:Go;n(a,t[r],u)}return a}function Fe(t){return Ei(t)?t:[]}function We(t){return"function"==typeof t?t:xo}function qe(t,e){return Si(t)?t:Yn(t,e)?[t]:hr(Xi(t))}var Ke=ke;function Je(t,e,n){var r=t.length;return n=n===Go?r:n,!e&&r<=n?t:Ae(t,e,n)}var Xe=M||function(t){return du.clearTimeout(t)};function Ye(t,e){if(e)return t.slice();e=t.length,e=T?T(e):new t.constructor(e);return t.copy(e),e}function Ze(t){var e=new t.constructor(t.byteLength);return new E(e).set(new E(t)),e}function Qe(t,e){e=e?Ze(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function tn(t,e){if(t!==e){var n=t!==Go,r=null===t,i=t==t,o=Ui(t),a=e!==Go,u=null===e,c=e==e,s=Ui(e);if(!u&&!s&&!o&&e<t||o&&a&&c&&!u&&!s||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!s&&t<e||s&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!c)return-1}return 0}function en(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,c=e.length,s=F(o-a,0),l=w(c+s),f=!r;++u<c;)l[u]=e[u];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;s--;)l[u++]=t[i++];return l}function nn(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,c=-1,s=e.length,l=F(o-u,0),f=w(l+s),d=!r;++i<l;)f[i]=t[i];for(var v=i;++c<s;)f[v+c]=e[c];for(;++a<u;)(d||i<o)&&(f[v+n[a]]=t[i++]);return f}function rn(t,e){var n=-1,r=t.length;for(e=e||w(r);++n<r;)e[n]=t[n];return e}function on(t,e,n,r){var i=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):Go;(i?Lt:Ct)(n,u,c=c===Go?t[u]:c)}return n}function an(i,o){return function(t,e){var n=Si(t)?bu:At,r=o?o():{};return n(t,i,Bn(e,2),r)}}function un(u){return ke(function(t,e){var n=-1,r=e.length,i=1<r?e[r-1]:Go,o=2<r?e[2]:Go,i=3<u.length&&"function"==typeof i?(r--,i):Go;for(o&&Xn(e[0],e[1],o)&&(i=r<3?Go:i,r=1),t=p(t);++n<r;){var a=e[n];a&&u(t,a,n,i)}return t})}function cn(o,a){return function(t,e){if(null==t)return t;if(!ki(t))return o(t,e);for(var n=t.length,r=a?n:-1,i=p(t);(a?r--:++r<n)&&!1!==e(i[r],r,i););return t}}function sn(c){return function(t,e,n){for(var r=-1,i=p(t),o=n(t),a=o.length;a--;){var u=o[c?a:++r];if(!1===e(i[u],u,i))break}return t}}function ln(r){return function(t){var e=Zu(t=Xi(t))?ic(t):Go,n=e?e[0]:t.charAt(0),t=e?Je(e,1).join(""):t.slice(1);return n[r]()+t}}function fn(e){return function(t){return Pu(Po(So(t).replace(nu,"")),e,"")}}function dn(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=ht(r.prototype),n=r.apply(e,t);return Ri(n)?n:e}}function vn(o,a,u){var c=dn(o);return function t(){for(var e=arguments.length,n=w(e),r=e,i=jn(t);r--;)n[r]=arguments[r];i=e<3&&n[0]!==i&&n[e-1]!==i?[]:ec(n,i);return(e-=i.length)<u?kn(o,a,gn,t.placeholder,Go,n,i,Go,Go,u-e):Iu(this&&this!==du&&this instanceof t?c:o,this,n)}}function hn(o){return function(t,e,n){var r,i=p(t);ki(t)||(r=Bn(e,3),t=so(t),e=function(t){return r(i[t],t,i)});n=o(t,e,n);return-1<n?i[r?t[n]:n]:Go}}function pn(c){return Ln(function(i){var o=i.length,t=o,e=mt.prototype.thru;for(c&&i.reverse();t--;){var n=i[t];if("function"!=typeof n)throw new _($o);e&&!u&&"wrapper"==Vn(n)&&(u=new mt([],!0))}for(t=u?t:o;++t<o;)var r=Vn(n=i[t]),a="wrapper"==r?Nn(n):Go,u=a&&Zn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?u[Vn(a[0])].apply(u,a[3]):1==n.length&&Zn(n)?u[r]():u.thru(n);return function(){var t=arguments,e=t[0];if(u&&1==t.length&&Si(e))return u.plant(e).value();for(var n=0,r=o?i[n].apply(this,t):e;++n<o;)r=i[n].call(this,r);return r}})}function gn(u,c,s,l,f,d,v,h,p,g){var m=c&Wo,_=1&c,y=2&c,I=24&c,b=512&c,S=y?Go:dn(u);return function t(){for(var e,n=w(a=arguments.length),r=a;r--;)n[r]=arguments[r];if(I&&(e=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(n,o=jn(t))),l&&(n=en(n,l,f,I)),d&&(n=nn(n,d,v,I)),a-=e,I&&a<g){var i=ec(n,o);return kn(u,c,gn,t.placeholder,s,n,i,h,p,g-a)}var o=_?s:this,i=y?o[u]:u,a=n.length;return h?n=function(t,e){for(var n=t.length,r=W(e.length,n),i=rn(t);r--;){var o=e[r];t[r]=Jn(o,n)?i[o]:Go}return t}(n,h):b&&1<a&&n.reverse(),m&&p<a&&(n.length=p),(i=this&&this!==du&&this instanceof t?S||dn(i):i).apply(o,n)}}function mn(n,a){return function(t,e){return t=t,r=n,i=a(e),o={},Kt(t,function(t,e,n){r(o,i(t),e,n)}),o;var r,i,o}}function _n(r,i){return function(t,e){var n;if(t===Go&&e===Go)return i;if(t!==Go&&(n=t),e!==Go){if(n===Go)return e;e="string"==typeof t||"string"==typeof e?(t=Ve(t),Ve(e)):(t=Ne(t),Ne(e)),n=r(t,e)}return n}}function yn(r){return Ln(function(t){return t=Ou(t,zu(Bn())),ke(function(e){var n=this;return r(t,function(t){return Iu(t,n,e)})})})}function In(t,e){var n=(e=e===Go?" ":Ve(e)).length;if(n<2)return n?we(e,t):e;n=we(e,j(t/rc(e)));return Zu(e)?Je(ic(n),0,t).join(""):n.slice(0,t)}function bn(u,t,c,s){var l=1&t,f=dn(u);return function t(){for(var e=-1,n=arguments.length,r=-1,i=s.length,o=w(i+n),a=this&&this!==du&&this instanceof t?f:u;++r<i;)o[r]=s[r];for(;n--;)o[r++]=arguments[++e];return Iu(a,l?c:this,o)}}function Sn(r){return function(t,e,n){return n&&"number"!=typeof n&&Xn(t,e,n)&&(e=n=Go),t=Fi(t),e===Go?(e=t,t=0):e=Fi(e),function(t,e,n,r){for(var i=-1,o=F(j((e-t)/(n||1)),0),a=w(o);o--;)a[r?o:++i]=t,t+=n;return a}(t,e,n=n===Go?t<e?1:-1:Fi(n),r)}}function wn(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Ki(t),e=Ki(e)),n(t,e)}}function kn(t,e,n,r,i,o,a,u,c,s){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);s=[t,e,i,l?o:Go,l?a:Go,l?Go:o,l?Go:a,u,c,s],n=n.apply(Go,s);return Zn(t)&&ar(n,s),n.placeholder=r,sr(n,t,e)}function En(t){var r=i[t];return function(t,e){if(t=Ki(t),(e=null==e?0:W(Wi(e),292))&&G(t)){var n=(Xi(t)+"e").split("e");return+((n=(Xi(r(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}var Tn=tt&&1/nc(new tt([,-0]))[1]==1/0?function(t){return new tt(t)}:Vo;function Dn(o){return function(t){var e,n,r,i=Fn(t);return i==ia?Qu(t):i==sa?(i=t,e=-1,n=Array(i.size),i.forEach(function(t){n[++e]=[t,t]}),n):Ou(o(r=t),function(t){return[t,r[t]]})}}function On(t,e,n,r,i,o,a,u){var c=2&e;if(!c&&"function"!=typeof t)throw new _($o);var s,l,f=r?r.length:0;f||(e&=-97,r=i=Go),a=a===Go?a:F(Wi(a),0),u=u===Go?u:Wi(u),f-=i?i.length:0,64&e&&(s=r,l=i,r=i=Go);var d,v,h,p,g=c?Go:Nn(t),a=[t,e,n,r,i,s,l,o,a,u];g&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==Wo&&8==n||r==Wo&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return;1&r&&(t[2]=e[2],i|=1&n?0:4);n=e[3];{var u;n&&(u=t[3],t[3]=u?en(u,n,e[4]):n,t[4]=u?ec(t[3],Fo):e[4])}(n=e[5])&&(u=t[5],t[5]=u?nn(u,n,e[6]):n,t[6]=u?ec(t[5],Fo):e[6]);(n=e[7])&&(t[7]=n);r&Wo&&(t[8]=null==t[8]?e[8]:W(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(a,g),t=a[0],e=a[1],n=a[2],r=a[3],i=a[4],!(u=a[9]=a[9]===Go?c?0:t.length:F(a[9]-f,0))&&24&e&&(e&=-25);n=e&&1!=e?8==e||16==e?vn(t,e,u):32!=e&&33!=e||i.length?gn.apply(Go,a):bn(t,e,n,r):(v=n,h=1&e,p=dn(d=t),function t(){return(this&&this!==du&&this instanceof t?p:d).apply(h?v:this,arguments)});return sr((g?Oe:ar)(n,a),t,e)}function Cn(t,e,n,r){return t===Go||_i(t,h[n])&&!y.call(r,n)?e:t}function Pn(t,e,n,r,i,o){return Ri(t)&&Ri(e)&&(o.set(e,t),ge(t,e,Go,Pn,o),o.delete(e)),t}function An(t){return Ni(t)?Go:t}function Rn(t,e,n,r,i,o){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&u<c))return!1;var s=o.get(t),c=o.get(e);if(s&&c)return s==e&&c==t;var l=-1,f=!0,d=2&n?new St:Go;for(o.set(t,e),o.set(e,t);++l<u;){var v,h=t[l],p=e[l];if((v=r?a?r(p,h,l,e,t,o):r(h,p,l,t,e,o):v)!==Go){if(v)continue;f=!1;break}if(d){if(!Ru(e,function(t,e){return!Wu(d,e)&&(h===t||i(h,t,n,r,o))&&d.push(e)})){f=!1;break}}else if(h!==p&&!i(h,p,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Ln(t){return cr(rr(t,Go,wr),t+"")}function xn(t){return Zt(t,so,$n)}function Mn(t){return Zt(t,lo,zn)}var Nn=rt?function(t){return rt.get(t)}:Vo;function Vn(t){for(var e=t.name+"",n=it[e],r=y.call(it,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function jn(t){return(y.call(vt,"placeholder")?vt:t).placeholder}function Bn(){var t=(t=vt.iteratee||Mo)===Mo?se:t;return arguments.length?t(arguments[0],arguments[1]):t}function Un(t,e){var n,r=t.__data__;return("string"==(t=cc(n=e))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Hn(t){for(var e=so(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,er(i)]}return e}function Gn(t,e){e=e,e=null==(t=t)?Go:t[e];return ce(e)?e:Go}var $n=U?function(e){return null==e?[]:(e=p(e),Eu(U(e),function(t){return C.call(e,t)}))}:Bo,zn=U?function(t){for(var e=[];t;)Cu(e,$n(t)),t=D(t);return e}:Bo,Fn=Qt;function Wn(t,e,n){for(var r=-1,i=(e=qe(e,t)).length,o=!1;++r<i;){var a=pr(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ai(i)&&Jn(a,i)&&(Si(t)||bi(t))}function qn(t){return"function"!=typeof t.constructor||tr(t)?{}:ht(D(t))}function Kn(t){return Si(t)||bi(t)||!!(A&&t&&t[A])}function Jn(t,e){var n=cc(t);return!!(e=null==e?qo:e)&&("number"==n||"symbol"!=n&&Za.test(t))&&-1<t&&t%1==0&&t<e}function Xn(t,e,n){if(Ri(n)){var r=cc(e);return("number"==r?ki(n)&&Jn(e,n.length):"string"==r&&e in n)&&_i(n[e],t)}}function Yn(t,e){if(!Si(t)){var n=cc(t);return"number"==n||"symbol"==n||"boolean"==n||null==t||Ui(t)||(Ma.test(t)||!xa.test(t)||null!=e&&t in p(e))}}function Zn(t){var e=Vn(t),n=vt[e];if("function"==typeof n&&e in _t.prototype){if(t===n)return 1;n=Nn(n);return n&&t===n[0]}}(Y&&Fn(new Y(new ArrayBuffer(1)))!=ha||Z&&Fn(new Z)!=ia||Q&&Fn(Q.resolve())!=ua||tt&&Fn(new tt)!=sa||et&&Fn(new et)!=da)&&(Fn=function(t){var e=Qt(t),t=e==aa?t.constructor:Go,t=t?gr(t):"";if(t)switch(t){case ot:return ha;case at:return ia;case ut:return ua;case ct:return sa;case st:return da}return e});var Qn=a?Ci:Uo;function tr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||h)}function er(t){return t==t&&!Ri(t)}function nr(e,n){return function(t){return null!=t&&(t[e]===n&&(n!==Go||e in p(t)))}}function rr(o,a,u){return a=F(a===Go?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=F(t.length-a,0),r=w(n);++e<n;)r[e]=t[a+e];for(var e=-1,i=w(a+1);++e<a;)i[e]=t[e];return i[a]=u(r),Iu(o,this,i)}}function ir(t,e){return e.length<2?t:Yt(t,Ae(e,0,-1))}function or(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ar=lr(Oe),ur=V||function(t,e){return du.setTimeout(t,e)},cr=lr(Ce);function sr(t,e,n){var r,i,e=e+"";return cr(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(1<n?"& ":"")+e[r],e=e.join(2<n?", ":" "),t.replace(Ua,"{\n/* [wrapped with "+e+"] */\n")}(e,(r=(e=(e=e).match(Ha))?e[1].split(Ga):[],i=n,Su(Xo,function(t){var e="_."+t[0];i&t[1]&&!Tu(r,e)&&r.push(e)}),r.sort())))}function lr(n){var r=0,i=0;return function(){var t=q(),e=16-(t-i);if(i=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(Go,arguments)}}function fr(t,e){var n=-1,r=t.length,i=r-1;for(e=e===Go?r:e;++n<e;){var o=Se(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var dr,vr,hr=(vr=(dr=di(dr=function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(Na,function(t,e,n,r){i.push(n?r.replace(Fa,"$1"):e||t)}),i},function(t){return 500===vr.size&&vr.clear(),t})).cache,dr);function pr(t){if("string"==typeof t||Ui(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function gr(t){if(null!=t){try{return u.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function mr(t){if(t instanceof _t)return t.clone();var e=new mt(t.__wrapped__,t.__chain__);return e.__actions__=rn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var _r=ke(function(t,e){return Ei(t)?Bt(t,Ft(e,1,Ei,!0)):[]}),yr=ke(function(t,e){var n=Or(e);return Ei(n)&&(n=Go),Ei(t)?Bt(t,Ft(e,1,Ei,!0),Bn(n,2)):[]}),Ir=ke(function(t,e){var n=Or(e);return Ei(n)&&(n=Go),Ei(t)?Bt(t,Ft(e,1,Ei,!0),Go,n):[]});function br(t,e,n){var r=null==t?0:t.length;if(!r)return-1;n=null==n?0:Wi(n);return n<0&&(n=F(r+n,0)),xu(t,Bn(e,3),n)}function Sr(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==Go&&(i=Wi(n),i=n<0?F(r+i,0):W(i,r-1)),xu(t,Bn(e,3),i,!0)}function wr(t){return(null==t?0:t.length)?Ft(t,1):[]}function kr(t){return t&&t.length?t[0]:Go}var Er=ke(function(t){var e=Ou(t,Fe);return e.length&&e[0]===t[0]?re(e):[]}),Tr=ke(function(t){var e=Or(t),n=Ou(t,Fe);return e===Or(n)?e=Go:n.pop(),n.length&&n[0]===t[0]?re(n,Bn(e,2)):[]}),Dr=ke(function(t){var e=Or(t),n=Ou(t,Fe);return(e="function"==typeof e?e:Go)&&n.pop(),n.length&&n[0]===t[0]?re(n,Go,e):[]});function Or(t){var e=null==t?0:t.length;return e?t[e-1]:Go}var Cr=ke(Pr);function Pr(t,e){return t&&t.length&&e&&e.length?Ie(t,e):t}var Ar=Ln(function(t,e){var n=null==t?0:t.length,r=xt(t,e);return be(t,Ou(e,function(t){return Jn(t,n)?+t:t}).sort(tn)),r});function Rr(t){return null==t?t:X.call(t)}var Lr=ke(function(t){return je(Ft(t,1,Ei,!0))}),xr=ke(function(t){var e=Or(t);return Ei(e)&&(e=Go),je(Ft(t,1,Ei,!0),Bn(e,2))}),Mr=ke(function(t){var e="function"==typeof(e=Or(t))?e:Go;return je(Ft(t,1,Ei,!0),Go,e)});function Nr(e){if(!e||!e.length)return[];var n=0;return e=Eu(e,function(t){return Ei(t)&&(n=F(t.length,n),1)}),Gu(n,function(t){return Ou(e,Bu(t))})}function Vr(t,e){if(!t||!t.length)return[];t=Nr(t);return null==e?t:Ou(t,function(t){return Iu(e,Go,t)})}var jr=ke(function(t,e){return Ei(t)?Bt(t,e):[]}),Br=ke(function(t){return $e(Eu(t,Ei))}),Ur=ke(function(t){var e=Or(t);return Ei(e)&&(e=Go),$e(Eu(t,Ei),Bn(e,2))}),Hr=ke(function(t){var e="function"==typeof(e=Or(t))?e:Go;return $e(Eu(t,Ei),Go,e)}),Gr=ke(Nr);var $r=ke(function(t){var e=t.length,e="function"==typeof(e=1<e?t[e-1]:Go)?(t.pop(),e):Go;return Vr(t,e)});function zr(t){t=vt(t);return t.__chain__=!0,t}function Fr(t,e){return e(t)}var Wr=Ln(function(e){function t(t){return xt(t,e)}var n=e.length,r=n?e[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof _t&&Jn(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:Fr,args:[t],thisArg:Go}),new mt(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(Go),t})):this.thru(t)});var qr=an(function(t,e,n){y.call(t,n)?++t[n]:Lt(t,n,1)});var Kr=hn(br),Jr=hn(Sr);function Xr(t,e){return(Si(t)?Su:Ut)(t,Bn(e,3))}function Yr(t,e){return(Si(t)?wu:Ht)(t,Bn(e,3))}var Zr=an(function(t,e,n){y.call(t,n)?t[n].push(e):Lt(t,n,[e])});var Qr=ke(function(t,e,n){var r=-1,i="function"==typeof e,o=ki(t)?w(t.length):[];return Ut(t,function(t){o[++r]=i?Iu(e,t,n):ie(t,e,n)}),o}),ti=an(function(t,e,n){Lt(t,n,e)});function ei(t,e){return(Si(t)?Ou:ve)(t,Bn(e,3))}var ni=an(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var ri=ke(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Xn(t,e[0],e[1])?e=[]:2<n&&Xn(e[0],e[1],e[2])&&(e=[e[0]]),_e(t,Ft(e,1),[])}),ii=N||function(){return du.Date.now()};function oi(t,e,n){return e=n?Go:e,e=t&&null==e?t.length:e,On(t,Wo,Go,Go,Go,Go,e)}function ai(t,e){var n;if("function"!=typeof e)throw new _($o);return t=Wi(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=Go),n}}var ui=ke(function(t,e,n){var r,i=1;return n.length&&(r=ec(n,jn(ui)),i|=32),On(t,i,e,n,r)}),ci=ke(function(t,e,n){var r,i=3;return n.length&&(r=ec(n,jn(ci)),i|=32),On(e,i,t,n,r)});function si(r,n,t){var i,o,a,u,c,s,l=0,f=!1,d=!1,e=!0;if("function"!=typeof r)throw new _($o);function v(t){var e=i,n=o;return i=o=Go,l=t,u=r.apply(n,e)}function h(t){var e=t-s;return s===Go||n<=e||e<0||d&&a<=t-l}function p(){var t,e=ii();if(h(e))return g(e);c=ur(p,(e=n-((t=e)-s),d?W(e,a-(t-l)):e))}function g(t){return c=Go,e&&i?v(t):(i=o=Go,u)}function m(){var t=ii(),e=h(t);if(i=arguments,o=this,s=t,e){if(c===Go)return l=e=s,c=ur(p,n),f?v(e):u;if(d)return Xe(c),c=ur(p,n),v(s)}return c===Go&&(c=ur(p,n)),u}return n=Ki(n)||0,Ri(t)&&(f=!!t.leading,d="maxWait"in t,a=d?F(Ki(t.maxWait)||0,n):a,e="trailing"in t?!!t.trailing:e),m.cancel=function(){c!==Go&&Xe(c),l=0,i=s=o=c=Go},m.flush=function(){return c===Go?u:g(ii())},m}var li=ke(function(t,e){return jt(t,1,e)}),fi=ke(function(t,e,n){return jt(t,Ki(e)||0,n)});function di(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new _($o);function o(){var t=arguments,e=i?i.apply(this,t):t[0],n=o.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),o.cache=n.set(e,t)||n,t)}return o.cache=new(di.Cache||bt),o}function vi(e){if("function"!=typeof e)throw new _($o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}di.Cache=bt;var hi=Ke(function(r,i){var o=(i=1==i.length&&Si(i[0])?Ou(i[0],zu(Bn())):Ou(Ft(i,1),zu(Bn()))).length;return ke(function(t){for(var e=-1,n=W(t.length,o);++e<n;)t[e]=i[e].call(this,t[e]);return Iu(r,this,t)})}),pi=ke(function(t,e){var n=ec(e,jn(pi));return On(t,32,Go,e,n)}),gi=ke(function(t,e){var n=ec(e,jn(gi));return On(t,64,Go,e,n)}),mi=Ln(function(t,e){return On(t,256,Go,Go,Go,e)});function _i(t,e){return t===e||t!=t&&e!=e}var yi=wn(te),Ii=wn(function(t,e){return e<=t}),bi=oe(function(){return arguments}())?oe:function(t){return Li(t)&&y.call(t,"callee")&&!C.call(t,"callee")},Si=w.isArray,wi=hu?zu(hu):function(t){return Li(t)&&Qt(t)==va};function ki(t){return null!=t&&Ai(t.length)&&!Ci(t)}function Ei(t){return Li(t)&&ki(t)}var Ti=H||Uo,Di=pu?zu(pu):function(t){return Li(t)&&Qt(t)==ta};function Oi(t){if(!Li(t))return!1;var e=Qt(t);return e==ea||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ni(t)}function Ci(t){if(!Ri(t))return!1;t=Qt(t);return t==na||t==ra||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Pi(t){return"number"==typeof t&&t==Wi(t)}function Ai(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=qo}function Ri(t){var e=cc(t);return null!=t&&("object"==e||"function"==e)}function Li(t){return null!=t&&"object"==cc(t)}var xi=gu?zu(gu):function(t){return Li(t)&&Fn(t)==ia};function Mi(t){return"number"==typeof t||Li(t)&&Qt(t)==oa}function Ni(t){if(!Li(t)||Qt(t)!=aa)return!1;t=D(t);if(null===t)return!0;t=y.call(t,"constructor")&&t.constructor;return"function"==typeof t&&t instanceof t&&u.call(t)==m}var Vi=mu?zu(mu):function(t){return Li(t)&&Qt(t)==ca};var ji=_u?zu(_u):function(t){return Li(t)&&Fn(t)==sa};function Bi(t){return"string"==typeof t||!Si(t)&&Li(t)&&Qt(t)==la}function Ui(t){return"symbol"==cc(t)||Li(t)&&Qt(t)==fa}var Hi=yu?zu(yu):function(t){return Li(t)&&Ai(t.length)&&!!cu[Qt(t)]};var Gi=wn(de),$i=wn(function(t,e){return t<=e});function zi(t){if(!t)return[];if(ki(t))return(Bi(t)?ic:rn)(t);if(R&&t[R])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[R]());var e=Fn(t);return(e==ia?Qu:e==sa?nc:yo)(t)}function Fi(t){return t?(t=Ki(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function Wi(t){var e=Fi(t),t=e%1;return e==e?t?e-t:e:0}function qi(t){return t?Mt(Wi(t),0,Jo):0}function Ki(t){if("number"==typeof t)return t;if(Ui(t))return Ko;if("string"!=typeof(t=Ri(t)?Ri(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e:t))return 0===t?t:+t;t=$u(t);var e=Ja.test(t);return e||Ya.test(t)?fu(t.slice(2),e?2:8):Ka.test(t)?Ko:+t}function Ji(t){return on(t,lo(t))}function Xi(t){return null==t?"":Ve(t)}var Yi=un(function(t,e){if(tr(e)||ki(e))on(e,so(e),t);else for(var n in e)y.call(e,n)&&Ct(t,n,e[n])}),Zi=un(function(t,e){on(e,lo(e),t)}),Qi=un(function(t,e,n,r){on(e,lo(e),t,r)}),to=un(function(t,e,n,r){on(e,so(e),t,r)}),eo=Ln(xt);var no=ke(function(t,e){t=p(t);var n=-1,r=e.length,i=2<r?e[2]:Go;for(i&&Xn(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=lo(o),u=-1,c=a.length;++u<c;){var s=a[u],l=t[s];(l===Go||_i(l,h[s])&&!y.call(t,s))&&(t[s]=o[s])}return t}),ro=ke(function(t){return t.push(Go,Pn),Iu(vo,Go,t)});function io(t,e,n){e=null==t?Go:Yt(t,e);return e===Go?n:e}function oo(t,e){return null!=t&&Wn(t,e,ne)}var ao=mn(function(t,e,n){t[e=null!=e&&"function"!=typeof e.toString?g.call(e):e]=n},Ro(xo)),uo=mn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=g.call(e)),y.call(t,e)?t[e].push(n):t[e]=[n]},Bn),co=ke(ie);function so(t){return(ki(t)?kt:le)(t)}function lo(t){return ki(t)?kt(t,!0):fe(t)}var fo=un(function(t,e,n){ge(t,e,n)}),vo=un(function(t,e,n,r){ge(t,e,n,r)}),ho=Ln(function(e,t){var n={};if(null==e)return n;var r=!1;t=Ou(t,function(t){return t=qe(t,e),r=r||1<t.length,t}),on(e,Mn(e),n),r&&(n=Nt(n,7,An));for(var i=t.length;i--;)Be(n,t[i]);return n});var po=Ln(function(t,e){return null==t?{}:ye(n=t,e,function(t,e){return oo(n,e)});var n});function go(t,n){if(null==t)return{};var e=Ou(Mn(t),function(t){return[t]});return n=Bn(n),ye(t,e,function(t,e){return n(t,e[0])})}var mo=Dn(so),_o=Dn(lo);function yo(t){return null==t?[]:Fu(t,so(t))}var Io=fn(function(t,e,n){return e=e.toLowerCase(),t+(n?bo(e):e)});function bo(t){return Co(Xi(t).toLowerCase())}function So(t){return(t=Xi(t))&&t.replace(Qa,Ju).replace(ru,"")}var wo=fn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ko=fn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Eo=ln("toLowerCase");var To=fn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var Do=fn(function(t,e,n){return t+(n?" ":"")+Co(e)});var Oo=fn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Co=ln("toUpperCase");function Po(t,e,n){return t=Xi(t),(e=n?Go:e)===Go?(n=t,ou.test(n)?t.match(iu)||[]:t.match($a)||[]):t.match(e)||[]}var Ao=ke(function(t,e){try{return Iu(t,Go,e)}catch(t){return Oi(t)?t:new f(t)}}),r=Ln(function(e,t){return Su(t,function(t){t=pr(t),Lt(e,t,ui(e[t],e))}),e});function Ro(t){return function(){return t}}var Lo=pn(),S=pn(!0);function xo(t){return t}function Mo(t){return se("function"==typeof t?t:Nt(t,1))}n=ke(function(e,n){return function(t){return ie(t,e,n)}}),e=ke(function(e,n){return function(t){return ie(e,t,n)}});function No(r,e,t){var n=so(e),i=Xt(e,n);null!=t||Ri(e)&&(i.length||!n.length)||(t=e,e=r,r=this,i=Xt(e,so(e)));var o=!(Ri(t)&&"chain"in t&&!t.chain),a=Ci(r);return Su(i,function(t){var n=e[t];r[t]=n,a&&(r.prototype[t]=function(){var t=this.__chain__;if(o||t){var e=r(this.__wrapped__);return(e.__actions__=rn(this.__actions__)).push({func:n,args:arguments,thisArg:r}),e.__chain__=t,e}return n.apply(r,Cu([this.value()],arguments))})}),r}function Vo(){}k=yn(Ou),lt=yn(ku),M=yn(Ru);function jo(t){return Yn(t)?Bu(pr(t)):(e=t,function(t){return Yt(t,e)});var e}Y=Sn(),Q=Sn(!0);function Bo(){return[]}function Uo(){return!1}et=_n(function(t,e){return t+e},0),a=En("ceil"),V=_n(function(t,e){return t/e},1),Ce=En("floor");var Ho,N=_n(function(t,e){return t*e},1),Ke=En("round"),H=_n(function(t,e){return t-e},0);return vt.after=function(t,e){if("function"!=typeof e)throw new _($o);return t=Wi(t),function(){if(--t<1)return e.apply(this,arguments)}},vt.ary=oi,vt.assign=Yi,vt.assignIn=Zi,vt.assignInWith=Qi,vt.assignWith=to,vt.at=eo,vt.before=ai,vt.bind=ui,vt.bindAll=r,vt.bindKey=ci,vt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Si(t)?t:[t]},vt.chain=zr,vt.chunk=function(t,e,n){e=(n?Xn(t,e,n):e===Go)?1:F(Wi(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=w(j(r/e));i<r;)a[o++]=Ae(t,i,i+=e);return a},vt.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},vt.concat=function(){var t=arguments.length;if(!t)return[];for(var e=w(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Cu(Si(n)?rn(n):[n],Ft(e,1))},vt.cond=function(r){var i=null==r?0:r.length,e=Bn();return r=i?Ou(r,function(t){if("function"!=typeof t[1])throw new _($o);return[e(t[0]),t[1]]}):[],ke(function(t){for(var e=-1;++e<i;){var n=r[e];if(Iu(n[0],this,t))return Iu(n[1],this,t)}})},vt.conforms=function(t){return e=Nt(t,1),n=so(e),function(t){return Vt(t,e,n)};var e,n},vt.constant=Ro,vt.countBy=qr,vt.create=function(t,e){return t=ht(t),null==e?t:Rt(t,e)},vt.curry=function t(e,n,r){n=On(e,8,Go,Go,Go,Go,Go,n=r?Go:n);return n.placeholder=t.placeholder,n},vt.curryRight=function t(e,n,r){n=On(e,16,Go,Go,Go,Go,Go,n=r?Go:n);return n.placeholder=t.placeholder,n},vt.debounce=si,vt.defaults=no,vt.defaultsDeep=ro,vt.defer=li,vt.delay=fi,vt.difference=_r,vt.differenceBy=yr,vt.differenceWith=Ir,vt.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ae(t,(e=n||e===Go?1:Wi(e))<0?0:e,r):[]},vt.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ae(t,0,(e=r-(e=n||e===Go?1:Wi(e)))<0?0:e):[]},vt.dropRightWhile=function(t,e){return t&&t.length?He(t,Bn(e,3),!0,!0):[]},vt.dropWhile=function(t,e){return t&&t.length?He(t,Bn(e,3),!0):[]},vt.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Xn(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Wi(n))<0&&(n=i<-n?0:i+n),(r=r===Go||i<r?i:Wi(r))<0&&(r+=i),r=r<n?0:qi(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},vt.filter=function(t,e){return(Si(t)?Eu:zt)(t,Bn(e,3))},vt.flatMap=function(t,e){return Ft(ei(t,e),1)},vt.flatMapDeep=function(t,e){return Ft(ei(t,e),1/0)},vt.flatMapDepth=function(t,e,n){return n=n===Go?1:Wi(n),Ft(ei(t,e),n)},vt.flatten=wr,vt.flattenDeep=function(t){return(null==t?0:t.length)?Ft(t,1/0):[]},vt.flattenDepth=function(t,e){return(null==t?0:t.length)?Ft(t,e=e===Go?1:Wi(e)):[]},vt.flip=function(t){return On(t,512)},vt.flow=Lo,vt.flowRight=S,vt.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},vt.functions=function(t){return null==t?[]:Xt(t,so(t))},vt.functionsIn=function(t){return null==t?[]:Xt(t,lo(t))},vt.groupBy=Zr,vt.initial=function(t){return(null==t?0:t.length)?Ae(t,0,-1):[]},vt.intersection=Er,vt.intersectionBy=Tr,vt.intersectionWith=Dr,vt.invert=ao,vt.invertBy=uo,vt.invokeMap=Qr,vt.iteratee=Mo,vt.keyBy=ti,vt.keys=so,vt.keysIn=lo,vt.map=ei,vt.mapKeys=function(t,r){var i={};return r=Bn(r,3),Kt(t,function(t,e,n){Lt(i,r(t,e,n),t)}),i},vt.mapValues=function(t,r){var i={};return r=Bn(r,3),Kt(t,function(t,e,n){Lt(i,e,r(t,e,n))}),i},vt.matches=function(t){return he(Nt(t,1))},vt.matchesProperty=function(t,e){return pe(t,Nt(e,1))},vt.memoize=di,vt.merge=fo,vt.mergeWith=vo,vt.method=n,vt.methodOf=e,vt.mixin=No,vt.negate=vi,vt.nthArg=function(e){return e=Wi(e),ke(function(t){return me(t,e)})},vt.omit=ho,vt.omitBy=function(t,e){return go(t,vi(Bn(e)))},vt.once=function(t){return ai(2,t)},vt.orderBy=function(t,e,n,r){return null==t?[]:_e(t,e=!Si(e)?null==e?[]:[e]:e,n=!Si(n=r?Go:n)?null==n?[]:[n]:n)},vt.over=k,vt.overArgs=hi,vt.overEvery=lt,vt.overSome=M,vt.partial=pi,vt.partialRight=gi,vt.partition=ni,vt.pick=po,vt.pickBy=go,vt.property=jo,vt.propertyOf=function(e){return function(t){return null==e?Go:Yt(e,t)}},vt.pull=Cr,vt.pullAll=Pr,vt.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ie(t,e,Bn(n,2)):t},vt.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ie(t,e,Go,n):t},vt.pullAt=Ar,vt.range=Y,vt.rangeRight=Q,vt.rearg=mi,vt.reject=function(t,e){return(Si(t)?Eu:zt)(t,vi(Bn(e,3)))},vt.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Bn(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return be(t,i),n},vt.rest=function(t,e){if("function"!=typeof t)throw new _($o);return ke(t,e=e===Go?e:Wi(e))},vt.reverse=Rr,vt.sampleSize=function(t,e,n){return e=(n?Xn(t,e,n):e===Go)?1:Wi(e),(Si(t)?Tt:Te)(t,e)},vt.set=function(t,e,n){return null==t?t:De(t,e,n)},vt.setWith=function(t,e,n,r){return r="function"==typeof r?r:Go,null==t?t:De(t,e,n,r)},vt.shuffle=function(t){return(Si(t)?Dt:Pe)(t)},vt.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n=n&&"number"!=typeof n&&Xn(t,e,n)?(e=0,r):(e=null==e?0:Wi(e),n===Go?r:Wi(n)),Ae(t,e,n)):[]},vt.sortBy=ri,vt.sortedUniq=function(t){return t&&t.length?Me(t):[]},vt.sortedUniqBy=function(t,e){return t&&t.length?Me(t,Bn(e,2)):[]},vt.split=function(t,e,n){return n&&"number"!=typeof n&&Xn(t,e,n)&&(e=n=Go),(n=n===Go?Jo:n>>>0)?(t=Xi(t))&&("string"==typeof e||null!=e&&!Vi(e))&&!(e=Ve(e))&&Zu(t)?Je(ic(t),0,n):t.split(e,n):[]},vt.spread=function(n,r){if("function"!=typeof n)throw new _($o);return r=null==r?0:F(Wi(r),0),ke(function(t){var e=t[r],t=Je(t,0,r);return e&&Cu(t,e),Iu(n,this,t)})},vt.tail=function(t){var e=null==t?0:t.length;return e?Ae(t,1,e):[]},vt.take=function(t,e,n){return t&&t.length?Ae(t,0,(e=n||e===Go?1:Wi(e))<0?0:e):[]},vt.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ae(t,(e=r-(e=n||e===Go?1:Wi(e)))<0?0:e,r):[]},vt.takeRightWhile=function(t,e){return t&&t.length?He(t,Bn(e,3),!1,!0):[]},vt.takeWhile=function(t,e){return t&&t.length?He(t,Bn(e,3)):[]},vt.tap=function(t,e){return e(t),t},vt.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new _($o);return Ri(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),si(t,e,{leading:r,maxWait:e,trailing:i})},vt.thru=Fr,vt.toArray=zi,vt.toPairs=mo,vt.toPairsIn=_o,vt.toPath=function(t){return Si(t)?Ou(t,pr):Ui(t)?[t]:rn(hr(Xi(t)))},vt.toPlainObject=Ji,vt.transform=function(t,r,i){var e,n=Si(t),o=n||Ti(t)||Hi(t);return r=Bn(r,4),null==i&&(e=t&&t.constructor,i=o?n?new e:[]:Ri(t)&&Ci(e)?ht(D(t)):{}),(o?Su:Kt)(t,function(t,e,n){return r(i,t,e,n)}),i},vt.unary=function(t){return oi(t,1)},vt.union=Lr,vt.unionBy=xr,vt.unionWith=Mr,vt.uniq=function(t){return t&&t.length?je(t):[]},vt.uniqBy=function(t,e){return t&&t.length?je(t,Bn(e,2)):[]},vt.uniqWith=function(t,e){return e="function"==typeof e?e:Go,t&&t.length?je(t,Go,e):[]},vt.unset=function(t,e){return null==t||Be(t,e)},vt.unzip=Nr,vt.unzipWith=Vr,vt.update=function(t,e,n){return null==t?t:Ue(t,e,We(n))},vt.updateWith=function(t,e,n,r){return r="function"==typeof r?r:Go,null==t?t:Ue(t,e,We(n),r)},vt.values=yo,vt.valuesIn=function(t){return null==t?[]:Fu(t,lo(t))},vt.without=jr,vt.words=Po,vt.wrap=function(t,e){return pi(We(e),t)},vt.xor=Br,vt.xorBy=Ur,vt.xorWith=Hr,vt.zip=Gr,vt.zipObject=function(t,e){return ze(t||[],e||[],Ct)},vt.zipObjectDeep=function(t,e){return ze(t||[],e||[],De)},vt.zipWith=$r,vt.entries=mo,vt.entriesIn=_o,vt.extend=Zi,vt.extendWith=Qi,No(vt,vt),vt.add=et,vt.attempt=Ao,vt.camelCase=Io,vt.capitalize=bo,vt.ceil=a,vt.clamp=function(t,e,n){return n===Go&&(n=e,e=Go),n!==Go&&(n=(n=Ki(n))==n?n:0),e!==Go&&(e=(e=Ki(e))==e?e:0),Mt(Ki(t),e,n)},vt.clone=function(t){return Nt(t,4)},vt.cloneDeep=function(t){return Nt(t,5)},vt.cloneDeepWith=function(t,e){return Nt(t,5,e="function"==typeof e?e:Go)},vt.cloneWith=function(t,e){return Nt(t,4,e="function"==typeof e?e:Go)},vt.conformsTo=function(t,e){return null==e||Vt(t,e,so(e))},vt.deburr=So,vt.defaultTo=function(t,e){return null==t||t!=t?e:t},vt.divide=V,vt.endsWith=function(t,e,n){t=Xi(t),e=Ve(e);var r=t.length,r=n=n===Go?r:Mt(Wi(n),0,r);return 0<=(n-=e.length)&&t.slice(n,r)==e},vt.eq=_i,vt.escape=function(t){return(t=Xi(t))&&Pa.test(t)?t.replace(Oa,Xu):t},vt.escapeRegExp=function(t){return(t=Xi(t))&&ja.test(t)?t.replace(Va,"\\$&"):t},vt.every=function(t,e,n){return(Si(t)?ku:Gt)(t,Bn(e=n&&Xn(t,e,n)?Go:e,3))},vt.find=Kr,vt.findIndex=br,vt.findKey=function(t,e){return Lu(t,Bn(e,3),Kt)},vt.findLast=Jr,vt.findLastIndex=Sr,vt.findLastKey=function(t,e){return Lu(t,Bn(e,3),Jt)},vt.floor=Ce,vt.forEach=Xr,vt.forEachRight=Yr,vt.forIn=function(t,e){return null==t?t:Wt(t,Bn(e,3),lo)},vt.forInRight=function(t,e){return null==t?t:qt(t,Bn(e,3),lo)},vt.forOwn=function(t,e){return t&&Kt(t,Bn(e,3))},vt.forOwnRight=function(t,e){return t&&Jt(t,Bn(e,3))},vt.get=io,vt.gt=yi,vt.gte=Ii,vt.has=function(t,e){return null!=t&&Wn(t,e,ee)},vt.hasIn=oo,vt.head=kr,vt.identity=xo,vt.includes=function(t,e,n,r){return t=ki(t)?t:yo(t),n=n&&!r?Wi(n):0,r=t.length,n<0&&(n=F(r+n,0)),Bi(t)?n<=r&&-1<t.indexOf(e,n):!!r&&-1<Mu(t,e,n)},vt.indexOf=function(t,e,n){var r=null==t?0:t.length;return r?(n=null==n?0:Wi(n),Mu(t,e,n=n<0?F(r+n,0):n)):-1},vt.inRange=function(t,e,n){return e=Fi(e),n===Go?(n=e,e=0):n=Fi(n),(t=t=Ki(t))>=W(e=e,n=n)&&t<F(e,n)},vt.invoke=co,vt.isArguments=bi,vt.isArray=Si,vt.isArrayBuffer=wi,vt.isArrayLike=ki,vt.isArrayLikeObject=Ei,vt.isBoolean=function(t){return!0===t||!1===t||Li(t)&&Qt(t)==Qo},vt.isBuffer=Ti,vt.isDate=Di,vt.isElement=function(t){return Li(t)&&1===t.nodeType&&!Ni(t)},vt.isEmpty=function(t){if(null==t)return!0;if(ki(t)&&(Si(t)||"string"==typeof t||"function"==typeof t.splice||Ti(t)||Hi(t)||bi(t)))return!t.length;var e,n=Fn(t);if(n==ia||n==sa)return!t.size;if(tr(t))return!le(t).length;for(e in t)if(y.call(t,e))return!1;return!0},vt.isEqual=function(t,e){return ae(t,e)},vt.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:Go)?n(t,e):Go;return r===Go?ae(t,e,Go,n):!!r},vt.isError=Oi,vt.isFinite=function(t){return"number"==typeof t&&G(t)},vt.isFunction=Ci,vt.isInteger=Pi,vt.isLength=Ai,vt.isMap=xi,vt.isMatch=function(t,e){return t===e||ue(t,e,Hn(e))},vt.isMatchWith=function(t,e,n){return n="function"==typeof n?n:Go,ue(t,e,Hn(e),n)},vt.isNaN=function(t){return Mi(t)&&t!=+t},vt.isNative=function(t){if(Qn(t))throw new f("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ce(t)},vt.isNil=function(t){return null==t},vt.isNull=function(t){return null===t},vt.isNumber=Mi,vt.isObject=Ri,vt.isObjectLike=Li,vt.isPlainObject=Ni,vt.isRegExp=Vi,vt.isSafeInteger=function(t){return Pi(t)&&-qo<=t&&t<=qo},vt.isSet=ji,vt.isString=Bi,vt.isSymbol=Ui,vt.isTypedArray=Hi,vt.isUndefined=function(t){return t===Go},vt.isWeakMap=function(t){return Li(t)&&Fn(t)==da},vt.isWeakSet=function(t){return Li(t)&&"[object WeakSet]"==Qt(t)},vt.join=function(t,e){return null==t?"":$.call(t,e)},vt.kebabCase=wo,vt.last=Or,vt.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==Go&&(i=(i=Wi(n))<0?F(r+i,0):W(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):xu(t,Vu,i,!0)},vt.lowerCase=ko,vt.lowerFirst=Eo,vt.lt=Gi,vt.lte=$i,vt.max=function(t){return t&&t.length?$t(t,xo,te):Go},vt.maxBy=function(t,e){return t&&t.length?$t(t,Bn(e,2),te):Go},vt.mean=function(t){return ju(t,xo)},vt.meanBy=function(t,e){return ju(t,Bn(e,2))},vt.min=function(t){return t&&t.length?$t(t,xo,de):Go},vt.minBy=function(t,e){return t&&t.length?$t(t,Bn(e,2),de):Go},vt.stubArray=Bo,vt.stubFalse=Uo,vt.stubObject=function(){return{}},vt.stubString=function(){return""},vt.stubTrue=function(){return!0},vt.multiply=N,vt.nth=function(t,e){return t&&t.length?me(t,Wi(e)):Go},vt.noConflict=function(){return du._===this&&(du._=I),this},vt.noop=Vo,vt.now=ii,vt.pad=function(t,e,n){t=Xi(t);var r=(e=Wi(e))?rc(t):0;return!e||e<=r?t:In(B(r=(e-r)/2),n)+t+In(j(r),n)},vt.padEnd=function(t,e,n){t=Xi(t);var r=(e=Wi(e))?rc(t):0;return e&&r<e?t+In(e-r,n):t},vt.padStart=function(t,e,n){t=Xi(t);var r=(e=Wi(e))?rc(t):0;return e&&r<e?In(e-r,n)+t:t},vt.parseInt=function(t,e,n){return e=n||null==e?0:e&&+e,K(Xi(t).replace(Ba,""),e||0)},vt.random=function(t,e,n){var r;if(n&&"boolean"!=typeof n&&Xn(t,e,n)&&(e=n=Go),n===Go&&("boolean"==typeof e?(n=e,e=Go):"boolean"==typeof t&&(n=t,t=Go)),t===Go&&e===Go?(t=0,e=1):(t=Fi(t),e===Go?(e=t,t=0):e=Fi(e)),e<t&&(r=t,t=e,e=r),n||t%1||e%1){n=J();return W(t+n*(e-t+lu("1e-"+((n+"").length-1))),e)}return Se(t,e)},vt.reduce=function(t,e,n){var r=Si(t)?Pu:Uu,i=arguments.length<3;return r(t,Bn(e,4),n,i,Ut)},vt.reduceRight=function(t,e,n){var r=Si(t)?Au:Uu,i=arguments.length<3;return r(t,Bn(e,4),n,i,Ht)},vt.repeat=function(t,e,n){return e=(n?Xn(t,e,n):e===Go)?1:Wi(e),we(Xi(t),e)},vt.replace=function(){var t=arguments,e=Xi(t[0]);return t.length<3?e:e.replace(t[1],t[2])},vt.result=function(t,e,n){var r=-1,i=(e=qe(e,t)).length;for(i||(i=1,t=Go);++r<i;){var o=null==t?Go:t[pr(e[r])];o===Go&&(r=i,o=n),t=Ci(o)?o.call(t):o}return t},vt.round=Ke,vt.runInContext=t,vt.sample=function(t){return(Si(t)?Et:Ee)(t)},vt.size=function(t){if(null==t)return 0;if(ki(t))return Bi(t)?rc(t):t.length;var e=Fn(t);return e==ia||e==sa?t.size:le(t).length},vt.snakeCase=To,vt.some=function(t,e,n){return(Si(t)?Ru:Re)(t,Bn(e=n&&Xn(t,e,n)?Go:e,3))},vt.sortedIndex=function(t,e){return Le(t,e)},vt.sortedIndexBy=function(t,e,n){return xe(t,e,Bn(n,2))},vt.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Le(t,e);if(r<n&&_i(t[r],e))return r}return-1},vt.sortedLastIndex=function(t,e){return Le(t,e,!0)},vt.sortedLastIndexBy=function(t,e,n){return xe(t,e,Bn(n,2),!0)},vt.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Le(t,e,!0)-1;if(_i(t[n],e))return n}return-1},vt.startCase=Do,vt.startsWith=function(t,e,n){return t=Xi(t),n=null==n?0:Mt(Wi(n),0,t.length),e=Ve(e),t.slice(n,n+e.length)==e},vt.subtract=H,vt.sum=function(t){return t&&t.length?Hu(t,xo):0},vt.sumBy=function(t,e){return t&&t.length?Hu(t,Bn(e,2)):0},vt.template=function(a,t,e){var n=vt.templateSettings;e&&Xn(a,t,e)&&(t=Go),a=Xi(a),t=Qi({},t,n,Cn);var u,c,r=so(n=Qi({},t.imports,n.imports,Cn)),i=Fu(n,r),s=0,n=t.interpolate||tu,l="__p += '",n=v((t.escape||tu).source+"|"+n.source+"|"+(n===La?Wa:tu).source+"|"+(t.evaluate||tu).source+"|$","g"),o="//# sourceURL="+(y.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++uu+"]")+"\n";if(a.replace(n,function(t,e,n,r,i,o){return n=n||r,l+=a.slice(s,o).replace(eu,Yu),e&&(u=!0,l+="' +\n__e("+e+") +\n'"),i&&(c=!0,l+="';\n"+i+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),s=o+t.length,t}),l+="';\n",t=y.call(t,"variable")&&t.variable){if(za.test(t))throw new f("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";if(l=(c?l.replace(ka,""):l).replace(Ea,"$1").replace(Ta,"$1;"),l="function("+(t||"obj")+") {\n"+(t?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}",(t=Ao(function(){return d(r,o+"return "+l).apply(Go,i)})).source=l,Oi(t))throw t;return t},vt.times=function(t,e){if((t=Wi(t))<1||qo<t)return[];var n=Jo,r=W(t,Jo);for(e=Bn(e),t-=Jo,r=Gu(r,e);++n<t;)e(n);return r},vt.toFinite=Fi,vt.toInteger=Wi,vt.toLength=qi,vt.toLower=function(t){return Xi(t).toLowerCase()},vt.toNumber=Ki,vt.toSafeInteger=function(t){return t?Mt(Wi(t),-qo,qo):0===t?t:0},vt.toString=Xi,vt.toUpper=function(t){return Xi(t).toUpperCase()},vt.trim=function(t,e,n){return(t=Xi(t))&&(n||e===Go)?$u(t):t&&(e=Ve(e))?(t=ic(t),e=ic(e),Je(t,qu(t,e),Ku(t,e)+1).join("")):t},vt.trimEnd=function(t,e,n){return(t=Xi(t))&&(n||e===Go)?t.slice(0,oc(t)+1):t&&(e=Ve(e))?Je(t=ic(t),0,Ku(t,ic(e))+1).join(""):t},vt.trimStart=function(t,e,n){return(t=Xi(t))&&(n||e===Go)?t.replace(Ba,""):t&&(e=Ve(e))?Je(t=ic(t),qu(t,ic(e))).join(""):t},vt.truncate=function(t,e){var n,r=30,i="...";Ri(e)&&(n="separator"in e?e.separator:n,r="length"in e?Wi(e.length):r,i="omission"in e?Ve(e.omission):i);var o,e=(t=Xi(t)).length;if((e=Zu(t)?(o=ic(t)).length:e)<=r)return t;if((e=r-rc(i))<1)return i;if(r=o?Je(o,0,e).join(""):t.slice(0,e),n===Go)return r+i;if(o&&(e+=r.length-e),Vi(n)){if(t.slice(e).search(n)){var a,u=r;for((n=!n.global?v(n.source,Xi(qa.exec(n))+"g"):n).lastIndex=0;a=n.exec(u);)var c=a.index;r=r.slice(0,c===Go?e:c)}}else t.indexOf(Ve(n),e)==e||-1<(e=r.lastIndexOf(n))&&(r=r.slice(0,e));return r+i},vt.unescape=function(t){return(t=Xi(t))&&Ca.test(t)?t.replace(Da,ac):t},vt.uniqueId=function(t){var e=++c;return Xi(t)+e},vt.upperCase=Oo,vt.upperFirst=Co,vt.each=Xr,vt.eachRight=Yr,vt.first=kr,No(vt,(Ho={},Kt(vt,function(t,e){y.call(vt.prototype,e)||(Ho[e]=t)}),Ho),{chain:!1}),vt.VERSION="4.17.21",Su(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){vt[t].placeholder=vt}),Su(["drop","take"],function(n,r){_t.prototype[n]=function(t){t=t===Go?1:F(Wi(t),0);var e=this.__filtered__&&!r?new _t(this):this.clone();return e.__filtered__?e.__takeCount__=W(t,e.__takeCount__):e.__views__.push({size:W(t,Jo),type:n+(e.__dir__<0?"Right":"")}),e},_t.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Su(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;_t.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Bn(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Su(["head","last"],function(t,e){var n="take"+(e?"Right":"");_t.prototype[t]=function(){return this[n](1).value()[0]}}),Su(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");_t.prototype[t]=function(){return this.__filtered__?new _t(this):this[n](1)}}),_t.prototype.compact=function(){return this.filter(xo)},_t.prototype.find=function(t){return this.filter(t).head()},_t.prototype.findLast=function(t){return this.reverse().find(t)},_t.prototype.invokeMap=ke(function(e,n){return"function"==typeof e?new _t(this):this.map(function(t){return ie(t,e,n)})}),_t.prototype.reject=function(t){return this.filter(vi(Bn(t)))},_t.prototype.slice=function(t,e){t=Wi(t);var n=this;return n.__filtered__&&(0<t||e<0)?new _t(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Go?(e=Wi(e))<0?n.dropRight(-e):n.take(e-t):n)},_t.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_t.prototype.toArray=function(){return this.take(Jo)},Kt(_t.prototype,function(s,t){var l=/^(?:filter|find|map|reject)|While$/.test(t),f=/^(?:head|last)$/.test(t),d=vt[f?"take"+("last"==t?"Right":""):t],v=f||/^find/.test(t);d&&(vt.prototype[t]=function(){function t(t){return t=d.apply(vt,Cu([t],n)),f&&a?t[0]:t}var e=this.__wrapped__,n=f?[1]:arguments,r=e instanceof _t,i=n[0],o=r||Si(e);o&&l&&"function"==typeof i&&1!=i.length&&(r=o=!1);var a=this.__chain__,u=!!this.__actions__.length,i=v&&!a,u=r&&!u;if(v||!o)return i&&u?s.apply(this,n):(c=this.thru(t),i?f?c.value()[0]:c.value():c);var e=u?e:new _t(this),c=s.apply(e,n);return c.__actions__.push({func:Fr,args:[t],thisArg:Go}),new mt(c,a)})}),Su(["pop","push","shift","sort","splice","unshift"],function(t){var n=o[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);vt.prototype[t]=function(){var e=arguments;if(!i||this.__chain__)return this[r](function(t){return n.apply(Si(t)?t:[],e)});var t=this.value();return n.apply(Si(t)?t:[],e)}}),Kt(_t.prototype,function(t,e){var n,r=vt[e];r&&(n=r.name+"",y.call(it,n)||(it[n]=[]),it[n].push({name:e,func:r}))}),it[gn(Go,2).name]=[{name:"wrapper",func:Go}],_t.prototype.clone=function(){var t=new _t(this.__wrapped__);return t.__actions__=rn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rn(this.__views__),t},_t.prototype.reverse=function(){var t;return this.__filtered__?((t=new _t(this)).__dir__=-1,t.__filtered__=!0):(t=this.clone()).__dir__*=-1,t},_t.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Si(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=W(e,t+a);break;case"takeRight":t=F(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=(o=o.end)-a,c=r?o:a-1,s=this.__iteratees__,l=s.length,f=0,d=W(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return Ge(t,this.__actions__);var v=[];t:for(;u--&&f<d;){for(var h=-1,p=t[c+=e];++h<l;){var g=s[h],m=g.iteratee,g=g.type,m=m(p);if(2==g)p=m;else if(!m){if(1==g)continue t;break t}}v[f++]=p}return v},vt.prototype.at=Wr,vt.prototype.chain=function(){return zr(this)},vt.prototype.commit=function(){return new mt(this.value(),this.__chain__)},vt.prototype.next=function(){this.__values__===Go&&(this.__values__=zi(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?Go:this.__values__[this.__index__++]}},vt.prototype.plant=function(t){for(var e,n=this;n instanceof gt;){var r=mr(n);r.__index__=0,r.__values__=Go,e?i.__wrapped__=r:e=r;var i=r,n=n.__wrapped__}return i.__wrapped__=t,e},vt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof _t){t=t;return(t=(t=this.__actions__.length?new _t(this):t).reverse()).__actions__.push({func:Fr,args:[Rr],thisArg:Go}),new mt(t,this.__chain__)}return this.thru(Rr)},vt.prototype.toJSON=vt.prototype.valueOf=vt.prototype.value=function(){return Ge(this.__wrapped__,this.__actions__)},vt.prototype.first=vt.prototype.head,R&&(vt.prototype[R]=function(){return this}),vt}();T?((T.exports=uc)._=uc,a._=uc):du._=uc}.call(P);var z=function(){s(n,B);var e=v(n);function n(t){return i(this,n),(t=e.call(this,t)).isPlaying=!1,t}return u(n,[{key:"init",value:function(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{type:"live"};return new Promise(function(e,n){"live"===r.type&&t.initLivePlayer(r,function(t){e(t)},function(t){return[n(t)]}),"vod"===r.type&&t.initVodPlayer(r,function(t){e(t)},function(t){n(t)})})}},{key:"createInstance",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},i=S.get("roomInitData"),o=i.paasInfo,i=i.userInfo,o={appId:o.paas_app_id,accountId:i.third_party_user_id,token:o.paas_access_token,type:"live"},t=L.recursive({},o,t);console.log("options:",t);VhallPlayer.createInstance(t,function(t){e.instance=t.vhallplayer,e.markPoints=t.markPoints,e.listenEvents(),n(t)},function(t){console.log("fail:",t),r(t)})}},{key:"initLivePlayer",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},r=S.get("roomInitData"),i=r.paasInfo;r.userInfo;i={type:"live",language:"zh",liveOption:{roomId:i.room_id,forceMSE:!0,type:"flv"}},t=L.recursive({},i,t);this.createInstance(t,e,n)}},{key:"initVodPlayer",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},t=L.recursive({},{appId:"",accountId:"",token:"",type:"live",vodOption:{forceMSE:!0,recordId:""}},t);this.createInstance(t,e,n)}},{key:"listenEvents",value:function(){var e=this;this.instance.on(VhallPlayer.CURRENTTIME_CHANGE,function(t){e.$emit(VhallPlayer.CURRENTTIME_CHANGE,t)}),this.instance.on(VhallPlayer.TIMEUPDATE,function(t){e.$emit(VhallPlayer.TIMEUPDATE,t)}),this.instance.on(VhallPlayer.ENDED,function(t){e.$emit(VhallPlayer.ENDED,t)}),this.instance.on(VhallPlayer.ERROR,function(t){e.$emit(VhallPlayer.ERROR,t)}),this.instance.on(VhallPlayer.LOADED,function(t){e.$emit(VhallPlayer.LOADED,t)}),this.instance.on(VhallPlayer.PLAY,function(t){e.$emit(VhallPlayer.PLAY,t)}),this.instance.on(VhallPlayer.PAUSE,function(t){e.$emit(VhallPlayer.PAUSE,t)}),this.instance.on(VhallPlayer.LAG_REPORT,function(t){e.$emit(VhallPlayer.LAG_REPORT,t)}),this.instance.on(VhallPlayer.LAG_RECOVER,function(t){e.$emit(VhallPlayer.LAG_RECOVER,t)}),this.instance.on(VhallPlayer.FULLSCREEN_CHANGE,function(t){e.$emit(VhallPlayer.FULLSCREEN_CHANGE,t)}),this.instance.on(VhallPlayer.MUTE_CHANGE,function(t){e.$emit(VhallPlayer.MUTE_CHANGE,t)}),this.instance.on(VhallPlayer.LOOP_CHANGE,function(t){e.$emit(VhallPlayer.LOOP_CHANGE,t)}),this.instance.on(VhallPlayer.DEFINITION_CHANGE,function(t){e.$emit(VhallPlayer.DEFINITION_CHANGE,t)})}},{key:"destroy",value:function(){this.instance.destroy(),this.instance=null}},{key:"play",value:function(){return this.instance.play()}},{key:"pause",value:function(){return this.instance.pause()}},{key:"isPause",value:function(){return this.instance.getIsPause()}},{key:"getQualitys",value:function(){return this.instance.getQualitys()}},{key:"getCurrentQuality",value:function(){return this.instance.getCurrentQuality()}},{key:"setQuality",value:function(t,e){return this.instance.setQuality(t,e)}},{key:"enterFullScreen",value:function(t){return this.instance.enterFullScreen(t)}},{key:"exitFullScreen",value:function(t){return this.instance.exitFullScreen(t)}},{key:"setMute",value:function(t,e){return this.instance.setMute(t,e)}},{key:"getVolume",value:function(){return this.instance.getVolume()}},{key:"setVolume",value:function(t,e){return this.instance.setVolume(t,e)}},{key:"getDuration",value:function(t){return this.instance.getDuration(t)}},{key:"getCurrentTime",value:function(t){return this.instance.getCurrentTime(t)}},{key:"setCurrentTime",value:function(t,e){return this.instance.setCurrentTime(t,e)}},{key:"getUsableSpeed",value:function(t){return this.instance.getUsableSpeed(t)}},{key:"setPlaySpeed",value:function(t,e){return this.instance.setPlaySpeed(t,e)}},{key:"openControls",value:function(t){return this.instance.openControls(t)}},{key:"openUI",value:function(t){return this.instance.openUI(t)}},{key:"setResetVideo",value:function(){var t=document.getElementById(this.params.videoNode);t&&this.instance&&this.instance.setSize({width:t.offsetWidth,height:t.offsetHeight})}},{key:"setBarrageInfo",value:function(t){return this.instance.setBarrageInfo(t,function(t){Vlog.error(t)})}},{key:"addBarrage",value:function(t){return this.instance.addBarrage(t,function(t){Vlog.error(t)})}},{key:"toggleBarrage",value:function(t){this.instance&&(t?this.instance.openBarrage():this.instance.closeBarrage())}},{key:"toggleSubtitle",value:function(t){this.instance&&this.params.recordId&&(t?this.instance.openSubtitle():this.instance.closeSubtitle())}}]),n}(),E=function(){function t(){i(this,t),this.msgBus=null,this.request=j,this.baseState=S}return u(t,[{key:"init",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{clientType:"send",receiveType:"standard"};return this.setRequestConfig(t),this.setClientType(t.clientType),"send"===t.clientType?this.initSendLive(t):this.initReceiveLive(t)}},{key:"initSendLive",value:function(t){var r=this;return new Promise(function(e,n){r.request.live.initSendLive(t).then(function(t){200===t.code?(S.set("roomInitData",b(t)),e(t)):n(t)})})}},{key:"initReceiveLive",value:function(t){var r=this,i={standard:"initStandardReceiveLive",embed:"initEmbeddedReceiveLive",sdk:"initSdkReceiveLive"};return new Promise(function(e,n){r.request.live[i[t.receiveType]](t).then(function(t){200===t.code?(S.set("roomInitData",b(t)),e(t)):n(t)})})}},{key:"setClientType",value:function(t){if("send"!==t&&"receive"!==t)throw new TypeError("clientType is invalid");S.set("clientType",t)}},{key:"setRequestConfig",value:function(t){var e,n;t.baseUrl?y(t.baseUrl):y("https://test-saas-api.vhall.com"),e=t.token,n=t.liveToken,console.log(e,n,888),g=e,m=n,t.requestHeaders&&(t=t.requestHeaders,_=a(a({},_),t))}},{key:"isReady",value:function(){return!0===loadSuccess}},{key:"createPlayer",value:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,t){var n=new z(r);n.init(r).then(function(t){e(n)})})}},{key:"createInteractive",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=new $(t);return e.init(t).then(function(t){return e})}},{key:"createChat",value:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,t){var n=new U;n.init(r).then(function(t){e(n)})})}},{key:"createDoc",value:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,t){var n=new G(r);n.init(r).then(function(t){e(n)})})}}]),t}();E.requestApi=j,window.VhallSaasSDK=E},"function"==typeof define&&define.amd?define(l):l();var I="",b="",S="",w={};function k(t,e){console.log(t,e,888),b=t,S=e}function E(t){Object.assign(w,t)}function T(n){return n.url=I+n.url,console.log("接口环境",n.url),new Promise(function(t,e){(n=n||{}).data&&(S&&(n.data.live_token=S),n.data=function(t){var e=[];if(t)for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}(n.data)),(n.dataType?function(t,e,n){var r=t.dataType;t.callback=r;var i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",document.body.appendChild(i),window[r]=function(t){document.body.removeChild(i),clearTimeout(i.timer),window[r]=null,e&&e(t)},i.src="".concat(t.url,"?").concat(t.data,"&_=",1594014089800),t.time&&(i.timer=setTimeout(function(){window[r]=null,head.removeChild(i),n&&n("请求超时")},1e3*parmas.time))}:function(t,r,i){var o=null;t.type=(t.type||"GET").toUpperCase(),o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.onreadystatechange=function(){var t,e,n;4==o.readyState&&(200<=(t=o.status)&&t<300?(n="",n=-1!==(e=o.getResponseHeader("Content-type")).indexOf("xml")&&o.responseXML?o.responseXML:"application/json"===e||"application/json;charset=UTF-8"===e?JSON.parse(o.responseText):o.responseText,console.log("调试模式DOMAIN******response.then******",n),r&&r(n)):i&&i(t))},"GET"==t.type?t.data?o.open(t.type,t.url+"?"+t.data,!0):o.open(t.type,t.url,!0):"POST"==t.type&&o.open(t.type,t.url,!0);o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),S||b&&o.setRequestHeader("token",b);w&&Object.getOwnPropertyNames(w).forEach(function(t){o.setRequestHeader(t,w[t])});console.log("调试模式DOMAIN******request.then******",o),"GET"==t.type?o.send(null):o.send(t.data)})(n,t,e)})}var D={getWebinarInfo:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state;return T({url:"/v3/webinars/webinar/info",type:"POST",data:{webinar_id:t.webinarId||e.watchInitData.webinar.id,is_no_check:1}})},getConfigList:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state;return T({url:"/v3/users/permission/get-config-list",type:"POST",data:{webinar_id:t.webinar_id||e.watchInitData.webinar.id,webinar_user_id:t.webinar_user_id||e.watchInitData.webinar.userinfo.user_id,scene_id:t.scene_id||1}})},setDevice:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state;return T({url:"/v3/interacts/room/set-device",type:"POST",data:{room_id:t.room_id||e.watchInitData.interact.room_id,status:t.status||1,type:t.type||0}})},recordApi:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,n=h.get("roomInitGroupServer").state,e={webinar_id:t.webinarId||e.watchInitData.webinar.id,status:t.status||1};return(t.live_token||n.live_token)&&(e.live_token=t.live_token||n.live_token),T({url:"/v3/webinars/record/ticker",type:"POST",data:e})},getGroupInitData:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state;return T({url:"/v3/interacts/group/init",type:"POST",data:{room_id:t.room_id||e.watchInitData.interact.room_id}})},initRecordApi:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state;return h.get("roomInitGroupServer").state,T({url:"/v3/webinars/record/init",type:"POST",data:{webinar_id:t.webinarId||e.watchInitData.webinar.id}})},getRoomToolStatus:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state;return h.get("roomInitGroupServer").state,T({url:"/v3/interacts/room/get-inav-tool-status",type:"POST",data:{room_id:t.room_id||e.watchInitData.interact.room_id}})}},O={loginInfo:function(){return T({url:"/v3/users/user-consumer/login",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},callbackUserInfo:function(){return T({url:"/v3/users/oauth/callback",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},register:function(){return T({url:"/v3/users/user-consumer/register",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},codeCheck:function(){return T({url:"/v3/users/code-consumer/check",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},resetPassword:function(){return T({url:"/v3/users/user-consumer/reset-password",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},C={getInsertFileList:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={webinar_id:t.webinarId||e.watchInitData.webinar.id,is_no_check:t.is_no_check||1,pos:t.pos||0,limit:t.limit||10,get_no_trans:t.get_no_trans||1};return t.name&&(e.name=t.name),T({url:"/v3/webinars/waiting-file/get-list",type:"POST",data:e})},deleteInsertFile:function(){return T({url:"/v3/webinars/waiting-file/deletes",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},P={virtualClientStart:function(){return T({url:"/v3/webinars/virtual/start",type:"GET",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},virtualAccumulation:function(){return T({url:"/v3/webinars/virtual/accumulation",type:"GET",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},virtualClientGet:function(){return T({url:"/v3/webinars/virtual/get-base",type:"GET",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},A={setMainScreen:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id};return T({url:"/v3/interacts/room/set-main-screen",type:"POST",data:e=Object.assign(e,t)})},setSpeaker:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id};return T({url:"/v3/interacts/room/set-doc-permission",type:"POST",data:e=Object.assign(e,t)})},setRoomDevice:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id,device:t.device,status:t.status,receive_account_id:t.receive_account_id};return T({url:"/v3/interacts/room/set-device-status",type:"POST",data:e=Object.assign(e,t)})}},R={allowSpeak:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.roomId||e.watchInitData.interact.room_id,receive_account_id:""};return T({url:"/v3/interacts/inav/agree-apply",type:"POST",data:e=Object.assign(e,t)})},speakOn:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id};return T({url:"/v3/interacts/inav-user/speak",type:"POST",data:e=Object.assign(e,t)})},speakOff:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id};return T({url:"/v3/interacts/inav-user/nospeak",type:"POST",data:e=Object.assign(e,t)})},speakUserOff:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id};return T({url:"/v3/interacts/inav/nospeak",type:"POST",data:e=Object.assign(e,t)})},inviteMic:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id};return T({url:"/v3/interacts/inav/invite",type:"POST",data:e=Object.assign(e,t)})},setHandsUp:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id,status:0};return T({url:"/v3/interacts/inav/set-handsup",type:"POST",data:e=Object.assign(e,t)})},cancelApply:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id};return T({url:"/v3/interacts/inav-user/cancel-apply",type:"POST",data:e=Object.assign(e,t)})},refuseInvite:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h.get("roomBaseServer").state,e={room_id:t.room_id||e.watchInitData.interact.room_id};return T({url:"/v3/interacts/inav-user/reject-invite",type:"POST",data:e=Object.assign(e,t)})}},L={getAllDocList:function(){return T({url:"/v3/interacts/document/get-shared-document-list",type:"GET",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},getWebinarDocList:function(){return T({url:"/v3/interacts/document/get-webinar-document-list",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},getDocDetail:function(){return T({url:"/v3/interacts/document/get-shared-document-list",type:"GET",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},syncDoc:function(){return T({url:"/v3/interacts/document/clone-from-shared-document",type:"GET",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},delDocList:function(){return T({url:"/v3/interacts/document/batch-remove-reference",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},x=new function t(){i(this,t),this.live=window.VhallSaasSDK.requestApi.live,this.roomBase=D,this.user=O,this.insertFile=C,this.virtualClient=P,this.interactive=A,this.mic=R,this.doc=L};function M(){var n={vhallSaasInstance:null,interactiveInstance:null,streamId:null,remoteStreams:[]},t=function(){var t=d(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.interactiveInstance){t.next=2;break}return t.abrupt("return");case 2:return t.abrupt("return",n.interactiveInstance.checkSystemRequirements());case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return{state:n,init:function(t){var e=h.get("roomInitGroupServer");return n.vhallSaasInstance=e.state.vhallSaasInstance,n.vhallSaasInstance.createInteractive(t).then(function(t){return console.log("5555555555555createInteractive"),n.interactiveInstance=t,console.log("5555state.interactiveInstance",t,t.getRoomInfo()),t})},destroyInit:function(){return n.interactiveInstance.destroyInit()},createLocalStream:function(){return n.interactiveInstance.createLocalStream(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},createLocalVideoStream:function(){return n.interactiveInstance.createLocalVideoStream(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})},createLocaldesktopStream:function(){return n.interactiveInstance.createLocaldesktopStream(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})},createLocalAudioStream:function(){return n.interactiveInstance.createLocalAudioStream(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})},createLocalPhotoStream:function(){return n.interactiveInstance.createLocalPhotoStream(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})},destroyStream:function(t){return n.interactiveInstance.destroyStream(t||n.streamId)},publishStream:function(){return n.interactiveInstance.publishStream({streamId:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).streamId||n.streamId})},unpublishStream:function(t){return n.interactiveInstance.unpublishStream(t||n.streamId)},subscribeStream:function(){return n.interactiveInstance.subscribeStream(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},unSubscribeStream:function(t){return n.interactiveInstance.unSubscribeStream(t)},setDual:function(){return n.interactiveInstance.setDual(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},muteVideo:function(){return n.interactiveInstance.muteVideo(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},muteAudio:function(){return n.interactiveInstance.muteAudio(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},startBroadCast:function(){return n.interactiveInstance.startBroadCast(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})},stopBroadCast:function(){return n.interactiveInstance.stopBroadCast()},setBroadCastLayout:function(){return n.interactiveInstance.setBroadCastLayout(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},setBroadCastScreen:function(){return n.interactiveInstance.setBroadCastScreen(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")},getDevices:function(){return n.interactiveInstance.getDevices()},getCameras:function(){return n.interactiveInstance.getCameras()},getMicrophones:function(){return n.interactiveInstance.getMicrophones()},getSpeakers:function(){return n.interactiveInstance.getSpeakers()},getVideoConstraints:function(){return n.interactiveInstance.getVideoConstraints(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")},isScreenShareSupported:function(){return n.interactiveInstance.isScreenShareSupported()},checkSystemRequirements:t,getPacketLossRate:function(){return n.interactiveInstance.getPacketLossRate()},getRoomStreams:function(){return n.interactiveInstance.getRoomStreams()},remoteStreamList:function(){for(var t in n.remoteStreams=n.interactiveInstance.getRemoteStreams(),n.interactiveInstance.getRemoteStreams())n.remoteStreams.push(t);return n.remoteStreams},listenerSdk:function(){n.interactiveInstance.on(VhallRTC.EVENT_REMOTESTREAM_ADD,function(t){console.log("55555remote stream add info::",t)}),n.interactiveInstance.on(VhallRTC.EVENT_REMOTESTREAM_REMOVED,function(t){console.log("55555remote stream remove info::",t)})},setVideoProfile:function(){return n.interactiveInstance.setVideoProfile(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},getStreamPacketLoss:function(){return n.interactiveInstance.getStreamPacketLoss(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},getAudioLevel:function(t){return n.interactiveInstance.getAudioLevel(t)},on:function(t,e){return n.interactiveInstance.$on(t,e)},getRoomInfo:function(){return n.interactiveInstance.getRoomInfo()},getStreamMute:function(t){return n.interactiveInstance.getStreamMute(t)},setBroadCastAdaptiveLayoutMode:function(){return n.interactiveInstance.setBroadCastAdaptiveLayoutMode(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},speakOn:function(){return x.mic.speakOn(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},speakOff:function(){return x.mic.speakOff(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},speakUserOff:function(){return x.mic.speakUserOff(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},setMainScreen:function(){return x.interactive.setMainScreen(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},setSpeaker:function(){return x.interactive.setSpeaker(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},setRoomDevice:function(){return x.interactive.setRoomDevice(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},setHandsup:function(){return x.mic.setHandsUp(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},inviteMic:function(){return x.mic.inviteMic(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},cancelApply:function(){return x.mic.cancelApply(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},refuseInvite:function(){return x.mic.refuseInvite(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},currentStreams:function(){return n.interactiveInstance.currentStreams}}}var N=x.doc;function V(){function t(t){console.log(h.get("useRoomInitGroupServer"));var e=h.get("roomInitGroupServer").state;return console.log("init options:",e),e.vhallSaasInstance.init(t).then(function(t){return 200===t.code?(n.inited=!0,n.watchInitData=t.data,E({"interact-token":t.data.interact.interact_token})):n.watchInitErrorData=t,t})}function e(t){return x.roomBase.setDevice(t).then(function(t){return t})}var i,n={inited:!1,isLiveOver:!1,webinarVo:{},watchInitData:{},groupInitData:{isBanned:!1,discussState:!1,isInGroup:!1},watchInitErrorData:void 0,configList:{},isGroupWebinar:!1,clientType:"send"},r=(i={},{$on:function(t,e){var n=i;void 0===n[t]&&(n[t]=[]),n[t].push(e)},$emit:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=i;n[t]&&0!==n[t].length&&n[t].forEach(function(t){t(e)})},$off:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=i;null!==n?(e=r[t].findIndex(function(t){return t===n}))&&r[t].splice(e,1):r[t]=[]},$destroy:function(){u("eventMap")}});return{state:n,init:t,on:function(t,e){r.$on(t,e)},destroy:function(){r.$destroy()},getWatchInitData:t,getWebinarInfo:function(t){return x.roomBase.getWebinarInfo(t).then(function(t){return n.webinarVo=t.data,t})},getConfigList:function(t){return x.roomBase.getConfigList(t).then(function(t){return n.configList=JSON.parse(t.data.permissions),t})},startLive:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e(t),x.live.startLive(t)},endLive:function(t){return x.live.endLive(t)},setDevice:e,startRecord:function(){return x.roomBase.recordApi({status:1})},pauseRecord:function(){return x.roomBase.recordApi({status:2})},endRecord:function(){return x.roomBase.recordApi({status:3})},getGroupInitData:function(t){return x.roomBase.getGroupInitData(t).then(function(t){return n.groupInitData=f(f(f({},n.groupInitData),t.data),{},{isBanned:"1"==t.data.is_banned,isInGroup:513325!==t.code}),t})},setGroupType:function(t){n.isGroupWebinar=t},setGroupDiscussState:function(t){n.groupInitData.discussState=t},initReplayRecord:function(){return x.roomBase.initRecordApi(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},getRoomToolStatus:function(){return x.roomBase.getRoomToolStatus(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},setClientType:function(t){n.clientType=t},setGroupInitData:function(t){n.groupInitData=g.recursive({},t,n.groupInitData),0===n.groupInitData.group_id&&(n.groupInitData.isInGroup=!1)},setGroupBannedStatus:function(t){n.groupInitData.isBanned=t}}}function j(){return{state:{},speakOn:function(){return x.mic.speakOn(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},speakOff:function(){return x.mic.speakOff(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},speakUserOff:function(){return x.mic.speakUserOff(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},allowSpeak:function(){return x.mic.allowSpeak(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},setHandsUp:function(){return x.mic.setHandsUp(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},inviteMic:function(){return x.mic.inviteMic(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},cancelApply:function(){return x.mic.cancelApply(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},refuseInvite:function(){return x.mic.refuseInvite(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}}}var B="https://cnstatic01.e.vhall.com/static/img/arclist",U={"[微笑]":"1","[撇嘴]":"2","[色]":"3","[发呆]":"4","[得意]":"5","[流泪]":"6","[害羞]":"7","[闭嘴]":"8","[睡]":"9","[哭]":"10","[尴尬]":"11","[发怒]":"12","[调皮]":"13","[呲牙]":"14","[惊讶]":"15","[难过]":"16","[酷]":"17","[汗]":"18","[抓狂]":"19","[吐]":"20","[偷笑]":"21","[愉快]":"22","[白眼]":"23","[傲慢]":"24","[饥饿]":"25","[困]":"26","[惊恐]":"27","[流汗]":"28","[憨笑]":"29","[悠闲]":"30","[奋斗]":"31","[咒骂]":"32","[疑问]":"33","[嘘]":"34","[晕]":"35","[疯了]":"36","[衰]":"37","[骷髅]":"38","[敲打]":"39","[再见]":"40","[擦汗]":"41","[抠鼻]":"42","[鼓掌]":"43","[糗大了]":"44","[坏笑]":"45","[左哼哼]":"46","[右哼哼]":"47","[哈欠]":"48","[鄙视]":"49","[委屈]":"50","[快哭了]":"51","[阴险]":"52","[亲亲]":"53","[吓]":"54","[可怜]":"55","[菜刀]":"56","[西瓜]":"57","[啤酒]":"58","[篮球]":"59","[乒乓]":"60","[咖啡]":"61","[饭]":"62","[猪头]":"63","[玫瑰]":"64","[凋谢]":"65","[嘴唇]":"66","[爱心]":"67","[心碎]":"68","[蛋糕]":"69","[闪电]":"70","[炸弹]":"71","[刀]":"72","[足球]":"73","[瓢虫]":"74","[便便]":"75","[月亮]":"76","[太阳]":"77","[礼物]":"78","[拥抱]":"79","[强]":"80","[弱]":"81","[握手]":"82","[胜利]":"83","[抱拳]":"84","[勾引]":"85","[拳头]":"86","[差劲]":"87","[爱你]":"88","[NO]":"89","[OK]":"90"},H=function(t){t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>");var e=/\[[^\[\]]+?\]/g,n=[],r=t.split(e),i=t.match(e);return r.forEach(function(t,e){t&&n.push({msgType:"text",msgCont:t}),e!==r.length-1&&(U[i[e]]?n.push({msgType:"emoji",msgCont:i[e],msgImage:G(i[e])}):n.push({msgType:"text",msgCont:i[e]}))}),n};function G(t){return(t.includes("[删除]")?"".concat(B,"/"):"".concat(B,"/Expression_")).concat(U[t],"@2x.png")}var $=0,z=0,W=0,q=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";switch(i(this,n),e){case"发起端":this.generateLiveMsg(t);break;case"观看端":this.generateWatchMsg(t);break;case"h5":this.generateH5Msg(t)}}var t,e,r;return t=n,(e=[{key:"generateLiveMsg",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.avatar,n=void 0===e?"":e,r=t.sendId,i=void 0===r?"":r,o=t.nickName,a=void 0===o?"":o,u=t.type,c=t.showTime,s=void 0===c?"":c,l=t.roleName,f=void 0===l?"":l,d=t.content,v=void 0===d?{}:d,e=t.sendTime,r=void 0===e?"":e,o=t.client,c=void 0===o?"":o,l=t.replyMsg,d=void 0===l?{}:l,e=t.msgId,o=void 0===e?"":e,l=t.channel,e=void 0===l?"":l,l=t.atList,l=void 0===l?[]:l,t=t.isHistoryMsg,t=void 0!==t&&t;this.type=void 0===u?"text":u,this.avatar=n,this.sendId=i,this.nickName=a,this.roleName=f,this.content=v,this.showTime=s,this.sendTime=r,this.client=c,this.count=$++,this.replyMsg=d,this.msgId=o,this.channel=e,this.atList=l,this.isHistoryMsg=t}},{key:"generateWatchMsg",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.avatar,n=void 0===e?"":e,r=t.sendId,i=void 0===r?"":r,o=t.nickName,a=void 0===o?"":o,u=t.type,c=t.showTime,s=void 0===c?"":c,l=t.roleName,f=void 0===l?"":l,d=t.content,v=void 0===d?{}:d,h=t.sendTime,p=void 0===h?"":h,g=t.client,e=void 0===g?"":g,r=t.replyMsg,o=void 0===r?{}:r,c=t.msgId,l=void 0===c?"":c,d=t.channel,h=void 0===d?"":d,g=t.atList,r=void 0===g?[]:g,c=t.isHistoryMsg,d=void 0!==c&&c,g=t.interactStatus,c=void 0!==g&&g,g=t.isCheck,g=void 0!==g&&g,t=t.interactToolsStatus,t=void 0!==t&&t;this.type=void 0===u?"text":u,this.avatar=n,this.sendId=i,this.nickName=a,this.roleName=f,this.content=v,this.showTime=s,this.sendTime=p,this.client=e,this.count=z++,this.replyMsg=o,this.msgId=l,this.channel=h,this.atList=r,this.isHistoryMsg=d,this.interactStatus=c,this.isCheck=g,this.interactToolsStatus=t}},{key:"generateH5Msg",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.avatar,n=void 0===e?"":e,r=t.sendId,i=void 0===r?"":r,o=t.nickName,a=void 0===o?"":o,u=t.type,c=t.showTime,s=void 0===c?"":c,l=t.roleName,f=void 0===l?"":l,d=t.content,v=void 0===d?{}:d,e=t.sendTime,r=void 0===e?"":e,o=t.client,c=void 0===o?"":o,l=t.self,d=void 0!==l&&l,e=t.replyMsg,o=void 0===e?{}:e,l=t.atList,e=void 0===l?[]:l,l=t.context,l=void 0===l?{}:l,t=t.source,t=void 0===t?"mobile":t;this.type=void 0===u?"text":u,this.avatar=n,this.sendId=i,this.nickName=a,this.roleName=f,this.content=v,this.showTime=s,this.sendTime=r,this.client=c,this.count=W++,this.self=d,this.replyMsg=o,this.atList=e,this.context=l,this.source=t}}])&&o(t.prototype,e),r&&o(t,r),n}();t.contextServer=h,t.requestApi=x,t.setBaseUrl=function(t){I=t},t.setRequestHeaders=E,t.setToken=k,t.useChatServer=function(){var a={chatList:[],keywordList:[],imgUrls:[],page:0,limit:10,roomId:"",avatar:"",roleName:"",defaultAvatar:""},i=h.get("msgServer");i.state.msgInstance;var t=(e=h.get("roomBaseServer").state.watchInitData).roomId,n=void 0===t?"":t;e.roleName,e.avatar;var e=function(){var t=d(regeneratorRuntime.mark(function t(){var e,r,n,i,o=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=0<o.length&&void 0!==o[0]?o[0]:{},r=1<o.length&&void 0!==o[1]?o[1]:"观看端",t.next=4,u(e);case 4:return n=t.sent,i=(n.data.list||[]).map(function(t){var e,n;return t.data.text_content&&(t.data.text_content=(e=t.data.text_content,e=H(e),n="",e.forEach(function(t){t="text"===t.msgType?t.msgCont:'<img width="24" height="24" style="vertical-align:text-bottom;" src="'.concat(t.msgImage,'"/>');n+=t}),n)),t.data.image_urls&&c(t.data.image_urls),t.context&&Array.isArray(t.context.at_list)&&t.context.at_list.length&&t.data.text_content&&(t.context.at_list=s(t,t.context.at_list),t.context.atList=t.context.at_list),l(t,r)}).reduce(function(t,e){var n=e.showTime;return t.some(function(t){return t.showTime===n})?t.push(f(f({},e),{},{showTime:""})):t.push(e),t},[]).reverse().filter(function(t){return!["customPraise"].includes(t.type)}),["观看端"].includes(r)&&i.forEach(function(t,e){0!==e&&i[e-1].sendTime.slice(0,13)===t.sendTime.slice(0,13)&&(t.showTime="")}),(e=a.chatList).unshift.apply(e,v(i)),t.abrupt("return",{backData:n,list:i,chatList:a.chatList,imgUrls:a.imgUrls||[]});case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),u=function(t){var e={room_id:n,pos:a.page*a.limit,limit:a.limit};return T({url:"/v3/interacts/chat/get-list",type:"POST",data:Object.assign({},e,t)})},c=function(t){var e;(e=a.imgUrls).push.apply(e,v(t))},s=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"观看端";return["观看端"].includes(n)?t.map(function(t){return e.data.text_content=e.data.text_content.replace("***".concat(t.nick_name),"@".concat(t.nick_name)),t}):["h5"].includes(n)?t.map(function(t){return 0<=e.data.text_content.indexOf("***")?e.data.text_content=e.data.text_content.replace("***".concat(t.nick_name),"<span style='color:#4da1ff;float:left'>@".concat(t.nick_name," &nbsp;</span> ")):e.data.text_content=e.data.text_content.replace("@".concat(t.nick_name),"<span style='color:#4da1ff;float:left'>@".concat(t.nick_name," &nbsp;</span> ")),t}):void 0},l=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n={};["观看端","发起端"].includes(e)&&(n={type:t.data.type,avatar:t.avatar||a.defaultAvatar,sendId:t.sender_id,showTime:t.showTime,nickName:t.nickname,roleName:t.role_name,sendTime:t.date_time,content:t.data,replyMsg:t.context.reply_msg,atList:t.context.atList,msgId:t.msg_id,channel:t.channel_id,isHistoryMsg:!0},["发起端"].includes(e)&&""===n.avatar&&(n.avatar="https://cnstatic01.e.vhall.com/3rdlibs/vhall-static/img/default_avatar.png")),["h5"].includes(e)&&(n={type:t.data.type,avatar:t.avatar||a.defaultAvatar,sendId:t.sender_id,showTime:t.show_time,nickName:t.nickname,roleName:t.role_name,sendTime:t.date_time,content:t.data,context:t.context,replyMsg:t.context.reply_msg,atList:t.context.at_list});n=new q(n,e);return t.data.event_type&&(n=f(f({},n),{},{type:t.data.event_type,event_type:t.data.event_type,content:{source_status:t.data.source_status,gift_name:t.data.gift_name,gift_url:t.data.gift_url}}),["观看端"].includes(e)&&(n.nickName=8<t.nickname.length?t.nickname.substr(0,8)+"...":t.nickname,n.interactToolsStatus=!0)),n},e={state:a,setState:function(t,e){a[t]=e},getHistoryMsg:e,clearHistoryMsg:function(){a.chatList.splice(0,a.chatList.length)},sendMsg:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t.inputValue,t.needFilter;var e=t.data,n=void 0===e?{}:e,t=t.context,r=void 0===t?{}:t;return new Promise(function(t,e){i.sendChatMsg(n,r),t()})},fetchHistoryData:u,setKeywordList:function(){a.keywordList=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]},checkHasKeyword:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=1<arguments.length?arguments[1]:void 0,n=!0;return n=t&&a.keywordList.length?!a.keywordList.some(function(t){return e.includes(t.name)}):n}};return h.set("chatServer",e),e},t.useDesktopShareServer=function(){var r={localDesktopStreamId:""},i=h.get("interactiveServer");return{state:r,browserDetection:function(){var t=navigator.userAgent,e=t.match(/chrome\/([\d\.]+)/i),n=e?e[1]:0,r=t.match(/Version\/([\d.]+).*Safari/),t=r?r[1].replace(/\./g,""):0;return{isNotSupport:!n&&(!t||Number(t)<1304),needInstallPlugin:Number(n)<74,chromeTest:e,chromeVersion:n,safariTest:r,safariVersion:t}},shareScreenCheck:function(){return new Promise(function(e,n){i.checkSystemRequirements().then(function(t){console.log("result",t,t.result,"detail",t.detail),!t.result&&!t.detail.isScreenShareSupported||0<navigator.userAgent.indexOf("Firefox")?n(!1):e(!0)})})},startShareScreen:function(t){var e=h.get("roomBaseServer").state,t={videoNode:t.videoNode,profile:t.profile,audio:!1,speaker:!0},e={videoDevice:"desktopScreen",attributes:JSON.stringify({nickName:e.watchInitData.join_info.nickname,role:e.watchInitData.join_info.role_name})};return i.createLocaldesktopStream(t,e)},publishDesktopShareStream:function(n){return new Promise(function(e,t){i.publishStream({streamId:n}).then(function(t){r.localDesktopStreamId=n,e(t)}).catch(t)})},stopShareScreen:function(t){return i.unpublishStream(t||r.localDesktopStreamId)}}},t.useDocServer=function(){function t(t){return r.docInstance.getVodAllCids(t)}var r={docInstance:null},e=function(){var e=d(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.docInstance.getContainerInfo(e));case 1:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}();return a(e={state:r,init:function(t){var e=h.get("roomInitGroupServer").state;return console.log("create doc",e.vhallSaasInstance.createDoc),e.vhallSaasInstance.createDoc(t).then(function(t){return r.docInstance=t}).catch(function(t){return t})},on:function(t,e){r.docInstance&&r.docInstance.$on(t,e)},destroy:function(t){return r.docInstance.destroy(t)},getVodAllCids:t,createBoard:function(t){return r.docInstance.createBoard(t)},createDocument:function(t){return r.docInstance.createDocument(t)},selectContainer:function(t){return console.log("select container:",t),r.docInstance.selectContainer(t)},getContainerInfo:e,destroyContainer:function(t){return r.docInstance.destroyContainer(t)}},"getVodAllCids",t),a(e,"setRemoteData",function(t){return r.docInstance.setRemoteData(t)}),a(e,"zoomIn",function(){return r.docInstance.zoomIn()}),a(e,"zoomOut",function(){return r.docInstance.zoomOut()}),a(e,"zoomReset",function(){return r.docInstance.zoomReset()}),a(e,"move",function(){return r.docInstance.move()}),a(e,"prevStep",function(){return r.docInstance.prevStep()}),a(e,"nextStep",function(){return r.docInstance.nextStep()}),a(e,"setPlayMode",function(t){return r.docInstance.setPlayMode(t)}),a(e,"setSize",function(t,e,n){return r.docInstance.setSize(t,e,n)}),a(e,"createUUID",function(t){return r.docInstance.createUUID(t)}),a(e,"setControlStyle",function(t){return r.docInstance.setControlStyle(t)}),a(e,"gotoPage",function(t){return r.docInstance.gotoPage(t)}),a(e,"cancelZoom",function(){return r.docInstance.cancelZoom()}),a(e,"switchOnContainer",function(t){return r.docInstance.switchOnContainer(t)}),a(e,"switchOffContainer",function(t){return r.docInstance.switchOffContainer(t)}),a(e,"resetContainer",function(){return r.docInstance.resetContainer()}),a(e,"setPen",function(t){return r.docInstance.setPen(t)}),a(e,"setEraser",function(t){return r.docInstance.setEraser(t)}),a(e,"setStroke",function(t){return r.docInstance.setStroke(t)}),a(e,"setStrokeWidth",function(t){return r.docInstance.setStrokeWidth(t)}),a(e,"setSquare",function(t){return r.docInstance.setSquare(t)}),a(e,"setCircle",function(t){return r.docInstance.setCircle(t)}),a(e,"setSingleArrow",function(t){return r.docInstance.setSingleArrow(t)}),a(e,"setDoubleArrow",function(t){return r.docInstance.setDoubleArrow(t)}),a(e,"setIsoscelesTriangle",function(t){return r.docInstance.setIsoscelesTriangle(t)}),a(e,"clear",function(){return r.docInstance.clear()}),a(e,"cancelDrawable",function(){return r.docInstance.cancelDrawable()}),a(e,"setHighlighters",function(){return r.docInstance.setHighlighters()}),a(e,"setText",function(t){return r.docInstance.setText(t)}),a(e,"loadDoc",function(t){return r.docInstance.loadDoc(t)}),a(e,"start",function(t,e){return r.docInstance.start(t,e)}),a(e,"republish",function(){return r.docInstance.republish()}),a(e,"setRole",function(t){return r.docInstance.setRole(t)}),a(e,"setAccountId",function(t){return r.docInstance.setAccountId(t)}),a(e,"setEditable",function(t){return r.docInstance.setEditable(t)}),a(e,"getThumbnailList",function(t){return r.docInstance.getThumbnailList(t)}),a(e,"getAllDocList",function(t){return N.getAllDocList(t)}),a(e,"getWebinarDocList",function(t){return N.getWebinarDocList(t)}),a(e,"getDocDetail",function(t){return N.getDocDetail(t)}),a(e,"syncDoc",function(t){return N.syncDoc(t)}),a(e,"delDocList",function(t){return N.delDocList(t)}),e},t.useGroupDiscussionServer=function(){return{getGroupJoinChangeInfo:function(){var e=d(regeneratorRuntime.mark(function t(e){var n,r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.get("roomBaseServer"),i=n.state.groupInitData,r=JSON.parse(JSON.stringify(i)),console.log("domain -------- oldGroupInitData",r),!r.isInGroup&&-1<e.indexOf(0))return t.next=7,n.getGroupInitData();t.next=10;break;case 7:return i=n.state.groupInitData,console.log("domain -------- groupInitData",i),t.abrupt("return",{isNeedCare:i.isInGroup,from:0,to:i.group_id});case 10:if(r.isInGroup&&-1<e.indexOf(Number(r.group_id)))return t.next=13,n.getGroupInitData();t.next=18;break;case 13:if(o=n.state.groupInitData,console.log("domain -------- groupInitData",o),o.isInGroup){t.next=17;break}return t.abrupt("return",{isNeedCare:!0,from:r.group_id,to:0});case 17:return t.abrupt("return",{isNeedCare:r.group_id!==o.group_id,from:r.group_id,to:o.group_id});case 18:return t.abrupt("return",{isNeedCare:!1,from:r.isInGroup?r.group_id:0,to:r.isInGroup?r.group_id:0});case 19:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),sendMainRoomJoinChangeMsg:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isJoinMainRoom:!1,isBanned:!1},e=h.get("roomBaseServer"),n=h.get("msgServer"),r=e.state.watchInitData,e=n.state.msgInstance,n=m(),t={type:"main_room_join_change",nickname:r.join_info.nickname,accountId:r.join_info.third_party_user_id,isJoinMainRoom:t.isJoinMainRoom,role_name:r.join_info.role_name,device_type:n?"2":"1",isBanned:t.isBanned};e&&e.emitRoomMsg(t)}}},t.useInsertFileServer=function(){var t,i=this,c={localInsertStream:null,isChrome88:(t=/Chrome\/(\d{2})[.\d]+\sSafari\/[.\d]+$/gi.exec(navigator.userAgent))&&0<t.length&&87<t[1]},n=h.get("interactiveServer"),e=function(){c._videoElement||(c._videoElement=document.createElement("video"),c._videoElement.setAttribute("width","100%"),c._videoElement.setAttribute("height","100%"));var t=c._videoElement,e=document.createElement("canvas"),n=e.getContext("2d");function r(){n.drawImage(t,0,0,e.width,e.height)}c._canvasInterval&&clearInterval(c._canvasInterval),e.width=t.videoWidth,e.height=t.videoHeight,r(),c._canvasInterval=setInterval(r,40);var i=e.captureStream();return{audioTrack:t.captureStream().getAudioTracks()[0],videoTrack:i.getVideoTracks()[0]}},r=function(){var t=c._videoElement;if(t.captureStream)return!!(t=t.captureStream())&&(!(t.getTracks().length<1)&&t)},o=function(){return(c.isChrome88&&!c._isAudio?e:r)()};return{state:c,getInsertFileList:function(){return x.insertFile.getInsertFileList(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},deleteInsertFile:function(){return x.insertFile.deleteInsertFile(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},isCanUseCaptureStream:function(){return"function"==typeof document.createElement("video").captureStream},selectLocalFile:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(t){},n="video/mp4,video/webm,audio/ogg";1==h.get("roomBaseServer").state.watchInitData.webinar.mode&&(n="audio/ogg"),n={accept:n},e=t,(t=document.createElement("input")).setAttribute("id","file"),t.setAttribute("type","file"),t.setAttribute("name","file"),t.setAttribute("style","height:0px; position: absolute;"),t.setAttribute("accept",n.accept),document.body.appendChild(t),t.value,t.click(),t.addEventListener("change",function(t){e&&e(t),document.body.removeChild(this)})},createLocalVideoElement:function(a){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(e,n){c._isAudio=a.type.includes("ogg");var r=document.createElement("video");(c._videoElement=r).setAttribute("width","100%"),r.setAttribute("height","100%");var t=window.URL||window.webkitURL,i=t.createObjectURL(a);r.src=i,r.onload=function(){t.revokeObjectURL(i)};var o=document.getElementById(u.el);o.innerHTML="",o.appendChild(r),r.addEventListener("canplay",function(t){setTimeout(function(){console.log(r.videoHeight,r.videoWidth,"分辨率",720<r.videoHeight||1280<r.videoWidth),720<r.videoHeight||1281<r.videoWidth?n({msg:"视频分辨率过高，请打开分辨率为1280*720以下的视频"}):e(r)},100)})})},createLocalInsertStream:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=o(),n=h.get("roomBaseServer").state,n={videoNode:t.videoNode,audio:!1,video:!1,profile:VhallRTC.RTC_VIDEO_PROFILE_1080P_16x9_H,attributes:JSON.stringify({role:n.watchInitData.join_info.role_name,nickname:n.watchInitData.join_info.nickname,stream_type:4,has_video:c._isAudio?0:1}),streamType:4},n=c.isChrome88&&!c._isAudio?f(f({},n),{},{audioTrack:e.audioTrack,videoTrack:e.videoTrack}):f(f({},n),{},{mixOption:{mixVideo:!c._isAudio,mixAudio:!0},hasInsertedStream:!0,insertedStream:e}),e=h.get("interactiveServer");return console.log("interactiveServer",e),e.createLocalStream(n)},publishInsertStream:function(n){var r=h.get("interactiveServer");return new Promise(function(e,t){r.publishStream({streamId:n.streamId}).then(function(t){c._LoclaStreamId=t.streamId,e(t)}).catch(t)})},stopPublishInsertStream:function(r){return new Promise(function(e,t){var n=h.get("interactiveServer");console.log("stopPublishInsertStream",r),n.unpublishStream(r||i._LoclaStreamId).then(function(t){c._LoclaStreamId=null,e(t)}).catch(t)})},subscribeInsertStream:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return h.get("interactiveServer").subscribeStream(t)},unsubscribeInsertStream:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return h.get("interactiveServer").unSubscribeStream(t)},onInsertFileStreamAdd:function(e){n.on("interactive_REMOTESTREAM_ADD",function(t){t.data.attributes=JSON.parse(t.data.attributes),4!=t.data.attributes.stream_type&&4!=t.data.streamType||e(t)})},onInsertFileStreamDelete:function(e){n.on("interactive_REMOTESTREAM_REMOVED",function(t){e(t)})},onInsertFileStreamFaild:function(e){n.on("interactive_REMOTESTREAM_FAILED",function(t){e(t)})},setExistVideoElement:function(t){c._videoElement=t,c._isAudio=t.isAudio}}},t.useInteractiveServer=M,t.useMediaCheckServer=function(){function t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};n.videoNode=t.videoNode||"vh-device-check-video",n.selectedVideoDeviceId=void 0===t.selectedVideoDeviceId?t.selectedVideoDeviceId:"",n.localStreamId=void 0===t.localStreamId?t.localStreamId:""}var n={videoNode:"vh-device-check-video",selectedVideoDeviceId:"",localStreamId:""};return t(),{state:n,init:t,setVideoNode:function(t){n.videoNode=t},setSelectedVideoDeviceId:function(t){n.selectedVideoDeviceId=t},startPreviewVideo:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e={videoNode:n.videoNode,audio:!1,videoDevice:n.selectedVideoDeviceId,profile:VhallRTC.RTC_VIDEO_PROFILE_240P_16x9_M},r=Object.assign(f({},e),f({},t));return new Promise(function(e,n){window.VhallRTC.startPreview(r,function(t){e(t)},function(t){n(t)})})},stopPreviewVideo:function(t){var r=t||n.localStreamId;return new Promise(function(e,n){window.VhallRTC.stopPreview({streamId:r},function(t){e(t)},function(t){n(t)})})},getDevices:window.VhallRTC.getDevices,getVideoConstraints:window.VhallRTC.getVideoConstraints}},t.useMicServer=j,t.useMsgServer=y,t.useNoticeServer=function(){var r={noticeList:[],pageInfo:{pos:0,limit:10,pageNum:1},totalPages:1,total:0},t=h.get("roomBaseServer").state.watchInitData;function i(t){return T({url:"/v3/interacts/chat/get-announcement-list",type:"POST",data:t})}return t.roomId,t.channelId,{state:r,sendNotice:function(){return T({url:"/v3/interacts/chat/send-notice-message",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},getNoticeList:function(t){var e=t.flag,n=void 0!==e&&e,t=t.params,t=void 0===t?{}:t;return n?(r.pageInfo.limit=t.limit,r.pageInfo.pos=t.pos,r.pageInfo.pageNum=t.pageNum):(r.noticeList=[],r.pageInfo={pos:0,limit:10,pageNum:1},r.totalPages=1,r.total=0),i(t).then(function(t){var e;return 200==t.code&&t.data&&(r.total=t.data.total,n?(e=r.noticeList).push.apply(e,v(t.data.list)):r.noticeList=t.data.list,r.totalPages=Math.ceil(t.data.total/r.pageInfo.limit)),{backData:t,state:r}})},fetchNoticeList:i}},t.usePlayerServer=function(){var n={playerInstance:null,isPlaying:!1,markPoints:[],type:"live",voice:60};return{state:n,setType:function(){n.type=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"live"},init:function(t){var e=h.get("roomInitGroupServer");return(e?e.state.vhallSaasInstance:new window.VhallSaasSDK).createPlayer(t).then(function(t){return n.playerInstance=t,n.markPoints=n.playerInstance.markPoints,!0})},on:function(t,e){n.playerInstance.$on(t,e)},emit:function(t,e){n.playerInstance.$emit(t,e)},destroy:function(){},play:function(){return n.playerInstance.play()},pause:function(){return n.playerInstance.pause()},isPause:function(){return n.playerInstance.isPause()},getQualitys:function(){return n.playerInstance.getQualitys()},getCurrentQuality:function(){return n.playerInstance.getCurrentQuality()},setQuality:function(){return n.playerInstance.setQuality()},enterFullScreen:function(){return n.playerInstance.enterFullScreen()},exitFullScreen:function(){return n.playerInstance.exitFullScreen()},setMute:function(){return n.playerInstance.setMute()},getVolume:function(){return n.playerInstance.getVolume()},setVolume:function(t){return n.voice=t,n.playerInstance.setVolume(t)},getDuration:function(){return n.playerInstance.getDuration(0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){})},getCurrentTime:function(){return n.playerInstance.getCurrentTime()},setCurrentTime:function(t){return n.playerInstance.setCurrentTime(t)},getUsableSpeed:function(){return n.playerInstance.getUsableSpeed()},setPlaySpeed:function(t){return n.playerInstance.setPlaySpeed(t)},openControls:function(t){return n.playerInstance.openControls(t)},openUI:function(t){return n.playerInstance.openUI(t)},setResetVideo:function(t){return n.playerInstance.setResetVideo(t)},setBarrageInfo:function(t){return n.playerInstance.setBarrageInfo(t)},addBarrage:function(t){return n.playerInstance.addBarrage(t)},toggleBarrage:function(){return n.playerInstance.toggleBarrage()},openBarrage:function(){return n.playerInstance.toggleBarrage(!0)},closeBarrage:function(){return n.playerInstance.toggleBarrage(!1)},clearBarrage:function(){return n.playerInstance.clearBarrage()},toggleSubtitle:function(){return n.playerInstance.toggleSubtitle()}}},t.useRoomBaseServer=V,t.useRoomInitGroupServer=function(){var i={bizId:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).biz_id||2,vhallSaasInstance:null,live_token:null},o=V(),e=y(),t=M(),n=j();function a(t){k(t.token,t.liveToken),t.requestHeaders&&E(t.requestHeaders)}function u(){return new Promise(function(t,e){i.vhallSaasInstance=new window.VhallSaasSDK,h.set("roomInitGroupServer",s),t()})}h.set("roomBaseServer",o),h.set("msgServer",e),h.set("interactiveServer",t),h.set("micServer",n);var r=function(){var t=d(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.destroy(),t.next=3,e.init();case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),c=function(){var t=d(regeneratorRuntime.mark(function t(){var e,n,r=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=0<r.length&&void 0!==r[0]?r[0]:{},t.next=3,u();case 3:return n={clientType:"send",development:!0,requestHeaders:{platform:7}},o.setClientType("send"),e.liveToken&&(i.live_token=e.liveToken),(n=g.recursive({},n,e)).baseUrl||(n.baseUrl=I),a(n),t.next=11,o.init(n);case 11:return 6===o.state.watchInitData.webinar.mode&&o.setGroupType(!0),t.next=14,o.getConfigList();case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),n=function(){var t=d(regeneratorRuntime.mark(function t(){var e,n,r=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=0<r.length&&void 0!==r[0]?r[0]:{},u(),e={clientType:"receive",development:!0,requestHeaders:{platform:7},receiveType:"standard"},o.setClientType("receive"),(n=g.recursive({},e,n)).baseUrl||(n.baseUrl=I),a(n),t.next=9,o.init(n);case 9:if(6===o.state.watchInitData.webinar.mode&&1==o.state.watchInitData.webinar.type)return o.setGroupType(!0),t.next=13,o.getGroupInitData();t.next=13;break;case 13:return t.next=15,o.getConfigList();case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),s={state:i,roomBaseServer:o,msgServer:e,interactiveServer:t,reload:r,initSendLive:c,initReceiveLive:n};return s},t.useUserServer=function(){return{state:{},loginInfo:function(t){return x.user.loginInfo(t)},callbackUserInfo:function(t){return x.user.callbackUserInfo(t)},register:function(t){return x.user.register(t)},codeCheck:function(t){return x.user.codeCheck(t)},resetPassword:function(t){return x.user.resetPassword(t)}}},t.useVirtualAudienceServer=function(){var e={preson:{pv:"",basePv:"",baseTime:"",onlineNum:"",baseOnlineNum:""},addCount:""};return{state:e,virtualClientStart:function(t){return x.virtualClient.virtualClientStart(t)},virtualAccumulation:function(t){return x.virtualClient.virtualAccumulation(t)},virtualClientGet:function(t){t=x.virtualClient.virtualClientGet(t);return t.then(function(t){console.log("请求成功！！！！！"),e.preson.pv=t.data.pv,e.preson.basePv=t.data.base_pv,e.preson.baseTime=t.data.base_time,e.addCount=t.data.base_time,e.preson.onlineNum=t.data.online,e.preson.baseOnlineNum=t.data.base_online}),t}}},t.userMemberServer=function(){function e(){var e=[],n=[],r=[],i=[],o=[],a=[];return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){switch(Number(t.role_name)){case 1:e.push(t);break;case 2:(t.is_speak?o:a).push(t);break;case 3:i.push(t);break;case 4:(t.is_speak?n:r).push(t);break;default:console.error("角色未定义")}}),200<a.length&&(a=a.slice(-200)),e.concat(n,r,i,o,a)}function t(){return T({url:"/v3/interacts/chat-user/get-online-list",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}function n(){return T({url:"/v3/interacts/chat-user/set-kicked",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}function r(){return T({url:"/v3/interacts/chat-user/set-banned",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}var i={onlineUsers:[],applyUsers:[],isRefresh:!1,totalNum:0,page:1,raiseHandTip:!1};return{state:i,setState:function(t,e){i[t]=e},getOnlineUserList:function(){return t(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).then(function(t){return console.warn("当前在线人员列表",t),t&&[200,"200"].includes(t.code)&&(i.isRefesh&&(i.onlineUsers=e(t.data.list),i.isRefesh=!1,console.log(">>>>>>aaaa2",i.applyUsers),i.applyUsers.forEach(function(e){i.onlineUsers.forEach(function(t){e.accountId==t.accountId&&(t.isApply=!0)})})),i.isRefesh||0!==t.data.list.length||i.page--,i.totalNum=t.data.total),[200,"200"].includes(t.code)||i.page--,t})},getMutedUserList:function(){return T({url:"/v3/interacts/chat-user/get-banned-list",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},getKickedUserList:function(){return T({url:"/v3/interacts/chat-user/get-kicked-list",type:"POST",data:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})},mutedUser:function(){return r(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).then(function(t){return t})},kickedUser:function(){return n(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).then(function(t){return t})}}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=vhall-saas-domain.js.map
